{"version":3,"file":"ProductList-BPpyvonA.js","sources":["../../src/components/ProductLogs.tsx","../../src/components/HighlightText.tsx","../../src/hooks/use-mobile.tsx","../../src/components/ResponsiveWrapper.tsx","../../src/components/ProductCards.tsx","../../src/pages/Products/ProductList.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport DatabaseService from '@/services/databaseService';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle } from\n'@/components/ui/dialog';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Badge } from '@/components/ui/badge';\nimport { toast } from '@/hooks/use-toast';\nimport { Calendar, TrendingUp, DollarSign, Package, ArrowRight } from 'lucide-react';\n\ninterface ProductLog {\n  ID: number;\n  product_id: number;\n  field_name: string;\n  old_value: string;\n  new_value: string;\n  change_date: string;\n  changed_by: number;\n}\n\ninterface ProductLogsProps {\n  isOpen: boolean;\n  onClose: () => void;\n  productId: number;\n  productName: string;\n}\n\nconst ProductLogs: React.FC<ProductLogsProps> = ({ isOpen, onClose, productId, productName }) => {\n  const [logs, setLogs] = useState<ProductLog[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (isOpen && productId) {\n      loadProductLogs();\n    }\n  }, [isOpen, productId]);\n\n  const loadProductLogs = async () => {\n    try {\n      setLoading(true);\n      console.log('Loading product logs for product ID:', productId);\n\n      const { data, error } = await DatabaseService.tablePage('11756', {\n        PageNo: 1,\n        PageSize: 100,\n        OrderByField: 'change_date',\n        IsAsc: false,\n        Filters: [\n        { name: 'product_id', op: 'Equal', value: productId }]\n\n      });\n\n      if (error) {\n        console.error('API error loading logs:', error);\n        throw error;\n      }\n\n      console.log('Loaded logs:', data?.List || []);\n      setLogs(data?.List || []);\n    } catch (error) {\n      console.error('Error loading product logs:', error);\n      toast({\n        title: \"Error\",\n        description: `Failed to load product change logs: ${error}`,\n        variant: \"destructive\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    if (!dateString) return '-';\n    try {\n      return new Date(dateString).toLocaleString();\n    } catch {\n      return '-';\n    }\n  };\n\n  const formatValue = (fieldName: string, value: string) => {\n    if (!value || value === '') return '-';\n\n    // Format price fields with currency\n    if (fieldName.includes('price') || fieldName === 'profit_margin') {\n      const numValue = parseFloat(value);\n      if (!isNaN(numValue)) {\n        return `$${numValue.toFixed(2)}`;\n      }\n    }\n\n    // Format date fields\n    if (fieldName.includes('date')) {\n      try {\n        return new Date(value).toLocaleDateString();\n      } catch {\n        return value;\n      }\n    }\n\n    return value;\n  };\n\n  const getFieldIcon = (fieldName: string) => {\n    switch (fieldName) {\n      case 'last_shopping_date':\n        return <Calendar className=\"w-4 h-4\" data-id=\"hc2kwpyda\" data-path=\"src/components/ProductLogs.tsx\" />;\n      case 'case_price':\n      case 'unit_price':\n      case 'retail_price':\n        return <DollarSign className=\"w-4 h-4\" data-id=\"cl9g91i3q\" data-path=\"src/components/ProductLogs.tsx\" />;\n      case 'unit_per_case':\n        return <Package className=\"w-4 h-4\" data-id=\"4znreyhu3\" data-path=\"src/components/ProductLogs.tsx\" />;\n      case 'profit_margin':\n        return <TrendingUp className=\"w-4 h-4\" data-id=\"xeuod0e31\" data-path=\"src/components/ProductLogs.tsx\" />;\n      default:\n        return null;\n    }\n  };\n\n  const getFieldDisplayName = (fieldName: string) => {\n    switch (fieldName) {\n      case 'last_shopping_date':\n        return 'Last Shopping Date';\n      case 'case_price':\n        return 'Case Price';\n      case 'unit_per_case':\n        return 'Unit Per Case';\n      case 'unit_price':\n        return 'Unit Price';\n      case 'retail_price':\n        return 'Retail Price';\n      case 'profit_margin':\n        return 'Profit Margin';\n      default:\n        return fieldName.replace('_', ' ').replace(/\\b\\w/g, (l) => l.toUpperCase());\n    }\n  };\n\n  const getFieldColor = (fieldName: string) => {\n    switch (fieldName) {\n      case 'last_shopping_date':\n        return 'bg-blue-100 text-blue-800';\n      case 'case_price':\n        return 'bg-green-100 text-green-800';\n      case 'unit_per_case':\n        return 'bg-purple-100 text-purple-800';\n      case 'unit_price':\n        return 'bg-orange-100 text-orange-800';\n      case 'retail_price':\n        return 'bg-red-100 text-red-800';\n      case 'profit_margin':\n        return 'bg-yellow-100 text-yellow-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose} data-id=\"riru1v0g2\" data-path=\"src/components/ProductLogs.tsx\">\n      <DialogContent className=\"max-w-4xl max-h-[80vh] overflow-y-auto\" data-id=\"t07tjcdcm\" data-path=\"src/components/ProductLogs.tsx\">\n        <DialogHeader data-id=\"zecicbo1p\" data-path=\"src/components/ProductLogs.tsx\">\n          <DialogTitle className=\"flex items-center space-x-2\" data-id=\"2kw0lyje1\" data-path=\"src/components/ProductLogs.tsx\">\n            <Package className=\"w-5 h-5\" data-id=\"0tqm973z6\" data-path=\"src/components/ProductLogs.tsx\" />\n            <span data-id=\"6s0lx11jg\" data-path=\"src/components/ProductLogs.tsx\">Product Change Logs</span>\n          </DialogTitle>\n          <DialogDescription data-id=\"n6ihqul3s\" data-path=\"src/components/ProductLogs.tsx\">\n            Change history for: <span className=\"font-medium\" data-id=\"cleq4da3a\" data-path=\"src/components/ProductLogs.tsx\">{productName}</span>\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"mt-4\" data-id=\"sw9xfs0so\" data-path=\"src/components/ProductLogs.tsx\">\n          {loading ?\n          <div className=\"space-y-4\" data-id=\"5jcpjg805\" data-path=\"src/components/ProductLogs.tsx\">\n              {[...Array(5)].map((_, i) =>\n            <div key={i} className=\"h-16 bg-gray-100 rounded animate-pulse\" data-id=\"g970bd1vj\" data-path=\"src/components/ProductLogs.tsx\"></div>\n            )}\n            </div> :\n          logs.length === 0 ?\n          <div className=\"text-center py-8\" data-id=\"7yugrxnu6\" data-path=\"src/components/ProductLogs.tsx\">\n              <Package className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" data-id=\"cdb8qxkju\" data-path=\"src/components/ProductLogs.tsx\" />\n              <p className=\"text-gray-500\" data-id=\"u8sg253u8\" data-path=\"src/components/ProductLogs.tsx\">No change logs found for this product</p>\n              <p className=\"text-sm text-gray-400 mt-2\" data-id=\"jq8ddkkhp\" data-path=\"src/components/ProductLogs.tsx\">\n                Changes will appear here when product information is updated\n              </p>\n            </div> :\n\n          <div className=\"border rounded-lg overflow-hidden\" data-id=\"v396cnny9\" data-path=\"src/components/ProductLogs.tsx\">\n              <Table data-id=\"i7eusq3he\" data-path=\"src/components/ProductLogs.tsx\">\n                <TableHeader data-id=\"0irube5by\" data-path=\"src/components/ProductLogs.tsx\">\n                  <TableRow data-id=\"8z8htwwqs\" data-path=\"src/components/ProductLogs.tsx\">\n                    <TableHead data-id=\"3p0gnpe49\" data-path=\"src/components/ProductLogs.tsx\">Field</TableHead>\n                    <TableHead data-id=\"jre7lj1as\" data-path=\"src/components/ProductLogs.tsx\">Change Date</TableHead>\n                    <TableHead data-id=\"go1ih1wcq\" data-path=\"src/components/ProductLogs.tsx\">Old Value</TableHead>\n                    <TableHead className=\"text-center\" data-id=\"o6h79kyqt\" data-path=\"src/components/ProductLogs.tsx\">â†’</TableHead>\n                    <TableHead data-id=\"sqxw0lg6q\" data-path=\"src/components/ProductLogs.tsx\">New Value</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody data-id=\"710opnlq5\" data-path=\"src/components/ProductLogs.tsx\">\n                  {logs.map((log) =>\n                <TableRow key={log.ID} data-id=\"iigia2ugp\" data-path=\"src/components/ProductLogs.tsx\">\n                      <TableCell data-id=\"th8b3xny0\" data-path=\"src/components/ProductLogs.tsx\">\n                        <div className=\"flex items-center space-x-2\" data-id=\"j14l1bm8r\" data-path=\"src/components/ProductLogs.tsx\">\n                          {getFieldIcon(log.field_name)}\n                          <Badge className={getFieldColor(log.field_name)} data-id=\"6muz1l9ue\" data-path=\"src/components/ProductLogs.tsx\">\n                            {getFieldDisplayName(log.field_name)}\n                          </Badge>\n                        </div>\n                      </TableCell>\n                      <TableCell className=\"text-sm text-gray-600\" data-id=\"dvj4xrm9w\" data-path=\"src/components/ProductLogs.tsx\">\n                        {formatDate(log.change_date)}\n                      </TableCell>\n                      <TableCell data-id=\"azykl7sv0\" data-path=\"src/components/ProductLogs.tsx\">\n                        <span className=\"px-2 py-1 bg-red-50 text-red-700 rounded text-sm\" data-id=\"sdqmonw28\" data-path=\"src/components/ProductLogs.tsx\">\n                          {formatValue(log.field_name, log.old_value)}\n                        </span>\n                      </TableCell>\n                      <TableCell className=\"text-center\" data-id=\"ahuzhn6l6\" data-path=\"src/components/ProductLogs.tsx\">\n                        <ArrowRight className=\"w-4 h-4 text-gray-400\" data-id=\"3c6qzx23v\" data-path=\"src/components/ProductLogs.tsx\" />\n                      </TableCell>\n                      <TableCell data-id=\"t449z8zqe\" data-path=\"src/components/ProductLogs.tsx\">\n                        <span className=\"px-2 py-1 bg-green-50 text-green-700 rounded text-sm\" data-id=\"8v0patywo\" data-path=\"src/components/ProductLogs.tsx\">\n                          {formatValue(log.field_name, log.new_value)}\n                        </span>\n                      </TableCell>\n                    </TableRow>\n                )}\n                </TableBody>\n              </Table>\n            </div>\n          }\n        </div>\n      </DialogContent>\n    </Dialog>);\n\n};\n\nexport default ProductLogs;\n","import React from 'react';\n\ninterface HighlightTextProps {\n  text: string;\n  searchTerms: string[];\n  allMatch: boolean;\n}\n\nconst HighlightText: React.FC<HighlightTextProps> = ({ text, searchTerms, allMatch }) => {\n  if (!searchTerms.length || !text) return <>{text}</>;\n\n  // Create a combined regex for all search terms\n  const escapedTerms = searchTerms.map((term) =>\n  term.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n  );\n  const regex = new RegExp(`(${escapedTerms.join('|')})`, 'gi');\n\n  const parts = text.split(regex);\n\n  return (\n    <>\n      {parts.map((part, index) => {\n        const isMatch = searchTerms.some((term) =>\n        part.toLowerCase() === term.toLowerCase()\n        );\n\n        if (isMatch) {\n          return (\n            <span\n              key={index}\n              className={`font-semibold ${\n              allMatch ? 'bg-green-200 text-green-800' : 'bg-yellow-200 text-yellow-800'}`\n              } data-id=\"tao96ib2x\" data-path=\"src/components/HighlightText.tsx\">\n\n              {part}\n            </span>);\n\n        }\n        return part;\n      })}\n    </>);\n\n};\n\nexport default HighlightText;\n","import * as React from \"react\";\n\n// Device breakpoints\nconst MOBILE_BREAKPOINT = 768;\nconst TABLET_BREAKPOINT = 1024;\nconst DESKTOP_BREAKPOINT = 1280;\n\ninterface DeviceInfo {\n  isMobile: boolean;\n  isTablet: boolean;\n  isDesktop: boolean;\n  screenWidth: number;\n  orientation: 'portrait' | 'landscape';\n  touchDevice: boolean;\n}\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined);\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    };\n    mql.addEventListener(\"change\", onChange);\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    return () => mql.removeEventListener(\"change\", onChange);\n  }, []);\n\n  return !!isMobile;\n}\n\nexport function useDeviceDetection(): DeviceInfo {\n  const [deviceInfo, setDeviceInfo] = React.useState<DeviceInfo>(() => {\n    if (typeof window === 'undefined') {\n      return {\n        isMobile: false,\n        isTablet: false,\n        isDesktop: true,\n        screenWidth: 1920,\n        orientation: 'landscape',\n        touchDevice: false\n      };\n    }\n\n    const width = window.innerWidth;\n    return {\n      isMobile: width < MOBILE_BREAKPOINT,\n      isTablet: width >= MOBILE_BREAKPOINT && width < TABLET_BREAKPOINT,\n      isDesktop: width >= TABLET_BREAKPOINT,\n      screenWidth: width,\n      orientation: window.innerHeight > window.innerWidth ? 'portrait' : 'landscape',\n      touchDevice: 'ontouchstart' in window || navigator.maxTouchPoints > 0\n    };\n  });\n\n  React.useEffect(() => {\n    const updateDeviceInfo = () => {\n      const width = window.innerWidth;\n      const height = window.innerHeight;\n\n      setDeviceInfo({\n        isMobile: width < MOBILE_BREAKPOINT,\n        isTablet: width >= MOBILE_BREAKPOINT && width < TABLET_BREAKPOINT,\n        isDesktop: width >= TABLET_BREAKPOINT,\n        screenWidth: width,\n        orientation: height > width ? 'portrait' : 'landscape',\n        touchDevice: 'ontouchstart' in window || navigator.maxTouchPoints > 0\n      });\n    };\n\n    // Create media queries for different breakpoints\n    const mobileQuery = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);\n    const tabletQuery = window.matchMedia(`(min-width: ${MOBILE_BREAKPOINT}px) and (max-width: ${TABLET_BREAKPOINT - 1}px)`);\n    const orientationQuery = window.matchMedia('(orientation: portrait)');\n\n    // Listen for changes\n    mobileQuery.addEventListener('change', updateDeviceInfo);\n    tabletQuery.addEventListener('change', updateDeviceInfo);\n    orientationQuery.addEventListener('change', updateDeviceInfo);\n    window.addEventListener('resize', updateDeviceInfo);\n\n    // Initial call\n    updateDeviceInfo();\n\n    return () => {\n      mobileQuery.removeEventListener('change', updateDeviceInfo);\n      tabletQuery.removeEventListener('change', updateDeviceInfo);\n      orientationQuery.removeEventListener('change', updateDeviceInfo);\n      window.removeEventListener('resize', updateDeviceInfo);\n    };\n  }, []);\n\n  return deviceInfo;\n}\n\n// Hook for responsive layout decisions\nexport function useResponsiveLayout() {\n  const device = useDeviceDetection();\n\n  return {\n    ...device,\n    showSidebar: device.isDesktop,\n    showBottomNav: device.isMobile,\n    compactHeader: device.isMobile || device.isTablet,\n    stackedLayout: device.isMobile,\n    columnsCount: device.isMobile ? 1 : device.isTablet ? 2 : 3,\n    tableMode: device.isMobile ? 'cards' : 'table',\n    sidebarMode: device.isMobile ? 'overlay' : device.isTablet ? 'mini' : 'full'\n  };\n}\n","import React from 'react';\nimport { useResponsiveLayout } from '@/hooks/use-mobile';\nimport { cn } from '@/lib/utils';\n\ninterface ResponsiveWrapperProps {\n  children: React.ReactNode;\n  className?: string;\n  mobileClassName?: string;\n  tabletClassName?: string;\n  desktopClassName?: string;\n}\n\nexport const ResponsiveWrapper: React.FC<ResponsiveWrapperProps> = ({\n  children,\n  className = '',\n  mobileClassName = '',\n  tabletClassName = '',\n  desktopClassName = ''\n}) => {\n  const responsive = useResponsiveLayout();\n\n  const responsiveClass = cn(\n    className,\n    responsive.isMobile && mobileClassName,\n    responsive.isTablet && tabletClassName,\n    responsive.isDesktop && desktopClassName\n  );\n\n  return (\n    <div className={responsiveClass} data-id=\"madsl6stl\" data-path=\"src/components/ResponsiveWrapper.tsx\">\n      {children}\n    </div>);\n\n};\n\ninterface ResponsiveGridProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const ResponsiveGrid: React.FC<ResponsiveGridProps> = ({\n  children,\n  className = ''\n}) => {\n  const responsive = useResponsiveLayout();\n\n  const gridClass = cn(\n    'grid gap-4',\n    responsive.isMobile && 'grid-cols-1',\n    responsive.isTablet && 'grid-cols-2',\n    responsive.isDesktop && 'grid-cols-3 lg:grid-cols-4',\n    className\n  );\n\n  return (\n    <div className={gridClass} data-id=\"c6p5ab7i7\" data-path=\"src/components/ResponsiveWrapper.tsx\">\n      {children}\n    </div>);\n\n};\n\ninterface ResponsiveTableProps {\n  children: React.ReactNode;\n  className?: string;\n  fallbackComponent?: React.ReactNode;\n}\n\nexport const ResponsiveTable: React.FC<ResponsiveTableProps> = ({\n  children,\n  className = '',\n  fallbackComponent\n}) => {\n  const responsive = useResponsiveLayout();\n\n  if (responsive.isMobile && fallbackComponent) {\n    return <>{fallbackComponent}</>;\n  }\n\n  return (\n    <div className={cn(\n      'overflow-x-auto',\n      responsive.isMobile && 'overflow-x-scroll',\n      className\n    )} data-id=\"9t60y0r9q\" data-path=\"src/components/ResponsiveWrapper.tsx\">\n      {children}\n    </div>);\n\n};\n\ninterface ResponsiveCardGridProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const ResponsiveCardGrid: React.FC<ResponsiveCardGridProps> = ({\n  children,\n  className = ''\n}) => {\n  const responsive = useResponsiveLayout();\n\n  const gridClass = cn(\n    'grid gap-4 sm:gap-6',\n    responsive.isMobile && 'grid-cols-1',\n    responsive.isTablet && 'grid-cols-2',\n    responsive.isDesktop && 'grid-cols-2 lg:grid-cols-3 xl:grid-cols-4',\n    className\n  );\n\n  return (\n    <div className={gridClass} data-id=\"ppqziv3d5\" data-path=\"src/components/ResponsiveWrapper.tsx\">\n      {children}\n    </div>);\n\n};\n\ninterface ResponsiveStackProps {\n  children: React.ReactNode;\n  className?: string;\n  spacing?: 'sm' | 'md' | 'lg';\n}\n\nexport const ResponsiveStack: React.FC<ResponsiveStackProps> = ({\n  children,\n  className = '',\n  spacing = 'md'\n}) => {\n  const responsive = useResponsiveLayout();\n\n  const spacingClass = {\n    sm: 'space-y-2 sm:space-y-3',\n    md: 'space-y-4 sm:space-y-6',\n    lg: 'space-y-6 sm:space-y-8'\n  }[spacing];\n\n  const stackClass = cn(\n    'flex flex-col',\n    spacingClass,\n    responsive.isMobile && 'px-1',\n    className\n  );\n\n  return (\n    <div className={stackClass} data-id=\"t161ssjzg\" data-path=\"src/components/ResponsiveWrapper.tsx\">\n      {children}\n    </div>);\n\n};\n\nexport default ResponsiveWrapper;\n","import React from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { FileText, Save, Trash2, Loader2 } from 'lucide-react';\nimport HighlightText from '@/components/HighlightText';\n\ninterface Product {\n  ID: number;\n  product_name: string;\n  category: string;\n  quantity_in_stock: number;\n  minimum_stock: number;\n  supplier: string;\n  description: string;\n  created_by: number;\n  serial_number: number;\n  weight: number;\n  weight_unit: string;\n  department: string;\n  merchant_id: number;\n  bar_code_case: string;\n  bar_code_unit: string;\n  last_updated_date: string;\n  last_shopping_date: string;\n  case_price: number;\n  unit_per_case: number;\n  unit_price: number;\n  retail_price: number;\n  overdue: boolean;\n}\n\ninterface ProductCardsProps {\n  products: Product[];\n  searchTerm: string;\n  onViewLogs: (id: number, name: string) => void;\n  onSaveProduct: (id: number) => void;\n  onDeleteProduct: (id: number) => void;\n  savingProductId: number | null;\n}\n\nconst ProductCards: React.FC<ProductCardsProps> = ({\n  products,\n  searchTerm,\n  onViewLogs,\n  onSaveProduct,\n  onDeleteProduct,\n  savingProductId\n}) => {\n  const formatDate = (dateString: string) => {\n    if (!dateString) return '-';\n    try {\n      return new Date(dateString).toLocaleDateString();\n    } catch {\n      return '-';\n    }\n  };\n\n  const getSearchData = (text: string) => {\n    if (!searchTerm || !text) {\n      return {\n        keywords: [],\n        allMatch: false,\n        highlightComponent: text\n      };\n    }\n\n    const searchKeywords = searchTerm.toLowerCase().trim().split(/\\s+/).filter((keyword) => keyword.length > 0);\n    const textLower = text.toLowerCase();\n\n    // Check if all keywords are present in this specific text\n    const allMatch = searchKeywords.every((keyword) => textLower.includes(keyword));\n\n    return {\n      keywords: searchKeywords,\n      allMatch,\n      highlightComponent:\n      <HighlightText\n        text={text}\n        searchTerms={searchKeywords}\n        allMatch={allMatch} data-id=\"58g0bt74c\" data-path=\"src/components/ProductCards.tsx\" />\n    };\n  };\n\n  const calculateMargin = (product: Product) => {\n    if (product.unit_price && product.retail_price && product.retail_price > 0) {\n      const margin = (product.retail_price - product.unit_price) / product.retail_price * 100;\n      return {\n        value: margin,\n        variant: margin > 20 ? 'default' : margin > 10 ? 'secondary' : 'destructive'\n      };\n    }\n    return null;\n  };\n\n  return (\n    <div className=\"grid grid-cols-1 gap-4\" data-id=\"vcoqocbmv\" data-path=\"src/components/ProductCards.tsx\">\n      {products.map((product) => {\n        const margin = calculateMargin(product);\n\n        return (\n          <Card key={product.ID} className=\"hover:shadow-md transition-shadow\" data-id=\"tkdth0ury\" data-path=\"src/components/ProductCards.tsx\">\n            <CardHeader className=\"pb-3\" data-id=\"uq7z5v57b\" data-path=\"src/components/ProductCards.tsx\">\n              <div className=\"flex items-start justify-between\" data-id=\"ngqjwvfws\" data-path=\"src/components/ProductCards.tsx\">\n                <div className=\"flex-1 min-w-0\" data-id=\"yui8uv297\" data-path=\"src/components/ProductCards.tsx\">\n                  <CardTitle className=\"text-lg leading-tight\" data-id=\"4gefxa46g\" data-path=\"src/components/ProductCards.tsx\">\n                    {searchTerm ?\n                    getSearchData(product.product_name).highlightComponent :\n                    product.product_name\n                    }\n                  </CardTitle>\n                  <div className=\"flex items-center gap-2 mt-1\" data-id=\"07m0b3qxb\" data-path=\"src/components/ProductCards.tsx\">\n                    <Badge variant=\"outline\" className=\"text-xs\" data-id=\"6igwrok4a\" data-path=\"src/components/ProductCards.tsx\">\n                      #{product.serial_number || '-'}\n                    </Badge>\n                    <Badge variant=\"outline\" className=\"text-xs\" data-id=\"qv4tmx4tv\" data-path=\"src/components/ProductCards.tsx\">\n                      {searchTerm ?\n                      getSearchData(product.department || 'Convenience Store').highlightComponent :\n                      product.department || 'Convenience Store'\n                      }\n                    </Badge>\n                  </div>\n                </div>\n                <div className=\"flex items-center space-x-1 ml-2\" data-id=\"dkhe03wrp\" data-path=\"src/components/ProductCards.tsx\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => onViewLogs(product.ID, product.product_name)}\n                    className=\"p-2\"\n                    title=\"View logs\" data-id=\"eo88gx6p9\" data-path=\"src/components/ProductCards.tsx\">\n\n                    <FileText className=\"w-4 h-4\" data-id=\"23l7w9v0h\" data-path=\"src/components/ProductCards.tsx\" />\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => onSaveProduct(product.ID)}\n                    disabled={savingProductId === product.ID}\n                    className=\"p-2\"\n                    title=\"Save product\" data-id=\"wy9upx6j1\" data-path=\"src/components/ProductCards.tsx\">\n\n                    {savingProductId === product.ID ?\n                    <Loader2 className=\"w-4 h-4 animate-spin\" data-id=\"cpi13a2im\" data-path=\"src/components/ProductCards.tsx\" /> :\n                    <Save className=\"w-4 h-4\" data-id=\"56qwhn9hs\" data-path=\"src/components/ProductCards.tsx\" />\n                    }\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => onDeleteProduct(product.ID)}\n                    className=\"p-2 text-red-600 hover:text-red-700\"\n                    title=\"Delete product\" data-id=\"ll1ytnsax\" data-path=\"src/components/ProductCards.tsx\">\n\n                    <Trash2 className=\"w-4 h-4\" data-id=\"znbcibmod\" data-path=\"src/components/ProductCards.tsx\" />\n                  </Button>\n                </div>\n              </div>\n              {product.description &&\n              <p className=\"text-sm text-gray-600 mt-2 line-clamp-2\" data-id=\"8mdo5s8fb\" data-path=\"src/components/ProductCards.tsx\">\n                  {searchTerm ?\n                getSearchData(product.description).highlightComponent :\n                product.description\n                }\n                </p>\n              }\n            </CardHeader>\n            <CardContent className=\"space-y-3\" data-id=\"w5zeaa2gx\" data-path=\"src/components/ProductCards.tsx\">\n              {/* Pricing Information */}\n              <div className=\"grid grid-cols-2 gap-3 text-sm\" data-id=\"zjkp7xddy\" data-path=\"src/components/ProductCards.tsx\">\n                <div data-id=\"i32gsz0q6\" data-path=\"src/components/ProductCards.tsx\">\n                  <span className=\"text-gray-500\" data-id=\"0h7r2acdd\" data-path=\"src/components/ProductCards.tsx\">Unit Price:</span>\n                  <div className=\"font-medium\" data-id=\"cr4jora7q\" data-path=\"src/components/ProductCards.tsx\">\n                    {product.unit_price ? `$${product.unit_price.toFixed(2)}` : '-'}\n                  </div>\n                </div>\n                <div data-id=\"fb7oysbqc\" data-path=\"src/components/ProductCards.tsx\">\n                  <span className=\"text-gray-500\" data-id=\"lo8tua9hv\" data-path=\"src/components/ProductCards.tsx\">Retail Price:</span>\n                  <div className=\"font-medium\" data-id=\"9u6yh2lg0\" data-path=\"src/components/ProductCards.tsx\">\n                    {product.retail_price ? `$${product.retail_price.toFixed(2)}` : '-'}\n                  </div>\n                </div>\n                <div data-id=\"z8oswopfk\" data-path=\"src/components/ProductCards.tsx\">\n                  <span className=\"text-gray-500\" data-id=\"64ozply7o\" data-path=\"src/components/ProductCards.tsx\">Case Price:</span>\n                  <div className=\"font-medium\" data-id=\"jy4ue1prr\" data-path=\"src/components/ProductCards.tsx\">\n                    {product.case_price ? `$${product.case_price.toFixed(2)}` : '-'}\n                  </div>\n                </div>\n                <div data-id=\"4sl3z79p4\" data-path=\"src/components/ProductCards.tsx\">\n                  <span className=\"text-gray-500\" data-id=\"d846ca4wm\" data-path=\"src/components/ProductCards.tsx\">Profit Margin:</span>\n                  <div className=\"font-medium\" data-id=\"s7kltybae\" data-path=\"src/components/ProductCards.tsx\">\n                    {margin ?\n                    <Badge variant={margin.variant as any} className=\"text-xs\" data-id=\"st1wcyk5n\" data-path=\"src/components/ProductCards.tsx\">\n                        {margin.value.toFixed(1)}%\n                      </Badge> :\n                    '-'}\n                  </div>\n                </div>\n              </div>\n\n              {/* Additional Information */}\n              <div className=\"grid grid-cols-1 gap-2 text-sm border-t pt-3\" data-id=\"8ughceoru\" data-path=\"src/components/ProductCards.tsx\">\n                <div className=\"flex justify-between\" data-id=\"o55w5fzun\" data-path=\"src/components/ProductCards.tsx\">\n                  <span className=\"text-gray-500\" data-id=\"9t7nnwi4o\" data-path=\"src/components/ProductCards.tsx\">Weight:</span>\n                  <span className=\"font-medium\" data-id=\"x66bd4ci2\" data-path=\"src/components/ProductCards.tsx\">\n                    {product.weight && product.weight > 0 ?\n                    `${product.weight} ${product.weight_unit || 'lb'}` :\n                    '-'\n                    }\n                  </span>\n                </div>\n                <div className=\"flex justify-between\" data-id=\"9e15p2e4z\" data-path=\"src/components/ProductCards.tsx\">\n                  <span className=\"text-gray-500\" data-id=\"osmo02jsp\" data-path=\"src/components/ProductCards.tsx\">Supplier:</span>\n                  <span className=\"font-medium truncate ml-2\" data-id=\"pd3k5olyc\" data-path=\"src/components/ProductCards.tsx\">\n                    {searchTerm ?\n                    getSearchData(product.supplier || '-').highlightComponent :\n                    product.supplier || '-'\n                    }\n                  </span>\n                </div>\n                <div className=\"flex justify-between\" data-id=\"o39vnn1ce\" data-path=\"src/components/ProductCards.tsx\">\n                  <span className=\"text-gray-500\" data-id=\"utyht6qtb\" data-path=\"src/components/ProductCards.tsx\">Unit per Case:</span>\n                  <span className=\"font-medium\" data-id=\"3f91uaoh8\" data-path=\"src/components/ProductCards.tsx\">{product.unit_per_case || '-'}</span>\n                </div>\n                <div className=\"flex justify-between\" data-id=\"161xfgys0\" data-path=\"src/components/ProductCards.tsx\">\n                  <span className=\"text-gray-500\" data-id=\"2tbhaxvf4\" data-path=\"src/components/ProductCards.tsx\">Last Updated:</span>\n                  <span className=\"font-medium\" data-id=\"o9pd996us\" data-path=\"src/components/ProductCards.tsx\">{formatDate(product.last_updated_date)}</span>\n                </div>\n                <div className=\"flex justify-between\" data-id=\"bxtiv50ng\" data-path=\"src/components/ProductCards.tsx\">\n                  <span className=\"text-gray-500\" data-id=\"ikluthn8r\" data-path=\"src/components/ProductCards.tsx\">Last Shopping:</span>\n                  <span className=\"font-medium\" data-id=\"oqm9cafl6\" data-path=\"src/components/ProductCards.tsx\">{formatDate(product.last_shopping_date)}</span>\n                </div>\n              </div>\n            </CardContent>\n          </Card>);\n\n      })}\n    </div>);\n\n};\n\nexport default ProductCards;\n","import React, { useState, useEffect, useMemo, useRef, useCallback } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { toast } from '@/hooks/use-toast';\nimport { Plus, Search, Edit, Trash2, Package, FileText, Loader2, X, Save } from 'lucide-react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '@/contexts/AuthContext';\nimport ProductLogs from '@/components/ProductLogs';\nimport HighlightText from '@/components/HighlightText';\nimport { ResponsiveTable, ResponsiveStack } from '@/components/ResponsiveWrapper';\nimport { useResponsiveLayout } from '@/hooks/use-mobile';\nimport ProductCards from '@/components/ProductCards';\nimport { supabase } from '@/lib/supabase';\n\n\ninterface Product {\n  ID: number;\n  product_name: string;\n  category: string;\n  quantity_in_stock: number;\n  minimum_stock: number;\n  supplier: string;\n  description: string;\n  created_by: number;\n  serial_number: number;\n  weight: number;\n  weight_unit: string;\n  department: string;\n  merchant_id: number;\n  bar_code_case: string;\n  bar_code_unit: string;\n  last_updated_date: string;\n  last_shopping_date: string;\n  case_price: number;\n  unit_per_case: number;\n  unit_price: number;\n  retail_price: number;\n  overdue: boolean;\n}\n\nconst ProductList: React.FC = () => {\n  const navigate = useNavigate();\n  const { userProfile } = useAuth();\n  const responsive = useResponsiveLayout();\n\n  const [products, setProducts] = useState<Product[]>([]);\n  const [allProducts, setAllProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [totalCount, setTotalCount] = useState(0);\n  const [logsModalOpen, setLogsModalOpen] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState<{id: number;name: string;} | null>(null);\n  const [debouncedSearchTerm, setDebouncedSearchTerm] = useState('');\n  const [isSearching, setIsSearching] = useState(false);\n  const [hasMoreProducts, setHasMoreProducts] = useState(true);\n  const [isLoadingMore, setIsLoadingMore] = useState(false);\n  const [savingProductId, setSavingProductId] = useState<number | null>(null);\n\n  const pageSize = 50; // Load more products per batch\n  const [loadedProductsCount, setLoadedProductsCount] = useState(pageSize);\n\n  // Ref for the loading trigger element\n  const loadingTriggerRef = useRef<HTMLDivElement>(null);\n\n  // Debounce search term\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedSearchTerm(searchTerm);\n      setLoadedProductsCount(pageSize); // Reset loaded count when searching\n    }, 300);\n\n    return () => clearTimeout(timer);\n  }, [searchTerm, pageSize]);\n\n  // Load all products initially\n  useEffect(() => {\n    loadAllProducts();\n  }, []);\n\n  // Filter and slice products when search term or loaded count changes\n  useEffect(() => {\n    filterAndSliceProducts();\n  }, [debouncedSearchTerm, loadedProductsCount, allProducts]);\n\n  const loadAllProducts = async () => {\n    try {\n      setLoading(true);\n\n      const { data, error } = await supabase\n        .from('products')\n        .select('*')\n        .order('id', { ascending: false })\n        .limit(1000);\n\n      if (error) throw error;\n\n      setAllProducts(data || []);\n    } catch (error) {\n      console.error('Error loading products:', error);\n      toast({\n        title: \"Error\",\n        description: \"Failed to load products\",\n        variant: \"destructive\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filterAndSliceProducts = () => {\n    setIsSearching(!!debouncedSearchTerm);\n\n    let filteredProducts = allProducts;\n\n    // Client-side filtering for keyword matching\n    if (debouncedSearchTerm) {\n      const searchKeywords = debouncedSearchTerm.toLowerCase().trim().split(/\\s+/).filter((keyword) => keyword.length > 0);\n\n      filteredProducts = allProducts.filter((product) => {\n        const searchableText = [\n        product.product_name,\n        product.description,\n        product.category,\n        product.supplier,\n        product.department,\n        product.bar_code_case,\n        product.bar_code_unit,\n        product.serial_number?.toString()].\n        join(' ').toLowerCase();\n\n        // Check if all keywords are present in the searchable text\n        return searchKeywords.every((keyword) => searchableText.includes(keyword));\n      });\n    }\n\n    // Sort by serial number when not searching (show from serial 01)\n    if (!debouncedSearchTerm) {\n      filteredProducts = filteredProducts.sort((a, b) => {\n        const serialA = a.serial_number || 0;\n        const serialB = b.serial_number || 0;\n        return serialA - serialB;\n      });\n    }\n\n    // Slice products based on loaded count for infinite scroll\n    const slicedProducts = filteredProducts.slice(0, loadedProductsCount);\n\n    setProducts(slicedProducts);\n    setTotalCount(filteredProducts.length);\n    setHasMoreProducts(loadedProductsCount < filteredProducts.length);\n  };\n\n  const handleDelete = async (productId: number) => {\n    console.log('handleDelete called for product ID:', productId);\n\n    // Show confirmation dialog\n    const confirmed = confirm('Are you sure you want to delete this product? This action cannot be undone.');\n    console.log('User confirmed deletion:', confirmed);\n\n    if (!confirmed) {\n      console.log('Deletion cancelled by user');\n      return;\n    }\n\n    try {\n      console.log('Attempting to delete product with ID:', productId);\n      const { error } = await supabase\n        .from('products')\n        .delete()\n        .eq('id', productId);\n\n      if (error) {\n        console.error('API returned error:', error);\n        throw error;\n      }\n\n      console.log('Product deleted successfully');\n      toast({\n        title: \"Success\",\n        description: \"Product deleted successfully\"\n      });\n\n      // Reload all products\n      loadAllProducts();\n    } catch (error) {\n      console.error('Error deleting product:', error);\n      toast({\n        title: \"Error\",\n        description: `Failed to delete product: ${error}`,\n        variant: \"destructive\"\n      });\n    }\n  };\n\n  const handleSaveProduct = async (productId: number | null = null) => {\n    console.log('handleSaveProduct called for product ID:', productId);\n\n    if (!hasEditPermission) {\n      toast({\n        title: \"Access Denied\",\n        description: \"You don't have permission to save product information.\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n\n    const isCreating = productId === null;\n    setSavingProductId(productId || -1); // Use -1 for new product creation\n\n    try {\n      if (isCreating) {\n        // Show confirmation dialog for creating new product\n        const confirmed = confirm('Create a new product entry? This will add a new product with default values that you can edit.');\n        if (!confirmed) {\n          console.log('Product creation cancelled by user');\n          setSavingProductId(null);\n          return;\n        }\n\n        // Create a new product with minimal required data\n        // Generate new serial number\n        const { data: serialData } = await supabase\n          .from('products')\n          .select('serial_number')\n          .order('serial_number', { ascending: false })\n          .limit(1);\n\n        const lastSerial = serialData?.[0]?.serial_number || 0;\n        const newSerial = lastSerial + 1;\n\n        const newProductData = {\n          serial_number: newSerial,\n          product_name: `New Product ${newSerial}`,\n          category: 'General',\n          quantity_in_stock: 0,\n          minimum_stock: 0,\n          supplier: '',\n          description: 'Please update this product information',\n          weight: 0,\n          weight_unit: 'lb',\n          department: 'Convenience Store',\n          merchant_id: null,\n          bar_code_case: '',\n          bar_code_unit: '',\n          last_updated_date: new Date().toISOString(),\n          last_shopping_date: null,\n          case_price: 0,\n          unit_per_case: 1,\n          unit_price: 0,\n          retail_price: 0,\n          overdue: false,\n          created_by: userProfile?.user_id || null\n        };\n\n        console.log('Creating new product with data:', newProductData);\n        const { error } = await supabase\n          .from('products')\n          .insert([newProductData]);\n\n        if (error) {\n          console.error('API returned error:', error);\n          throw error;\n        }\n\n        console.log('New product created successfully with serial:', newSerial);\n        toast({\n          title: \"Success\",\n          description: `New product created with serial #${newSerial}. Please edit it to add complete information.`,\n          duration: 5000\n        });\n      } else {\n        // Update existing product\n        const product = products.find((p) => p.ID === productId);\n        if (!product) {\n          throw new Error('Product not found');\n        }\n\n        // Show confirmation dialog for updating existing product\n        const confirmed = confirm(`Save updates to \"${product.product_name}\"? This will update the product information with current values.`);\n        if (!confirmed) {\n          console.log('Product update cancelled by user');\n          setSavingProductId(null);\n          return;\n        }\n\n        console.log('Updating product:', product);\n\n        // Prepare the data for saving (update existing product)\n        const updateData = {\n          ID: product.ID,\n          product_name: product.product_name,\n          category: product.category || '',\n          quantity_in_stock: product.quantity_in_stock || 0,\n          minimum_stock: product.minimum_stock || 0,\n          supplier: product.supplier || '',\n          description: product.description || '',\n          serial_number: product.serial_number || 0,\n          weight: product.weight || 0,\n          weight_unit: product.weight_unit || 'lb',\n          department: product.department || 'Convenience Store',\n          merchant_id: product.merchant_id || null,\n          bar_code_case: product.bar_code_case || '',\n          bar_code_unit: product.bar_code_unit || '',\n          last_updated_date: new Date().toISOString(),\n          last_shopping_date: product.last_shopping_date || null,\n          case_price: product.case_price || 0,\n          unit_per_case: product.unit_per_case || 1,\n          unit_price: product.unit_price || 0,\n          retail_price: product.retail_price || 0,\n          overdue: product.overdue || false,\n          created_by: product.created_by || userProfile?.user_id || null\n        };\n\n        console.log('Updating product with data:', updateData);\n        const { error } = await supabase\n          .from('products')\n          .update(updateData)\n          .eq('ID', product.ID);\n\n        if (error) {\n          console.error('API returned error:', error);\n          throw error;\n        }\n\n        console.log('Product updated successfully with ID:', product.ID);\n        toast({\n          title: \"Success\",\n          description: `\"${product.product_name}\" updated successfully`,\n          duration: 3000\n        });\n      }\n\n      // Reload all products to reflect changes\n      loadAllProducts();\n    } catch (error) {\n      console.error('Error saving product:', error);\n      toast({\n        title: \"Error\",\n        description: `Failed to ${isCreating ? 'create' : 'update'} product: ${error}`,\n        variant: \"destructive\"\n      });\n    } finally {\n      setSavingProductId(null);\n    }\n  };\n\n  // Load more products function\n  const loadMoreProducts = useCallback(() => {\n    if (isLoadingMore || !hasMoreProducts) return;\n\n    setIsLoadingMore(true);\n\n    // Simulate loading delay for smooth UX\n    setTimeout(() => {\n      setLoadedProductsCount((prev) => prev + pageSize);\n      setIsLoadingMore(false);\n    }, 300);\n  }, [isLoadingMore, hasMoreProducts, pageSize]);\n\n  // Intersection Observer for infinite scroll\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        const target = entries[0];\n        if (target.isIntersecting && hasMoreProducts && !isLoadingMore) {\n          loadMoreProducts();\n        }\n      },\n      {\n        threshold: 0.1,\n        rootMargin: '100px'\n      }\n    );\n\n    const currentTrigger = loadingTriggerRef.current;\n    if (currentTrigger) {\n      observer.observe(currentTrigger);\n    }\n\n    return () => {\n      if (currentTrigger) {\n        observer.unobserve(currentTrigger);\n      }\n    };\n  }, [loadMoreProducts, hasMoreProducts, isLoadingMore]);\n\n  const handleViewLogs = (productId: number, productName: string) => {\n    console.log('handleViewLogs called for:', { productId, productName });\n    setSelectedProduct({ id: productId, name: productName });\n    setLogsModalOpen(true);\n    console.log('Logs modal should now be open');\n  };\n\n  // Visual editing enabled for all users\n  const hasEditPermission = true;\n\n  // Calculate display text for showing results\n  const getDisplayText = () => {\n    if (totalCount === 0) return '';\n\n    const currentlyShowing = Math.min(products.length, totalCount);\n\n    if (debouncedSearchTerm) {\n      return `Showing ${currentlyShowing} of ${totalCount} products matching \"${debouncedSearchTerm}\"`;\n    }\n\n    if (hasMoreProducts) {\n      return `Showing ${currentlyShowing} of ${totalCount} products - Scroll down to load more`;\n    }\n\n    return `Showing all ${totalCount} products`;\n  };\n\n  // Get search keywords and check if all match\n  const getSearchData = (text: string) => {\n    if (!debouncedSearchTerm || !text) {\n      return {\n        keywords: [],\n        allMatch: false,\n        highlightComponent: text\n      };\n    }\n\n    const searchKeywords = debouncedSearchTerm.toLowerCase().trim().split(/\\s+/).filter((keyword) => keyword.length > 0);\n    const textLower = text.toLowerCase();\n\n    // Check if all keywords are present in this specific text\n    const allMatch = searchKeywords.every((keyword) => textLower.includes(keyword));\n\n    return {\n      keywords: searchKeywords,\n      allMatch,\n      highlightComponent:\n      <HighlightText\n        text={text}\n        searchTerms={searchKeywords}\n        allMatch={allMatch} data-id=\"1wt725buf\" data-path=\"src/pages/Products/ProductList.tsx\" />\n\n\n    };\n  };\n\n  // Clear search and reset to show all products from serial 01\n  const handleClearSearch = () => {\n    setSearchTerm('');\n    setLoadedProductsCount(pageSize);\n  };\n\n  return (\n    <ResponsiveStack spacing=\"lg\" data-id=\"btwya3lp5\" data-path=\"src/pages/Products/ProductList.tsx\">\n      <Card data-id=\"6w9ert8jz\" data-path=\"src/pages/Products/ProductList.tsx\">\n        <CardHeader data-id=\"5m1mzk7vo\" data-path=\"src/pages/Products/ProductList.tsx\">\n          <div className={`flex items-center ${\n          responsive.isMobile ? 'flex-col space-y-4' : 'justify-between'}`\n          } data-id=\"bowlpcor5\" data-path=\"src/pages/Products/ProductList.tsx\">\n            <div className={responsive.isMobile ? 'text-center' : ''} data-id=\"y8tl5mqr0\" data-path=\"src/pages/Products/ProductList.tsx\">\n              <CardTitle className=\"flex items-center space-x-2\" data-id=\"dv5p6okn6\" data-path=\"src/pages/Products/ProductList.tsx\">\n                <Package className=\"w-6 h-6\" data-id=\"mpvi5de9f\" data-path=\"src/pages/Products/ProductList.tsx\" />\n                <span data-id=\"lssx8ks5s\" data-path=\"src/pages/Products/ProductList.tsx\">Products</span>\n              </CardTitle>\n              <CardDescription className={responsive.isMobile ? 'text-center mt-2' : ''} data-id=\"60hg960xc\" data-path=\"src/pages/Products/ProductList.tsx\">\n                Manage your product inventory - Search across all product fields for similar items\n              </CardDescription>\n            </div>\n            <Button\n              onClick={() => navigate('/products/new')}\n              className={`bg-brand-600 hover:bg-brand-700 text-white ${\n              responsive.isMobile ? 'w-full' : ''}`\n              } data-id=\"yrss8uwf7\" data-path=\"src/pages/Products/ProductList.tsx\">\n              <Plus className=\"w-4 h-4 mr-2\" data-id=\"8mt4ozszr\" data-path=\"src/pages/Products/ProductList.tsx\" />\n              Add Product\n            </Button>\n          </div>\n        </CardHeader>\n        <CardContent data-id=\"cgvu9f3kp\" data-path=\"src/pages/Products/ProductList.tsx\">\n          {/* Search */}\n          <div className={`flex items-center mb-6 ${\n          responsive.isMobile ? 'flex-col space-y-3' : 'space-x-2'}`\n          } data-id=\"xhu140fsq\" data-path=\"src/pages/Products/ProductList.tsx\">\n            <div className={`relative ${\n            responsive.isMobile ? 'w-full' : 'flex-1 max-w-sm'}`\n            } data-id=\"obkwojs7a\" data-path=\"src/pages/Products/ProductList.tsx\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" data-id=\"i4u0f0oyn\" data-path=\"src/pages/Products/ProductList.tsx\" />\n              {searchTerm &&\n              <button\n                onClick={handleClearSearch}\n                className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 w-4 h-4 flex items-center justify-center\"\n                title=\"Clear search\" data-id=\"dkfof42co\" data-path=\"src/pages/Products/ProductList.tsx\">\n\n                  <X className=\"w-4 h-4\" data-id=\"umphay4wr\" data-path=\"src/pages/Products/ProductList.tsx\" />\n                </button>\n              }\n              <Input\n                placeholder={responsive.isMobile ?\n                \"Search products...\" :\n                \"Search products by name, description, category, supplier, barcode...\"\n                }\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className={`pl-10 ${searchTerm ? 'pr-10' : 'pr-3'}`} data-id=\"fokk0lrml\" data-path=\"src/pages/Products/ProductList.tsx\" />\n            </div>\n            {debouncedSearchTerm &&\n            <div className={`flex items-center space-x-2 ${\n            responsive.isMobile ? 'w-full justify-center' : ''}`\n            } data-id=\"vhlhajtb4\" data-path=\"src/pages/Products/ProductList.tsx\">\n                <Badge variant=\"secondary\" data-id=\"lx9c47e6v\" data-path=\"src/pages/Products/ProductList.tsx\">\n                  {totalCount} result{totalCount !== 1 ? 's' : ''} found\n                </Badge>\n                <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={handleClearSearch} data-id=\"0gw3ch1r5\" data-path=\"src/pages/Products/ProductList.tsx\">\n                  Clear\n                </Button>\n              </div>\n            }\n          </div>\n\n          {/* Products Display */}\n          {loading ?\n          <div className=\"space-y-4\" data-id=\"sizuuqbx0\" data-path=\"src/pages/Products/ProductList.tsx\">\n              {[...Array(5)].map((_, i) =>\n            <div key={i} className={`bg-gray-100 rounded animate-pulse ${\n            responsive.isMobile ? 'h-32' : 'h-16'}`\n            } data-id=\"iu3nnrhc1\" data-path=\"src/pages/Products/ProductList.tsx\"></div>\n            )}\n            </div> :\n          products.length === 0 ?\n          <div className=\"text-center py-8\" data-id=\"5to45rrj4\" data-path=\"src/pages/Products/ProductList.tsx\">\n              <Package className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" data-id=\"1pfqp05jo\" data-path=\"src/pages/Products/ProductList.tsx\" />\n              <p className=\"text-gray-500\" data-id=\"pdsgjn99d\" data-path=\"src/pages/Products/ProductList.tsx\">\n                {debouncedSearchTerm ? `No products found matching \"${debouncedSearchTerm}\"` : 'No products found'}\n              </p>\n              <Button\n              variant=\"outline\"\n              className=\"mt-4\"\n              onClick={() => debouncedSearchTerm ? handleClearSearch() : navigate('/products/new')} data-id=\"81ceuepen\" data-path=\"src/pages/Products/ProductList.tsx\">\n                {debouncedSearchTerm ? 'Clear Search' : 'Add Your First Product'}\n              </Button>\n            </div> :\n\n          responsive.isMobile ?\n          <ProductCards\n            products={products}\n            searchTerm={debouncedSearchTerm}\n            onViewLogs={handleViewLogs}\n            onSaveProduct={handleSaveProduct}\n            onDeleteProduct={handleDelete}\n            savingProductId={savingProductId} data-id=\"rxz6bntu1\" data-path=\"src/pages/Products/ProductList.tsx\" /> :\n\n\n          <ResponsiveTable className=\"border rounded-lg overflow-hidden\" data-id=\"9u668xl6m\" data-path=\"src/pages/Products/ProductList.tsx\">\n              <Table data-id=\"parxcetjj\" data-path=\"src/pages/Products/ProductList.tsx\">\n                <TableHeader data-id=\"sywj330th\" data-path=\"src/pages/Products/ProductList.tsx\">\n                  <TableRow data-id=\"reg1nxz9g\" data-path=\"src/pages/Products/ProductList.tsx\">\n                    <TableHead data-id=\"wr0rdxj7u\" data-path=\"src/pages/Products/ProductList.tsx\">Serial</TableHead>\n                    <TableHead data-id=\"xguj479aq\" data-path=\"src/pages/Products/ProductList.tsx\">Product Name</TableHead>\n                    <TableHead data-id=\"7h0kv6j17\" data-path=\"src/pages/Products/ProductList.tsx\">Weight</TableHead>\n                    <TableHead data-id=\"m0mjuvv7q\" data-path=\"src/pages/Products/ProductList.tsx\">Department</TableHead>\n                    <TableHead data-id=\"y38xdhyn7\" data-path=\"src/pages/Products/ProductList.tsx\">Merchant</TableHead>\n                    <TableHead data-id=\"hyjsoza3w\" data-path=\"src/pages/Products/ProductList.tsx\">Last Updated Date</TableHead>\n                    <TableHead data-id=\"035hbg930\" data-path=\"src/pages/Products/ProductList.tsx\">Last Shopping Date</TableHead>\n                    <TableHead data-id=\"th1z3z9u8\" data-path=\"src/pages/Products/ProductList.tsx\">Case Price</TableHead>\n                    <TableHead data-id=\"238n5lgcq\" data-path=\"src/pages/Products/ProductList.tsx\">Unit Per Case</TableHead>\n                    <TableHead data-id=\"1z9kj96eq\" data-path=\"src/pages/Products/ProductList.tsx\">Unit Price</TableHead>\n                    <TableHead data-id=\"yhlio4zkh\" data-path=\"src/pages/Products/ProductList.tsx\">Retail Price</TableHead>\n                    <TableHead data-id=\"uqhntcdih\" data-path=\"src/pages/Products/ProductList.tsx\">Profit Margin</TableHead>\n                    <TableHead data-id=\"bezh8xz0h\" data-path=\"src/pages/Products/ProductList.tsx\">Actions</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody data-id=\"tku466zwk\" data-path=\"src/pages/Products/ProductList.tsx\">\n                  {products.map((product) => {\n                  const formatDate = (dateString: string) => {\n                    if (!dateString) return '-';\n                    try {\n                      return new Date(dateString).toLocaleDateString();\n                    } catch {\n                      return '-';\n                    }\n                  };\n\n                  return (\n                    <TableRow key={product.ID} data-id=\"v193smj46\" data-path=\"src/pages/Products/ProductList.tsx\">\n                        <TableCell className=\"font-medium\" data-id=\"sdowsi684\" data-path=\"src/pages/Products/ProductList.tsx\">{product.serial_number || '-'}</TableCell>\n                        <TableCell data-id=\"e8rd7c27x\" data-path=\"src/pages/Products/ProductList.tsx\">\n                          <div data-id=\"rg0lp6ej4\" data-path=\"src/pages/Products/ProductList.tsx\">\n                            <p className=\"font-medium\" data-id=\"gwy9p1va6\" data-path=\"src/pages/Products/ProductList.tsx\">\n                              {debouncedSearchTerm ?\n                            getSearchData(product.product_name).highlightComponent :\n                            product.product_name\n                            }\n                            </p>\n                            {product.description &&\n                          <p className=\"text-sm text-gray-500 truncate max-w-xs\" data-id=\"hgubcoamt\" data-path=\"src/pages/Products/ProductList.tsx\">\n                                {debouncedSearchTerm ?\n                            getSearchData(product.description).highlightComponent :\n                            product.description\n                            }\n                              </p>\n                          }\n                          </div>\n                        </TableCell>\n                        <TableCell data-id=\"6ktazokh3\" data-path=\"src/pages/Products/ProductList.tsx\">\n                          {product.weight && product.weight > 0 ?\n                        `${product.weight} ${product.weight_unit || 'lb'}` : '-'\n                        }\n                        </TableCell>\n                        <TableCell data-id=\"jzswq8w77\" data-path=\"src/pages/Products/ProductList.tsx\">\n                          <Badge variant=\"outline\" data-id=\"hon8kpyv4\" data-path=\"src/pages/Products/ProductList.tsx\">\n                            {debouncedSearchTerm ?\n                          getSearchData(product.department || 'Convenience Store').highlightComponent :\n                          product.department || 'Convenience Store'\n                          }\n                          </Badge>\n                        </TableCell>\n                        <TableCell data-id=\"tja925sjn\" data-path=\"src/pages/Products/ProductList.tsx\">\n                          {debouncedSearchTerm ?\n                        getSearchData(product.supplier || '-').highlightComponent :\n                        product.supplier || '-'\n                        }\n                        </TableCell>\n                        <TableCell data-id=\"2ed5zq0bu\" data-path=\"src/pages/Products/ProductList.tsx\">{formatDate(product.last_updated_date)}</TableCell>\n                        <TableCell data-id=\"ilzlzxc8k\" data-path=\"src/pages/Products/ProductList.tsx\">{formatDate(product.last_shopping_date)}</TableCell>\n                        <TableCell data-id=\"h9o5wgj8v\" data-path=\"src/pages/Products/ProductList.tsx\">\n                          {product.case_price ? `$${product.case_price.toFixed(2)}` : '-'}\n                        </TableCell>\n                        <TableCell data-id=\"de1cqfqco\" data-path=\"src/pages/Products/ProductList.tsx\">{product.unit_per_case || '-'}</TableCell>\n                        <TableCell data-id=\"8xxfe4zj9\" data-path=\"src/pages/Products/ProductList.tsx\">\n                          {product.unit_price ? `$${product.unit_price.toFixed(2)}` : '-'}\n                        </TableCell>\n                        <TableCell data-id=\"gvcfe406h\" data-path=\"src/pages/Products/ProductList.tsx\">\n                          {product.retail_price ? `$${product.retail_price.toFixed(2)}` : '-'}\n                        </TableCell>\n                        <TableCell data-id=\"7pq6gl3td\" data-path=\"src/pages/Products/ProductList.tsx\">\n                          {(() => {\n                          if (product.unit_price && product.retail_price && product.retail_price > 0) {\n                            const margin = (product.retail_price - product.unit_price) / product.retail_price * 100;\n                            return (\n                              <Badge\n                                variant={margin > 20 ? 'default' : margin > 10 ? 'secondary' : 'destructive'}\n                                className=\"text-xs\" data-id=\"93py8n7ws\" data-path=\"src/pages/Products/ProductList.tsx\">\n                                  {margin.toFixed(1)}%\n                                </Badge>);\n                          }\n                          return '-';\n                        })()} \n                        </TableCell>\n                        <TableCell data-id=\"l9c1abv6q\" data-path=\"src/pages/Products/ProductList.tsx\">\n                          <div className=\"flex items-center space-x-2\" data-id=\"wu5kfr14z\" data-path=\"src/pages/Products/ProductList.tsx\">\n                            <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => {\n                              console.log('Viewing logs for product:', product.ID, product.product_name);\n                              handleViewLogs(product.ID, product.product_name);\n                            }}\n                            title=\"View change logs\" data-id=\"1gq3ylslg\" data-path=\"src/pages/Products/ProductList.tsx\">\n                              <FileText className=\"w-4 h-4\" data-id=\"coqqs1v3x\" data-path=\"src/pages/Products/ProductList.tsx\" />\n                            </Button>\n                            <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => {\n                              console.log('Saving product:', product.ID);\n                              handleSaveProduct(product.ID);\n                            }}\n                            disabled={savingProductId === product.ID}\n                            title=\"Save product\" data-id=\"d6aiaoqcp\" data-path=\"src/pages/Products/ProductList.tsx\">\n                              {savingProductId === product.ID ?\n                            <Loader2 className=\"w-4 h-4 animate-spin\" data-id=\"86whprmfp\" data-path=\"src/pages/Products/ProductList.tsx\" /> :\n\n                            <Save className=\"w-4 h-4\" data-id=\"lkm8ei34z\" data-path=\"src/pages/Products/ProductList.tsx\" />\n                            }\n                            </Button>\n                            <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => {\n                              console.log('Deleting product:', product.ID);\n                              handleDelete(product.ID);\n                            }}\n                            className=\"text-red-600 hover:text-red-700\"\n                            title=\"Delete product\" data-id=\"8q1xzfud0\" data-path=\"src/pages/Products/ProductList.tsx\">\n                              <Trash2 className=\"w-4 h-4\" data-id=\"k497aogsp\" data-path=\"src/pages/Products/ProductList.tsx\" />\n                            </Button>\n                          </div>\n                        </TableCell>\n                      </TableRow>);\n\n                })}\n                </TableBody>\n              </Table>\n            </ResponsiveTable>\n          }\n\n          {/* Loading Status and Infinite Scroll */}\n          {products.length > 0 &&\n          <div className=\"mt-6\" data-id=\"m4aa6rld5\" data-path=\"src/pages/Products/ProductList.tsx\">\n              <p className=\"text-sm text-gray-700 text-center mb-4\" data-id=\"er7e69bp3\" data-path=\"src/pages/Products/ProductList.tsx\">\n                {getDisplayText()}\n              </p>\n              \n              {/* Loading trigger for infinite scroll */}\n              {hasMoreProducts &&\n            <div\n              ref={loadingTriggerRef}\n              className=\"flex items-center justify-center py-8\" data-id=\"hkg96gs2v\" data-path=\"src/pages/Products/ProductList.tsx\">\n\n                  {isLoadingMore ?\n              <div className=\"flex items-center space-x-2 text-gray-500\" data-id=\"9u8xoflva\" data-path=\"src/pages/Products/ProductList.tsx\">\n                      <Loader2 className=\"w-5 h-5 animate-spin\" data-id=\"kbxlmbr8a\" data-path=\"src/pages/Products/ProductList.tsx\" />\n                      <span data-id=\"vi9t8n6nh\" data-path=\"src/pages/Products/ProductList.tsx\">Loading more products...</span>\n                    </div> :\n\n              <div className=\"text-gray-400 text-sm\" data-id=\"agnv83oox\" data-path=\"src/pages/Products/ProductList.tsx\">\n                      Scroll down to load more products\n                    </div>\n              }\n                </div>\n            }\n              \n              {!hasMoreProducts && totalCount > pageSize &&\n            <div className=\"text-center py-4 text-sm text-gray-500\" data-id=\"txy8dbwem\" data-path=\"src/pages/Products/ProductList.tsx\">\n                  You've reached the end - all {totalCount} products loaded\n                </div>\n            }\n            </div>\n          }\n        </CardContent>\n      </Card>\n\n      {/* Product Logs Modal */}\n      {selectedProduct &&\n      <ProductLogs\n        isOpen={logsModalOpen}\n        onClose={() => {\n          setLogsModalOpen(false);\n          setSelectedProduct(null);\n        }}\n        productId={selectedProduct.id}\n        productName={selectedProduct.name} data-id=\"ec6cb0czv\" data-path=\"src/pages/Products/ProductList.tsx\" />\n      }\n    </ResponsiveStack>);\n};\n\nexport default ProductList;\n"],"names":["ProductLogs","isOpen","onClose","productId","productName","logs","setLogs","useState","loading","setLoading","useEffect","loadProductLogs","data","error","DatabaseService","toast","formatDate","dateString","formatValue","fieldName","value","numValue","getFieldIcon","Calendar","DollarSign","Package","TrendingUp","getFieldDisplayName","l","getFieldColor","Dialog","DialogContent","jsxs","DialogHeader","DialogTitle","jsx","DialogDescription","_","i","Table","TableHeader","TableRow","TableHead","TableBody","log","TableCell","Badge","ArrowRight","HighlightText","text","searchTerms","allMatch","escapedTerms","term","regex","parts","Fragment","part","index","MOBILE_BREAKPOINT","TABLET_BREAKPOINT","useDeviceDetection","deviceInfo","setDeviceInfo","React.useState","width","React.useEffect","updateDeviceInfo","height","mobileQuery","tabletQuery","orientationQuery","useResponsiveLayout","device","ResponsiveTable","children","className","fallbackComponent","responsive","cn","ResponsiveStack","spacing","spacingClass","stackClass","ProductCards","products","searchTerm","onViewLogs","onSaveProduct","onDeleteProduct","savingProductId","getSearchData","searchKeywords","keyword","textLower","calculateMargin","product","margin","Card","CardHeader","CardTitle","Button","FileText","Loader2","Save","Trash2","CardContent","ProductList","navigate","useNavigate","userProfile","useAuth","setProducts","allProducts","setAllProducts","setSearchTerm","totalCount","setTotalCount","logsModalOpen","setLogsModalOpen","selectedProduct","setSelectedProduct","debouncedSearchTerm","setDebouncedSearchTerm","isSearching","setIsSearching","hasMoreProducts","setHasMoreProducts","isLoadingMore","setIsLoadingMore","setSavingProductId","pageSize","loadedProductsCount","setLoadedProductsCount","loadingTriggerRef","useRef","timer","loadAllProducts","filterAndSliceProducts","supabase","filteredProducts","searchableText","_a","a","b","serialA","serialB","slicedProducts","handleDelete","confirmed","handleSaveProduct","isCreating","serialData","newSerial","newProductData","p","updateData","loadMoreProducts","useCallback","prev","observer","entries","currentTrigger","handleViewLogs","getDisplayText","currentlyShowing","handleClearSearch","CardDescription","Plus","Search","X","Input","e"],"mappings":"66BA+BA,MAAMA,GAA0C,CAAC,CAAE,OAAAC,EAAQ,QAAAC,EAAS,UAAAC,EAAW,YAAAC,KAAkB,CAC/F,KAAM,CAACC,EAAMC,CAAO,EAAIC,EAAAA,SAAuB,CAAA,CAAE,EAC3C,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAK,EAE5CG,EAAAA,UAAU,IAAM,CACVT,GAAUE,GACIQ,EAAA,CAClB,EACC,CAACV,EAAQE,CAAS,CAAC,EAEtB,MAAMQ,EAAkB,SAAY,CAC9B,GAAA,CACFF,EAAW,EAAI,EACP,QAAA,IAAI,uCAAwCN,CAAS,EAE7D,KAAM,CAAE,KAAAS,EAAM,MAAAC,CAAA,EAAU,MAAMC,GAAgB,UAAU,QAAS,CAC/D,OAAQ,EACR,SAAU,IACV,aAAc,cACd,MAAO,GACP,QAAS,CACT,CAAE,KAAM,aAAc,GAAI,QAAS,MAAOX,CAAU,CAAA,CAAC,CAEtD,EAED,GAAIU,EACM,cAAA,MAAM,0BAA2BA,CAAK,EACxCA,EAGR,QAAQ,IAAI,gBAAgBD,GAAA,YAAAA,EAAM,OAAQ,CAAA,CAAE,EACpCN,GAAAM,GAAA,YAAAA,EAAM,OAAQ,EAAE,QACjBC,EAAO,CACN,QAAA,MAAM,8BAA+BA,CAAK,EAC5CE,EAAA,CACJ,MAAO,QACP,YAAa,uCAAuCF,CAAK,GACzD,QAAS,aAAA,CACV,CAAA,QACD,CACAJ,EAAW,EAAK,CAAA,CAEpB,EAEMO,EAAcC,GAAuB,CACrC,GAAA,CAACA,EAAmB,MAAA,IACpB,GAAA,CACF,OAAO,IAAI,KAAKA,CAAU,EAAE,eAAe,CAAA,MACrC,CACC,MAAA,GAAA,CAEX,EAEMC,EAAc,CAACC,EAAmBC,IAAkB,CACxD,GAAI,CAACA,GAASA,IAAU,GAAW,MAAA,IAGnC,GAAID,EAAU,SAAS,OAAO,GAAKA,IAAc,gBAAiB,CAC1D,MAAAE,EAAW,WAAWD,CAAK,EAC7B,GAAA,CAAC,MAAMC,CAAQ,EACjB,MAAO,IAAIA,EAAS,QAAQ,CAAC,CAAC,EAChC,CAIE,GAAAF,EAAU,SAAS,MAAM,EACvB,GAAA,CACF,OAAO,IAAI,KAAKC,CAAK,EAAE,mBAAmB,CAAA,MACpC,CACC,OAAAA,CAAA,CAIJ,OAAAA,CACT,EAEME,EAAgBH,GAAsB,CAC1C,OAAQA,EAAW,CACjB,IAAK,qBACH,aAAQI,GAAS,CAAA,UAAU,UAAU,UAAQ,YAAY,YAAU,iCAAiC,EACtG,IAAK,aACL,IAAK,aACL,IAAK,eACH,aAAQC,GAAW,CAAA,UAAU,UAAU,UAAQ,YAAY,YAAU,iCAAiC,EACxG,IAAK,gBACH,aAAQC,EAAQ,CAAA,UAAU,UAAU,UAAQ,YAAY,YAAU,iCAAiC,EACrG,IAAK,gBACH,aAAQC,GAAW,CAAA,UAAU,UAAU,UAAQ,YAAY,YAAU,iCAAiC,EACxG,QACS,OAAA,IAAA,CAEb,EAEMC,EAAuBR,GAAsB,CACjD,OAAQA,EAAW,CACjB,IAAK,qBACI,MAAA,qBACT,IAAK,aACI,MAAA,aACT,IAAK,gBACI,MAAA,gBACT,IAAK,aACI,MAAA,aACT,IAAK,eACI,MAAA,eACT,IAAK,gBACI,MAAA,gBACT,QACS,OAAAA,EAAU,QAAQ,IAAK,GAAG,EAAE,QAAQ,QAAUS,GAAMA,EAAE,YAAA,CAAa,CAAA,CAEhF,EAEMC,EAAiBV,GAAsB,CAC3C,OAAQA,EAAW,CACjB,IAAK,qBACI,MAAA,4BACT,IAAK,aACI,MAAA,8BACT,IAAK,gBACI,MAAA,gCACT,IAAK,aACI,MAAA,gCACT,IAAK,eACI,MAAA,0BACT,IAAK,gBACI,MAAA,gCACT,QACS,MAAA,2BAAA,CAEb,EAEA,aACGW,GAAO,CAAA,KAAM7B,EAAQ,aAAcC,EAAS,UAAQ,YAAY,YAAU,iCACzE,gBAAC6B,GAAc,CAAA,UAAU,yCAAyC,UAAQ,YAAY,YAAU,iCAC9F,SAAA,CAAAC,EAAA,KAACC,GAAa,CAAA,UAAQ,YAAY,YAAU,iCAC1C,SAAA,CAAAD,OAACE,IAAY,UAAU,8BAA8B,UAAQ,YAAY,YAAU,iCACjF,SAAA,CAAAC,MAACV,GAAQ,UAAU,UAAU,UAAQ,YAAY,YAAU,iCAAiC,QAC3F,OAAK,CAAA,UAAQ,YAAY,YAAU,iCAAiC,SAAmB,qBAAA,CAAA,CAAA,EAC1F,EACCO,EAAA,KAAAI,GAAA,CAAkB,UAAQ,YAAY,YAAU,iCAAiC,SAAA,CAAA,uBAC5DD,EAAAA,IAAC,QAAK,UAAU,cAAc,UAAQ,YAAY,YAAU,iCAAkC,SAAY/B,CAAA,CAAA,CAAA,CAChI,CAAA,CAAA,EACF,EAEA+B,EAAAA,IAAC,OAAI,UAAU,OAAO,UAAQ,YAAY,YAAU,iCACjD,SAAA3B,EACA2B,EAAAA,IAAA,MAAA,CAAI,UAAU,YAAY,UAAQ,YAAY,YAAU,iCACpD,UAAC,GAAG,MAAM,CAAC,CAAC,EAAE,IAAI,CAACE,EAAGC,IACxBH,EAAA,IAAA,MAAA,CAAY,UAAU,yCAAyC,UAAQ,YAAY,YAAU,gCAAA,EAApFG,CAAqH,CAE/H,CAAA,CAAA,EACFjC,EAAK,SAAW,EAChB2B,EAAA,KAAC,MAAI,CAAA,UAAU,mBAAmB,UAAQ,YAAY,YAAU,iCAC5D,SAAA,CAAAG,MAACV,GAAQ,UAAU,uCAAuC,UAAQ,YAAY,YAAU,iCAAiC,EACzHU,EAAAA,IAAC,KAAE,UAAU,gBAAgB,UAAQ,YAAY,YAAU,iCAAiC,SAAqC,uCAAA,CAAA,EACjIA,EAAAA,IAAC,KAAE,UAAU,6BAA6B,UAAQ,YAAY,YAAU,iCAAiC,SAEzG,8DAAA,CAAA,CAAA,EACF,EAEFA,EAAA,IAAC,MAAI,CAAA,UAAU,oCAAoC,UAAQ,YAAY,YAAU,iCAC7E,SAACH,EAAAA,KAAAO,GAAA,CAAM,UAAQ,YAAY,YAAU,iCACnC,SAAA,CAACJ,EAAA,IAAAK,GAAA,CAAY,UAAQ,YAAY,YAAU,iCACzC,gBAACC,EAAS,CAAA,UAAQ,YAAY,YAAU,iCACtC,SAAA,CAAAN,MAACO,EAAU,CAAA,UAAQ,YAAY,YAAU,iCAAiC,SAAK,QAAA,QAC9EA,EAAU,CAAA,UAAQ,YAAY,YAAU,iCAAiC,SAAW,cAAA,QACpFA,EAAU,CAAA,UAAQ,YAAY,YAAU,iCAAiC,SAAS,YAAA,EACnFP,EAAAA,IAACO,GAAU,UAAU,cAAc,UAAQ,YAAY,YAAU,iCAAiC,SAAC,GAAA,CAAA,QAClGA,EAAU,CAAA,UAAQ,YAAY,YAAU,iCAAiC,SAAS,WAAA,CAAA,CAAA,CAAA,CACrF,CACF,CAAA,QACCC,GAAU,CAAA,UAAQ,YAAY,YAAU,iCACtC,SAAKtC,EAAA,IAAKuC,GACbZ,EAAA,KAACS,GAAsB,UAAQ,YAAY,YAAU,iCAC/C,SAAA,CAAAN,EAAA,IAACU,EAAU,CAAA,UAAQ,YAAY,YAAU,iCACvC,SAAAb,EAAAA,KAAC,MAAI,CAAA,UAAU,8BAA8B,UAAQ,YAAY,YAAU,iCACxE,SAAA,CAAAV,EAAasB,EAAI,UAAU,EAC3BT,EAAA,IAAAW,EAAA,CAAM,UAAWjB,EAAce,EAAI,UAAU,EAAG,UAAQ,YAAY,YAAU,iCAC5E,SAAoBjB,EAAAiB,EAAI,UAAU,CACrC,CAAA,CAAA,CAAA,CACF,CACF,CAAA,EACAT,EAAAA,IAACU,EAAU,CAAA,UAAU,wBAAwB,UAAQ,YAAY,YAAU,iCACxE,SAAA7B,EAAW4B,EAAI,WAAW,CAC7B,CAAA,EACAT,EAAAA,IAACU,GAAU,UAAQ,YAAY,YAAU,iCACvC,SAAAV,EAAAA,IAAC,QAAK,UAAU,mDAAmD,UAAQ,YAAY,YAAU,iCAC9F,SAAYjB,EAAA0B,EAAI,WAAYA,EAAI,SAAS,EAC5C,CACF,CAAA,QACCC,EAAU,CAAA,UAAU,cAAc,UAAQ,YAAY,YAAU,iCAC/D,SAACV,EAAA,IAAAY,GAAA,CAAW,UAAU,wBAAwB,UAAQ,YAAY,YAAU,gCAAiC,CAAA,EAC/G,EACAZ,EAAAA,IAACU,GAAU,UAAQ,YAAY,YAAU,iCACvC,SAAAV,EAAAA,IAAC,QAAK,UAAU,uDAAuD,UAAQ,YAAY,YAAU,iCAClG,SAAYjB,EAAA0B,EAAI,WAAYA,EAAI,SAAS,CAC5C,CAAA,CACF,CAAA,CAAA,CAAA,EAxBSA,EAAI,EAyBf,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAEJ,CAAA,CAAA,CAAA,CACF,CACF,CAAA,CAEJ,ECvOMI,GAA8C,CAAC,CAAE,KAAAC,EAAM,YAAAC,EAAa,SAAAC,KAAe,CACvF,GAAI,CAACD,EAAY,QAAU,CAACD,EAAM,yBAAU,SAAKA,EAAA,EAGjD,MAAMG,EAAeF,EAAY,IAAKG,GACtCA,EAAK,QAAQ,sBAAuB,MAAM,CAC1C,EACMC,EAAQ,IAAI,OAAO,IAAIF,EAAa,KAAK,GAAG,CAAC,IAAK,IAAI,EAEtDG,EAAQN,EAAK,MAAMK,CAAK,EAE9B,OAEKnB,EAAA,IAAAqB,EAAA,SAAA,CAAA,SAAAD,EAAM,IAAI,CAACE,EAAMC,IACAR,EAAY,KAAMG,GAClCI,EAAK,YAAY,IAAMJ,EAAK,YAAY,CACxC,EAIIlB,EAAA,IAAC,OAAA,CAEC,UAAW,iBACXgB,EAAW,8BAAgC,+BAA+B,GACxE,UAAQ,YAAY,YAAU,mCAE/B,SAAAM,CAAA,EALIC,CAMP,EAGGD,CACR,EACH,CAEJ,ECvCME,EAAoB,IACpBC,EAAoB,KA4BnB,SAASC,IAAiC,CAC/C,KAAM,CAACC,EAAYC,CAAa,EAAIC,WAA2B,IAAM,CAC/D,GAAA,OAAO,OAAW,IACb,MAAA,CACL,SAAU,GACV,SAAU,GACV,UAAW,GACX,YAAa,KACb,YAAa,YACb,YAAa,EACf,EAGF,MAAMC,EAAQ,OAAO,WACd,MAAA,CACL,SAAUA,EAAQN,EAClB,SAAUM,GAASN,GAAqBM,EAAQL,EAChD,UAAWK,GAASL,EACpB,YAAaK,EACb,YAAa,OAAO,YAAc,OAAO,WAAa,WAAa,YACnE,YAAa,iBAAkB,QAAU,UAAU,eAAiB,CACtE,CAAA,CACD,EAEDC,OAAAA,EAAAA,UAAgB,IAAM,CACpB,MAAMC,EAAmB,IAAM,CAC7B,MAAMF,EAAQ,OAAO,WACfG,EAAS,OAAO,YAERL,EAAA,CACZ,SAAUE,EAAQN,EAClB,SAAUM,GAASN,GAAqBM,EAAQL,EAChD,UAAWK,GAASL,EACpB,YAAaK,EACb,YAAaG,EAASH,EAAQ,WAAa,YAC3C,YAAa,iBAAkB,QAAU,UAAU,eAAiB,CAAA,CACrE,CACH,EAGMI,EAAc,OAAO,WAAW,eAAeV,EAAoB,CAAC,KAAK,EACzEW,EAAc,OAAO,WAAW,eAAeX,CAAiB,uBAAuBC,EAAoB,CAAC,KAAK,EACjHW,EAAmB,OAAO,WAAW,yBAAyB,EAGxD,OAAAF,EAAA,iBAAiB,SAAUF,CAAgB,EAC3CG,EAAA,iBAAiB,SAAUH,CAAgB,EACtCI,EAAA,iBAAiB,SAAUJ,CAAgB,EACrD,OAAA,iBAAiB,SAAUA,CAAgB,EAGjCA,EAAA,EAEV,IAAM,CACCE,EAAA,oBAAoB,SAAUF,CAAgB,EAC9CG,EAAA,oBAAoB,SAAUH,CAAgB,EACzCI,EAAA,oBAAoB,SAAUJ,CAAgB,EACxD,OAAA,oBAAoB,SAAUA,CAAgB,CACvD,CACF,EAAG,EAAE,EAEEL,CACT,CAGO,SAASU,GAAsB,CACpC,MAAMC,EAASZ,GAAmB,EAE3B,MAAA,CACL,GAAGY,EACH,YAAaA,EAAO,UACpB,cAAeA,EAAO,SACtB,cAAeA,EAAO,UAAYA,EAAO,SACzC,cAAeA,EAAO,SACtB,aAAcA,EAAO,SAAW,EAAIA,EAAO,SAAW,EAAI,EAC1D,UAAWA,EAAO,SAAW,QAAU,QACvC,YAAaA,EAAO,SAAW,UAAYA,EAAO,SAAW,OAAS,MACxE,CACF,CC3CO,MAAMC,GAAkD,CAAC,CAC9D,SAAAC,EACA,UAAAC,EAAY,GACZ,kBAAAC,CACF,IAAM,CACJ,MAAMC,EAAaN,EAAoB,EAEnC,OAAAM,EAAW,UAAYD,oBACf,SAAkBA,CAAA,CAAA,EAI5B1C,MAAC,OAAI,UAAW4C,GACd,kBACAD,EAAW,UAAY,oBACvBF,CACC,EAAA,UAAQ,YAAY,YAAU,uCAC9B,SAAAD,CACH,CAAA,CAEJ,EAkCaK,GAAkD,CAAC,CAC9D,SAAAL,EACA,UAAAC,EAAY,GACZ,QAAAK,EAAU,IACZ,IAAM,CACJ,MAAMH,EAAaN,EAAoB,EAEjCU,EAAe,CACnB,GAAI,yBACJ,GAAI,yBACJ,GAAI,0BACJD,CAAO,EAEHE,EAAaJ,GACjB,gBACAG,EACAJ,EAAW,UAAY,OACvBF,CACF,EAGE,OAAAzC,MAAC,OAAI,UAAWgD,EAAY,UAAQ,YAAY,YAAU,uCACvD,SAAAR,EACH,CAEJ,ECzGMS,GAA4C,CAAC,CACjD,SAAAC,EACA,WAAAC,EACA,WAAAC,EACA,cAAAC,EACA,gBAAAC,EACA,gBAAAC,CACF,IAAM,CACE,MAAA1E,EAAcC,GAAuB,CACrC,GAAA,CAACA,EAAmB,MAAA,IACpB,GAAA,CACF,OAAO,IAAI,KAAKA,CAAU,EAAE,mBAAmB,CAAA,MACzC,CACC,MAAA,GAAA,CAEX,EAEM0E,EAAiB1C,GAAiB,CAClC,GAAA,CAACqC,GAAc,CAACrC,EACX,MAAA,CACL,SAAU,CAAC,EACX,SAAU,GACV,mBAAoBA,CACtB,EAGF,MAAM2C,EAAiBN,EAAW,YAAY,EAAE,KAAO,EAAA,MAAM,KAAK,EAAE,OAAQO,GAAYA,EAAQ,OAAS,CAAC,EACpGC,EAAY7C,EAAK,YAAY,EAG7BE,EAAWyC,EAAe,MAAOC,GAAYC,EAAU,SAASD,CAAO,CAAC,EAEvE,MAAA,CACL,SAAUD,EACV,SAAAzC,EACA,mBACAhB,EAAA,IAACa,GAAA,CACC,KAAAC,EACA,YAAa2C,EACb,SAAAzC,EAAoB,UAAQ,YAAY,YAAU,iCAAA,CAAA,CACtD,CACF,EAEM4C,EAAmBC,GAAqB,CAC5C,GAAIA,EAAQ,YAAcA,EAAQ,cAAgBA,EAAQ,aAAe,EAAG,CAC1E,MAAMC,GAAUD,EAAQ,aAAeA,EAAQ,YAAcA,EAAQ,aAAe,IAC7E,MAAA,CACL,MAAOC,EACP,QAASA,EAAS,GAAK,UAAYA,EAAS,GAAK,YAAc,aACjE,CAAA,CAEK,OAAA,IACT,EAGE,OAAA9D,EAAA,IAAC,MAAI,CAAA,UAAU,yBAAyB,UAAQ,YAAY,YAAU,kCACnE,SAAAkD,EAAS,IAAKW,GAAY,CACnB,MAAAC,EAASF,EAAgBC,CAAO,EAEtC,cACGE,GAAsB,CAAA,UAAU,oCAAoC,UAAQ,YAAY,YAAU,kCACjG,SAAA,CAAAlE,OAACmE,IAAW,UAAU,OAAO,UAAQ,YAAY,YAAU,kCACzD,SAAA,CAAAnE,OAAC,OAAI,UAAU,mCAAmC,UAAQ,YAAY,YAAU,kCAC9E,SAAA,CAAAA,OAAC,OAAI,UAAU,iBAAiB,UAAQ,YAAY,YAAU,kCAC5D,SAAA,CAAAG,EAAA,IAACiE,GAAU,CAAA,UAAU,wBAAwB,UAAQ,YAAY,YAAU,kCACxE,SACDd,EAAAK,EAAcK,EAAQ,YAAY,EAAE,mBACpCA,EAAQ,aAEV,SACC,MAAI,CAAA,UAAU,+BAA+B,UAAQ,YAAY,YAAU,kCAC1E,SAAA,CAAChE,EAAAA,KAAAc,EAAA,CAAM,QAAQ,UAAU,UAAU,UAAU,UAAQ,YAAY,YAAU,kCAAkC,SAAA,CAAA,IACzGkD,EAAQ,eAAiB,GAAA,EAC7B,QACClD,EAAM,CAAA,QAAQ,UAAU,UAAU,UAAU,UAAQ,YAAY,YAAU,kCACxE,SACDwC,EAAAK,EAAcK,EAAQ,YAAc,mBAAmB,EAAE,mBACzDA,EAAQ,YAAc,mBAExB,CAAA,CAAA,CACF,CAAA,CAAA,EACF,SACC,MAAI,CAAA,UAAU,mCAAmC,UAAQ,YAAY,YAAU,kCAC9E,SAAA,CAAA7D,EAAA,IAACkE,EAAA,CACC,QAAQ,UACR,KAAK,KACL,QAAS,IAAMd,EAAWS,EAAQ,GAAIA,EAAQ,YAAY,EAC1D,UAAU,MACV,MAAM,YAAY,UAAQ,YAAY,YAAU,kCAEhD,eAACM,GAAS,CAAA,UAAU,UAAU,UAAQ,YAAY,YAAU,iCAAkC,CAAA,CAAA,CAChG,EACAnE,EAAA,IAACkE,EAAA,CACC,QAAQ,UACR,KAAK,KACL,QAAS,IAAMb,EAAcQ,EAAQ,EAAE,EACvC,SAAUN,IAAoBM,EAAQ,GACtC,UAAU,MACV,MAAM,eAAe,UAAQ,YAAY,YAAU,kCAElD,aAAoBA,EAAQ,SAC5BO,EAAQ,CAAA,UAAU,uBAAuB,UAAQ,YAAY,YAAU,kCAAkC,QACzGC,GAAK,CAAA,UAAU,UAAU,UAAQ,YAAY,YAAU,iCAAkC,CAAA,CAAA,CAE5F,EACArE,EAAA,IAACkE,EAAA,CACC,QAAQ,UACR,KAAK,KACL,QAAS,IAAMZ,EAAgBO,EAAQ,EAAE,EACzC,UAAU,sCACV,MAAM,iBAAiB,UAAQ,YAAY,YAAU,kCAErD,eAACS,GAAO,CAAA,UAAU,UAAU,UAAQ,YAAY,YAAU,iCAAkC,CAAA,CAAA,CAAA,CAC9F,CACF,CAAA,CAAA,EACF,EACCT,EAAQ,aACT7D,EAAAA,IAAC,IAAE,CAAA,UAAU,0CAA0C,UAAQ,YAAY,YAAU,kCAChF,WACHwD,EAAcK,EAAQ,WAAW,EAAE,mBACnCA,EAAQ,WAER,CAAA,CAAA,EAEJ,SACCU,GAAY,CAAA,UAAU,YAAY,UAAQ,YAAY,YAAU,kCAE/D,SAAA,CAAA1E,OAAC,OAAI,UAAU,iCAAiC,UAAQ,YAAY,YAAU,kCAC5E,SAAA,CAAAA,EAAA,KAAC,MAAI,CAAA,UAAQ,YAAY,YAAU,kCACjC,SAAA,CAAAG,EAAAA,IAAC,QAAK,UAAU,gBAAgB,UAAQ,YAAY,YAAU,kCAAkC,SAAW,aAAA,CAAA,QAC1G,MAAI,CAAA,UAAU,cAAc,UAAQ,YAAY,YAAU,kCACxD,SAAQ6D,EAAA,WAAa,IAAIA,EAAQ,WAAW,QAAQ,CAAC,CAAC,GAAK,GAC9D,CAAA,CAAA,EACF,EACChE,EAAA,KAAA,MAAA,CAAI,UAAQ,YAAY,YAAU,kCACjC,SAAA,CAAAG,EAAAA,IAAC,QAAK,UAAU,gBAAgB,UAAQ,YAAY,YAAU,kCAAkC,SAAa,eAAA,CAAA,QAC5G,MAAI,CAAA,UAAU,cAAc,UAAQ,YAAY,YAAU,kCACxD,SAAQ6D,EAAA,aAAe,IAAIA,EAAQ,aAAa,QAAQ,CAAC,CAAC,GAAK,GAClE,CAAA,CAAA,EACF,EACChE,EAAA,KAAA,MAAA,CAAI,UAAQ,YAAY,YAAU,kCACjC,SAAA,CAAAG,EAAAA,IAAC,QAAK,UAAU,gBAAgB,UAAQ,YAAY,YAAU,kCAAkC,SAAW,aAAA,CAAA,QAC1G,MAAI,CAAA,UAAU,cAAc,UAAQ,YAAY,YAAU,kCACxD,SAAQ6D,EAAA,WAAa,IAAIA,EAAQ,WAAW,QAAQ,CAAC,CAAC,GAAK,GAC9D,CAAA,CAAA,EACF,EACChE,EAAA,KAAA,MAAA,CAAI,UAAQ,YAAY,YAAU,kCACjC,SAAA,CAAAG,EAAAA,IAAC,QAAK,UAAU,gBAAgB,UAAQ,YAAY,YAAU,kCAAkC,SAAc,gBAAA,CAAA,QAC7G,MAAI,CAAA,UAAU,cAAc,UAAQ,YAAY,YAAU,kCACxD,SAAA8D,SACAnD,EAAM,CAAA,QAASmD,EAAO,QAAgB,UAAU,UAAU,UAAQ,YAAY,YAAU,kCACpF,SAAA,CAAOA,EAAA,MAAM,QAAQ,CAAC,EAAE,GAAA,CAC3B,CAAA,EACF,GACF,CAAA,CAAA,CACF,CAAA,CAAA,EACF,SAGC,MAAI,CAAA,UAAU,+CAA+C,UAAQ,YAAY,YAAU,kCAC1F,SAAA,CAAAjE,OAAC,OAAI,UAAU,uBAAuB,UAAQ,YAAY,YAAU,kCAClE,SAAA,CAAAG,EAAAA,IAAC,QAAK,UAAU,gBAAgB,UAAQ,YAAY,YAAU,kCAAkC,SAAO,SAAA,CAAA,EACvGA,EAAAA,IAAC,QAAK,UAAU,cAAc,UAAQ,YAAY,YAAU,kCACzD,SAAQ6D,EAAA,QAAUA,EAAQ,OAAS,EACpC,GAAGA,EAAQ,MAAM,IAAIA,EAAQ,aAAe,IAAI,GAChD,GAEF,CAAA,CAAA,EACF,SACC,MAAI,CAAA,UAAU,uBAAuB,UAAQ,YAAY,YAAU,kCAClE,SAAA,CAAA7D,EAAAA,IAAC,QAAK,UAAU,gBAAgB,UAAQ,YAAY,YAAU,kCAAkC,SAAS,WAAA,CAAA,QACxG,OAAK,CAAA,UAAU,4BAA4B,UAAQ,YAAY,YAAU,kCACvE,SACDmD,EAAAK,EAAcK,EAAQ,UAAY,GAAG,EAAE,mBACvCA,EAAQ,UAAY,GAEtB,CAAA,CAAA,EACF,SACC,MAAI,CAAA,UAAU,uBAAuB,UAAQ,YAAY,YAAU,kCAClE,SAAA,CAAA7D,EAAAA,IAAC,QAAK,UAAU,gBAAgB,UAAQ,YAAY,YAAU,kCAAkC,SAAc,gBAAA,CAAA,EAC9GA,EAAAA,IAAC,OAAK,CAAA,UAAU,cAAc,UAAQ,YAAY,YAAU,kCAAmC,SAAQ6D,EAAA,eAAiB,GAAI,CAAA,CAAA,EAC9H,SACC,MAAI,CAAA,UAAU,uBAAuB,UAAQ,YAAY,YAAU,kCAClE,SAAA,CAAA7D,EAAAA,IAAC,QAAK,UAAU,gBAAgB,UAAQ,YAAY,YAAU,kCAAkC,SAAa,eAAA,CAAA,EAC7GA,EAAAA,IAAC,OAAK,CAAA,UAAU,cAAc,UAAQ,YAAY,YAAU,kCAAmC,SAAAnB,EAAWgF,EAAQ,iBAAiB,CAAE,CAAA,CAAA,EACvI,SACC,MAAI,CAAA,UAAU,uBAAuB,UAAQ,YAAY,YAAU,kCAClE,SAAA,CAAA7D,EAAAA,IAAC,QAAK,UAAU,gBAAgB,UAAQ,YAAY,YAAU,kCAAkC,SAAc,gBAAA,CAAA,EAC9GA,EAAAA,IAAC,OAAK,CAAA,UAAU,cAAc,UAAQ,YAAY,YAAU,kCAAmC,SAAAnB,EAAWgF,EAAQ,kBAAkB,CAAE,CAAA,CAAA,CACxI,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,EAnISA,EAAQ,EAoInB,CAEH,CAAA,EACH,CAEJ,ECnMMW,GAAwB,IAAM,CAClC,MAAMC,EAAWC,GAAY,EACvB,CAAE,YAAAC,CAAY,EAAIC,GAAQ,EAC1BjC,EAAaN,EAAoB,EAEjC,CAACa,EAAU2B,CAAW,EAAIzG,EAAAA,SAAoB,CAAA,CAAE,EAChD,CAAC0G,EAAaC,CAAc,EAAI3G,EAAAA,SAAoB,CAAA,CAAE,EACtD,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EACrC,CAAC+E,EAAY6B,CAAa,EAAI5G,EAAAA,SAAS,EAAE,EACzC,CAAC6G,EAAYC,CAAa,EAAI9G,EAAAA,SAAS,CAAC,EACxC,CAAC+G,EAAeC,CAAgB,EAAIhH,EAAAA,SAAS,EAAK,EAClD,CAACiH,EAAiBC,CAAkB,EAAIlH,EAAAA,SAA4C,IAAI,EACxF,CAACmH,EAAqBC,EAAsB,EAAIpH,EAAAA,SAAS,EAAE,EAC3D,CAACqH,GAAaC,EAAc,EAAItH,EAAAA,SAAS,EAAK,EAC9C,CAACuH,EAAiBC,EAAkB,EAAIxH,EAAAA,SAAS,EAAI,EACrD,CAACyH,EAAeC,CAAgB,EAAI1H,EAAAA,SAAS,EAAK,EAClD,CAACmF,EAAiBwC,CAAkB,EAAI3H,EAAAA,SAAwB,IAAI,EAEpE4H,EAAW,GACX,CAACC,EAAqBC,CAAsB,EAAI9H,EAAAA,SAAS4H,CAAQ,EAGjEG,EAAoBC,SAAuB,IAAI,EAGrD7H,EAAAA,UAAU,IAAM,CACR,MAAA8H,EAAQ,WAAW,IAAM,CAC7Bb,GAAuBrC,CAAU,EACjC+C,EAAuBF,CAAQ,GAC9B,GAAG,EAEC,MAAA,IAAM,aAAaK,CAAK,CAAA,EAC9B,CAAClD,EAAY6C,CAAQ,CAAC,EAGzBzH,EAAAA,UAAU,IAAM,CACE+H,EAAA,CAClB,EAAG,EAAE,EAGL/H,EAAAA,UAAU,IAAM,CACSgI,GAAA,CACtB,EAAA,CAAChB,EAAqBU,EAAqBnB,CAAW,CAAC,EAE1D,MAAMwB,EAAkB,SAAY,CAC9B,GAAA,CACFhI,EAAW,EAAI,EAET,KAAA,CAAE,KAAAG,EAAM,MAAAC,CAAM,EAAI,MAAM8H,EAC3B,KAAK,UAAU,EACf,OAAO,GAAG,EACV,MAAM,KAAM,CAAE,UAAW,GAAO,EAChC,MAAM,GAAI,EAEb,GAAI9H,EAAa,MAAAA,EAEFqG,EAAAtG,GAAQ,EAAE,QAClBC,EAAO,CACN,QAAA,MAAM,0BAA2BA,CAAK,EACxCE,EAAA,CACJ,MAAO,QACP,YAAa,0BACb,QAAS,aAAA,CACV,CAAA,QACD,CACAN,EAAW,EAAK,CAAA,CAEpB,EAEMiI,GAAyB,IAAM,CACpBb,GAAA,CAAC,CAACH,CAAmB,EAEpC,IAAIkB,EAAmB3B,EAGvB,GAAIS,EAAqB,CACvB,MAAM9B,EAAiB8B,EAAoB,YAAY,EAAE,KAAO,EAAA,MAAM,KAAK,EAAE,OAAQ7B,GAAYA,EAAQ,OAAS,CAAC,EAEhG+C,EAAA3B,EAAY,OAAQjB,GAAY,OACjD,MAAM6C,EAAiB,CACvB7C,EAAQ,aACRA,EAAQ,YACRA,EAAQ,SACRA,EAAQ,SACRA,EAAQ,WACRA,EAAQ,cACRA,EAAQ,eACR8C,EAAA9C,EAAQ,gBAAR,YAAA8C,EAAuB,UAAS,EAChC,KAAK,GAAG,EAAE,YAAY,EAGtB,OAAOlD,EAAe,MAAOC,GAAYgD,EAAe,SAAShD,CAAO,CAAC,CAAA,CAC1E,CAAA,CAIE6B,IACHkB,EAAmBA,EAAiB,KAAK,CAACG,EAAGC,IAAM,CAC3C,MAAAC,EAAUF,EAAE,eAAiB,EAC7BG,EAAUF,EAAE,eAAiB,EACnC,OAAOC,EAAUC,CAAA,CAClB,GAIH,MAAMC,EAAiBP,EAAiB,MAAM,EAAGR,CAAmB,EAEpEpB,EAAYmC,CAAc,EAC1B9B,EAAcuB,EAAiB,MAAM,EAClBb,GAAAK,EAAsBQ,EAAiB,MAAM,CAClE,EAEMQ,EAAe,MAAOjJ,GAAsB,CACxC,QAAA,IAAI,sCAAuCA,CAAS,EAGtD,MAAAkJ,EAAY,QAAQ,6EAA6E,EAGvG,GAFQ,QAAA,IAAI,2BAA4BA,CAAS,EAE7C,CAACA,EAAW,CACd,QAAQ,IAAI,4BAA4B,EACxC,MAAA,CAGE,GAAA,CACM,QAAA,IAAI,wCAAyClJ,CAAS,EAC9D,KAAM,CAAE,MAAAU,CAAA,EAAU,MAAM8H,EACrB,KAAK,UAAU,EACf,OAAO,EACP,GAAG,KAAMxI,CAAS,EAErB,GAAIU,EACM,cAAA,MAAM,sBAAuBA,CAAK,EACpCA,EAGR,QAAQ,IAAI,8BAA8B,EACpCE,EAAA,CACJ,MAAO,UACP,YAAa,8BAAA,CACd,EAGe0H,EAAA,QACT5H,EAAO,CACN,QAAA,MAAM,0BAA2BA,CAAK,EACxCE,EAAA,CACJ,MAAO,QACP,YAAa,6BAA6BF,CAAK,GAC/C,QAAS,aAAA,CACV,CAAA,CAEL,EAEMyI,GAAoB,MAAOnJ,EAA2B,OAAS,OAC3D,QAAA,IAAI,2CAA4CA,CAAS,EAWjE,MAAMoJ,EAAapJ,IAAc,KACjC+H,EAAmB/H,GAAa,EAAE,EAE9B,GAAA,CACF,GAAIoJ,EAAY,CAGd,GAAI,CADc,QAAQ,gGAAgG,EAC1G,CACd,QAAQ,IAAI,oCAAoC,EAChDrB,EAAmB,IAAI,EACvB,MAAA,CAKI,KAAA,CAAE,KAAMsB,CAAW,EAAI,MAAMb,EAChC,KAAK,UAAU,EACf,OAAO,eAAe,EACtB,MAAM,gBAAiB,CAAE,UAAW,GAAO,EAC3C,MAAM,CAAC,EAGJc,KADaX,EAAAU,GAAA,YAAAA,EAAa,KAAb,YAAAV,EAAiB,gBAAiB,GACtB,EAEzBY,EAAiB,CACrB,cAAeD,EACf,aAAc,eAAeA,CAAS,GACtC,SAAU,UACV,kBAAmB,EACnB,cAAe,EACf,SAAU,GACV,YAAa,yCACb,OAAQ,EACR,YAAa,KACb,WAAY,oBACZ,YAAa,KACb,cAAe,GACf,cAAe,GACf,kBAAmB,IAAI,KAAK,EAAE,YAAY,EAC1C,mBAAoB,KACpB,WAAY,EACZ,cAAe,EACf,WAAY,EACZ,aAAc,EACd,QAAS,GACT,YAAY3C,GAAA,YAAAA,EAAa,UAAW,IACtC,EAEQ,QAAA,IAAI,kCAAmC4C,CAAc,EACvD,KAAA,CAAE,MAAA7I,GAAU,MAAM8H,EACrB,KAAK,UAAU,EACf,OAAO,CAACe,CAAc,CAAC,EAE1B,GAAI7I,EACM,cAAA,MAAM,sBAAuBA,CAAK,EACpCA,EAGA,QAAA,IAAI,gDAAiD4I,CAAS,EAChE1I,EAAA,CACJ,MAAO,UACP,YAAa,oCAAoC0I,CAAS,gDAC1D,SAAU,GAAA,CACX,CAAA,KACI,CAEL,MAAMzD,EAAUX,EAAS,KAAMsE,GAAMA,EAAE,KAAOxJ,CAAS,EACvD,GAAI,CAAC6F,EACG,MAAA,IAAI,MAAM,mBAAmB,EAKrC,GAAI,CADc,QAAQ,oBAAoBA,EAAQ,YAAY,kEAAkE,EACpH,CACd,QAAQ,IAAI,kCAAkC,EAC9CkC,EAAmB,IAAI,EACvB,MAAA,CAGM,QAAA,IAAI,oBAAqBlC,CAAO,EAGxC,MAAM4D,EAAa,CACjB,GAAI5D,EAAQ,GACZ,aAAcA,EAAQ,aACtB,SAAUA,EAAQ,UAAY,GAC9B,kBAAmBA,EAAQ,mBAAqB,EAChD,cAAeA,EAAQ,eAAiB,EACxC,SAAUA,EAAQ,UAAY,GAC9B,YAAaA,EAAQ,aAAe,GACpC,cAAeA,EAAQ,eAAiB,EACxC,OAAQA,EAAQ,QAAU,EAC1B,YAAaA,EAAQ,aAAe,KACpC,WAAYA,EAAQ,YAAc,oBAClC,YAAaA,EAAQ,aAAe,KACpC,cAAeA,EAAQ,eAAiB,GACxC,cAAeA,EAAQ,eAAiB,GACxC,kBAAmB,IAAI,KAAK,EAAE,YAAY,EAC1C,mBAAoBA,EAAQ,oBAAsB,KAClD,WAAYA,EAAQ,YAAc,EAClC,cAAeA,EAAQ,eAAiB,EACxC,WAAYA,EAAQ,YAAc,EAClC,aAAcA,EAAQ,cAAgB,EACtC,QAASA,EAAQ,SAAW,GAC5B,WAAYA,EAAQ,aAAcc,GAAA,YAAAA,EAAa,UAAW,IAC5D,EAEQ,QAAA,IAAI,8BAA+B8C,CAAU,EACrD,KAAM,CAAE,MAAA/I,CAAU,EAAA,MAAM8H,EACrB,KAAK,UAAU,EACf,OAAOiB,CAAU,EACjB,GAAG,KAAM5D,EAAQ,EAAE,EAEtB,GAAInF,EACM,cAAA,MAAM,sBAAuBA,CAAK,EACpCA,EAGA,QAAA,IAAI,wCAAyCmF,EAAQ,EAAE,EACzDjF,EAAA,CACJ,MAAO,UACP,YAAa,IAAIiF,EAAQ,YAAY,yBACrC,SAAU,GAAA,CACX,CAAA,CAIayC,EAAA,QACT5H,EAAO,CACN,QAAA,MAAM,wBAAyBA,CAAK,EACtCE,EAAA,CACJ,MAAO,QACP,YAAa,aAAawI,EAAa,SAAW,QAAQ,aAAa1I,CAAK,GAC5E,QAAS,aAAA,CACV,CAAA,QACD,CACAqH,EAAmB,IAAI,CAAA,CAE3B,EAGM2B,GAAmBC,EAAAA,YAAY,IAAM,CACrC9B,GAAiB,CAACF,IAEtBG,EAAiB,EAAI,EAGrB,WAAW,IAAM,CACQI,EAAC0B,GAASA,EAAO5B,CAAQ,EAChDF,EAAiB,EAAK,GACrB,GAAG,EACL,EAAA,CAACD,EAAeF,EAAiBK,CAAQ,CAAC,EAG7CzH,EAAAA,UAAU,IAAM,CACd,MAAMsJ,EAAW,IAAI,qBAClBC,GAAY,CACIA,EAAQ,CAAC,EACb,gBAAkBnC,GAAmB,CAACE,GAC9B6B,GAAA,CAErB,EACA,CACE,UAAW,GACX,WAAY,OAAA,CAEhB,EAEMK,EAAiB5B,EAAkB,QACzC,OAAI4B,GACFF,EAAS,QAAQE,CAAc,EAG1B,IAAM,CACPA,GACFF,EAAS,UAAUE,CAAc,CAErC,CACC,EAAA,CAACL,GAAkB/B,EAAiBE,CAAa,CAAC,EAE/C,MAAAmC,GAAiB,CAAChK,EAAmBC,IAAwB,CACjE,QAAQ,IAAI,6BAA8B,CAAE,UAAAD,EAAW,YAAAC,EAAa,EACpEqH,EAAmB,CAAE,GAAItH,EAAW,KAAMC,EAAa,EACvDmH,EAAiB,EAAI,EACrB,QAAQ,IAAI,+BAA+B,CAC7C,EAMM6C,GAAiB,IAAM,CACvB,GAAAhD,IAAe,EAAU,MAAA,GAE7B,MAAMiD,EAAmB,KAAK,IAAIhF,EAAS,OAAQ+B,CAAU,EAE7D,OAAIM,EACK,WAAW2C,CAAgB,OAAOjD,CAAU,uBAAuBM,CAAmB,IAG3FI,EACK,WAAWuC,CAAgB,OAAOjD,CAAU,uCAG9C,eAAeA,CAAU,WAClC,EAGMzB,EAAiB1C,GAAiB,CAClC,GAAA,CAACyE,GAAuB,CAACzE,EACpB,MAAA,CACL,SAAU,CAAC,EACX,SAAU,GACV,mBAAoBA,CACtB,EAGF,MAAM2C,EAAiB8B,EAAoB,YAAY,EAAE,KAAO,EAAA,MAAM,KAAK,EAAE,OAAQ7B,GAAYA,EAAQ,OAAS,CAAC,EAC7GC,EAAY7C,EAAK,YAAY,EAG7BE,EAAWyC,EAAe,MAAOC,GAAYC,EAAU,SAASD,CAAO,CAAC,EAEvE,MAAA,CACL,SAAUD,EACV,SAAAzC,EACA,mBACAhB,EAAA,IAACa,GAAA,CACC,KAAAC,EACA,YAAa2C,EACb,SAAAzC,EAAoB,UAAQ,YAAY,YAAU,oCAAA,CAAA,CAGtD,CACF,EAGMmH,EAAoB,IAAM,CAC9BnD,EAAc,EAAE,EAChBkB,EAAuBF,CAAQ,CACjC,EAEA,cACGnD,GAAgB,CAAA,QAAQ,KAAK,UAAQ,YAAY,YAAU,qCAC1D,SAAA,CAAAhD,EAAA,KAACkE,GAAK,CAAA,UAAQ,YAAY,YAAU,qCAClC,SAAA,CAAA/D,EAAAA,IAACgE,IAAW,UAAQ,YAAY,YAAU,qCACxC,gBAAC,MAAI,CAAA,UAAW,qBAChBrB,EAAW,SAAW,qBAAuB,iBAAiB,GAC5D,UAAQ,YAAY,YAAU,qCAC9B,SAAA,CAAC9C,EAAAA,KAAA,MAAA,CAAI,UAAW8C,EAAW,SAAW,cAAgB,GAAI,UAAQ,YAAY,YAAU,qCACtF,SAAA,CAAA9C,OAACoE,IAAU,UAAU,8BAA8B,UAAQ,YAAY,YAAU,qCAC/E,SAAA,CAAAjE,MAACV,GAAQ,UAAU,UAAU,UAAQ,YAAY,YAAU,qCAAqC,QAC/F,OAAK,CAAA,UAAQ,YAAY,YAAU,qCAAqC,SAAQ,UAAA,CAAA,CAAA,EACnF,EACAU,EAAAA,IAACoI,GAAgB,CAAA,UAAWzF,EAAW,SAAW,mBAAqB,GAAI,UAAQ,YAAY,YAAU,qCAAqC,SAE9I,oFAAA,CAAA,CAAA,EACF,EACA9C,EAAA,KAACqE,EAAA,CACC,QAAS,IAAMO,EAAS,eAAe,EACvC,UAAW,8CACX9B,EAAW,SAAW,SAAW,EAAE,GACjC,UAAQ,YAAY,YAAU,qCAChC,SAAA,CAAA3C,MAACqI,IAAK,UAAU,eAAe,UAAQ,YAAY,YAAU,qCAAqC,EAAE,aAAA,CAAA,CAAA,CAEtG,CAAA,CACF,CACF,CAAA,EACCxI,EAAA,KAAA0E,GAAA,CAAY,UAAQ,YAAY,YAAU,qCAEzC,SAAA,CAAC1E,EAAA,KAAA,MAAA,CAAI,UAAW,0BAChB8C,EAAW,SAAW,qBAAuB,WAAW,GACtD,UAAQ,YAAY,YAAU,qCAC9B,SAAA,CAAC9C,EAAA,KAAA,MAAA,CAAI,UAAW,YAChB8C,EAAW,SAAW,SAAW,iBAAiB,GAChD,UAAQ,YAAY,YAAU,qCAC9B,SAAA,CAAA3C,MAACsI,IAAO,UAAU,2EAA2E,UAAQ,YAAY,YAAU,qCAAqC,EAC/JnF,GACDnD,EAAA,IAAC,SAAA,CACC,QAASmI,EACT,UAAU,iIACV,MAAM,eAAe,UAAQ,YAAY,YAAU,qCAEjD,eAACI,GAAE,CAAA,UAAU,UAAU,UAAQ,YAAY,YAAU,oCAAqC,CAAA,CAAA,CAC5F,EAEFvI,EAAA,IAACwI,GAAA,CACC,YAAa7F,EAAW,SACxB,qBACA,uEAEA,MAAOQ,EACP,SAAWsF,GAAMzD,EAAcyD,EAAE,OAAO,KAAK,EAC7C,UAAW,SAAStF,EAAa,QAAU,MAAM,GAAI,UAAQ,YAAY,YAAU,oCAAA,CAAA,CAAqC,EAC5H,EACCoC,GACD1F,EAAA,KAAC,MAAI,CAAA,UAAW,+BAChB8C,EAAW,SAAW,wBAA0B,EAAE,GAChD,UAAQ,YAAY,YAAU,qCAC5B,SAAA,CAAA9C,OAACc,GAAM,QAAQ,YAAY,UAAQ,YAAY,YAAU,qCACtD,SAAA,CAAAsE,EAAW,UAAQA,IAAe,EAAI,IAAM,GAAG,QAAA,EAClD,EACAjF,EAAA,IAACkE,EAAA,CACD,QAAQ,UACR,KAAK,KACL,QAASiE,EAAmB,UAAQ,YAAY,YAAU,qCAAqC,SAAA,OAAA,CAAA,CAE/F,CACF,CAAA,CAAA,EAEJ,EAGC9J,EACD2B,EAAA,IAAC,MAAI,CAAA,UAAU,YAAY,UAAQ,YAAY,YAAU,qCACpD,SAAC,CAAA,GAAG,MAAM,CAAC,CAAC,EAAE,IAAI,CAACE,EAAGC,IACxBH,EAAA,IAAA,MAAA,CAAY,UAAW,qCACxB2C,EAAW,SAAW,OAAS,MAAM,GACnC,UAAQ,YAAY,YAAU,sCAFtBxC,CAE2D,CAErE,CAAA,CAAA,EACF+C,EAAS,SAAW,EACpBrD,EAAA,KAAC,MAAI,CAAA,UAAU,mBAAmB,UAAQ,YAAY,YAAU,qCAC5D,SAAA,CAAAG,MAACV,GAAQ,UAAU,uCAAuC,UAAQ,YAAY,YAAU,qCAAqC,EAC5HU,EAAA,IAAA,IAAA,CAAE,UAAU,gBAAgB,UAAQ,YAAY,YAAU,qCACxD,SAAsBuF,EAAA,+BAA+BA,CAAmB,IAAM,oBACjF,EACAvF,EAAA,IAACkE,EAAA,CACD,QAAQ,UACR,UAAU,OACV,QAAS,IAAMqB,EAAsB4C,EAAkB,EAAI1D,EAAS,eAAe,EAAG,UAAQ,YAAY,YAAU,qCACjH,WAAsB,eAAiB,wBAAA,CAAA,CAC1C,EACF,EAEF9B,EAAW,SACX3C,EAAA,IAACiD,GAAA,CACC,SAAAC,EACA,WAAYqC,EACZ,WAAYyC,GACZ,cAAeb,GACf,gBAAiBF,EACjB,gBAAA1D,EAAkC,UAAQ,YAAY,YAAU,oCAAA,CAAA,EAGlEvD,EAAAA,IAACuC,GAAgB,CAAA,UAAU,oCAAoC,UAAQ,YAAY,YAAU,qCACzF,SAAC1C,EAAAA,KAAAO,GAAA,CAAM,UAAQ,YAAY,YAAU,qCACnC,SAAA,CAACJ,EAAA,IAAAK,GAAA,CAAY,UAAQ,YAAY,YAAU,qCACzC,gBAACC,EAAS,CAAA,UAAQ,YAAY,YAAU,qCACtC,SAAA,CAAAN,MAACO,EAAU,CAAA,UAAQ,YAAY,YAAU,qCAAqC,SAAM,SAAA,QACnFA,EAAU,CAAA,UAAQ,YAAY,YAAU,qCAAqC,SAAY,eAAA,QACzFA,EAAU,CAAA,UAAQ,YAAY,YAAU,qCAAqC,SAAM,SAAA,QACnFA,EAAU,CAAA,UAAQ,YAAY,YAAU,qCAAqC,SAAU,aAAA,QACvFA,EAAU,CAAA,UAAQ,YAAY,YAAU,qCAAqC,SAAQ,WAAA,QACrFA,EAAU,CAAA,UAAQ,YAAY,YAAU,qCAAqC,SAAiB,oBAAA,QAC9FA,EAAU,CAAA,UAAQ,YAAY,YAAU,qCAAqC,SAAkB,qBAAA,QAC/FA,EAAU,CAAA,UAAQ,YAAY,YAAU,qCAAqC,SAAU,aAAA,QACvFA,EAAU,CAAA,UAAQ,YAAY,YAAU,qCAAqC,SAAa,gBAAA,QAC1FA,EAAU,CAAA,UAAQ,YAAY,YAAU,qCAAqC,SAAU,aAAA,QACvFA,EAAU,CAAA,UAAQ,YAAY,YAAU,qCAAqC,SAAY,eAAA,QACzFA,EAAU,CAAA,UAAQ,YAAY,YAAU,qCAAqC,SAAa,gBAAA,QAC1FA,EAAU,CAAA,UAAQ,YAAY,YAAU,qCAAqC,SAAO,SAAA,CAAA,CAAA,CAAA,CACvF,CACF,CAAA,EACAP,EAAAA,IAACQ,IAAU,UAAQ,YAAY,YAAU,qCACtC,SAAA0C,EAAS,IAAKW,GAAY,CACrB,MAAAhF,EAAcC,GAAuB,CACrC,GAAA,CAACA,EAAmB,MAAA,IACpB,GAAA,CACF,OAAO,IAAI,KAAKA,CAAU,EAAE,mBAAmB,CAAA,MACzC,CACC,MAAA,GAAA,CAEX,EAEA,OACGe,EAAAA,KAAAS,EAAA,CAA0B,UAAQ,YAAY,YAAU,qCACrD,SAAA,CAACN,EAAAA,IAAAU,EAAA,CAAU,UAAU,cAAc,UAAQ,YAAY,YAAU,qCAAsC,SAAQmD,EAAA,eAAiB,GAAI,CAAA,EACpI7D,EAAA,IAACU,EAAU,CAAA,UAAQ,YAAY,YAAU,qCACvC,SAAAb,EAAAA,KAAC,MAAI,CAAA,UAAQ,YAAY,YAAU,qCACjC,SAAA,CAAAG,EAAA,IAAC,IAAE,CAAA,UAAU,cAAc,UAAQ,YAAY,YAAU,qCACtD,SACHuF,EAAA/B,EAAcK,EAAQ,YAAY,EAAE,mBACpCA,EAAQ,aAER,EACCA,EAAQ,aACX7D,EAAAA,IAAC,IAAE,CAAA,UAAU,0CAA0C,UAAQ,YAAY,YAAU,qCAC9E,WACLwD,EAAcK,EAAQ,WAAW,EAAE,mBACnCA,EAAQ,WAEN,CAAA,CAAA,CAAA,CAEJ,CACF,CAAA,QACCnD,EAAU,CAAA,UAAQ,YAAY,YAAU,qCACtC,WAAQ,QAAUmD,EAAQ,OAAS,EACtC,GAAGA,EAAQ,MAAM,IAAIA,EAAQ,aAAe,IAAI,GAAK,IAErD,EACA7D,EAAAA,IAACU,EAAU,CAAA,UAAQ,YAAY,YAAU,qCACvC,SAACV,EAAA,IAAAW,EAAA,CAAM,QAAQ,UAAU,UAAQ,YAAY,YAAU,qCACpD,SAAA4E,EACH/B,EAAcK,EAAQ,YAAc,mBAAmB,EAAE,mBACzDA,EAAQ,YAAc,mBAAA,CAEtB,CACF,CAAA,EACC7D,EAAA,IAAAU,EAAA,CAAU,UAAQ,YAAY,YAAU,qCACtC,SAAA6E,EACH/B,EAAcK,EAAQ,UAAY,GAAG,EAAE,mBACvCA,EAAQ,UAAY,IAEpB,EACA7D,EAAAA,IAACU,GAAU,UAAQ,YAAY,YAAU,qCAAsC,SAAA7B,EAAWgF,EAAQ,iBAAiB,CAAE,CAAA,EACrH7D,EAAAA,IAACU,GAAU,UAAQ,YAAY,YAAU,qCAAsC,SAAA7B,EAAWgF,EAAQ,kBAAkB,CAAE,CAAA,EACrH7D,EAAA,IAAAU,EAAA,CAAU,UAAQ,YAAY,YAAU,qCACtC,SAAAmD,EAAQ,WAAa,IAAIA,EAAQ,WAAW,QAAQ,CAAC,CAAC,GAAK,IAC9D,EACA7D,EAAAA,IAACU,GAAU,UAAQ,YAAY,YAAU,qCAAsC,SAAAmD,EAAQ,eAAiB,GAAI,CAAA,EAC3G7D,EAAA,IAAAU,EAAA,CAAU,UAAQ,YAAY,YAAU,qCACtC,SAAAmD,EAAQ,WAAa,IAAIA,EAAQ,WAAW,QAAQ,CAAC,CAAC,GAAK,IAC9D,EACC7D,EAAA,IAAAU,EAAA,CAAU,UAAQ,YAAY,YAAU,qCACtC,SAAAmD,EAAQ,aAAe,IAAIA,EAAQ,aAAa,QAAQ,CAAC,CAAC,GAAK,IAClE,QACCnD,EAAU,CAAA,UAAQ,YAAY,YAAU,qCACrC,UAAM,IAAA,CACR,GAAImD,EAAQ,YAAcA,EAAQ,cAAgBA,EAAQ,aAAe,EAAG,CAC1E,MAAMC,GAAUD,EAAQ,aAAeA,EAAQ,YAAcA,EAAQ,aAAe,IAElF,OAAAhE,EAAA,KAACc,EAAA,CACC,QAASmD,EAAS,GAAK,UAAYA,EAAS,GAAK,YAAc,cAC/D,UAAU,UAAU,UAAQ,YAAY,YAAU,qCAC/C,SAAA,CAAAA,EAAO,QAAQ,CAAC,EAAE,GAAA,CAAA,CACrB,CAAA,CAEC,MAAA,QAET,EACC9D,EAAA,IAAAU,EAAA,CAAU,UAAQ,YAAY,YAAU,qCACvC,SAACb,EAAAA,KAAA,MAAA,CAAI,UAAU,8BAA8B,UAAQ,YAAY,YAAU,qCACzE,SAAA,CAAAG,EAAA,IAACkE,EAAA,CACD,QAAQ,UACR,KAAK,KACL,QAAS,IAAM,CACb,QAAQ,IAAI,4BAA6BL,EAAQ,GAAIA,EAAQ,YAAY,EAC1DmE,GAAAnE,EAAQ,GAAIA,EAAQ,YAAY,CACjD,EACA,MAAM,mBAAmB,UAAQ,YAAY,YAAU,qCACrD,eAACM,GAAS,CAAA,UAAU,UAAU,UAAQ,YAAY,YAAU,oCAAqC,CAAA,CAAA,CACnG,EACAnE,EAAA,IAACkE,EAAA,CACD,QAAQ,UACR,KAAK,KACL,QAAS,IAAM,CACL,QAAA,IAAI,kBAAmBL,EAAQ,EAAE,EACzCsD,GAAkBtD,EAAQ,EAAE,CAC9B,EACA,SAAUN,IAAoBM,EAAQ,GACtC,MAAM,eAAe,UAAQ,YAAY,YAAU,qCAChD,aAAoBA,EAAQ,SAC9BO,EAAQ,CAAA,UAAU,uBAAuB,UAAQ,YAAY,YAAU,qCAAqC,QAE5GC,GAAK,CAAA,UAAU,UAAU,UAAQ,YAAY,YAAU,oCAAqC,CAAA,CAAA,CAE7F,EACArE,EAAA,IAACkE,EAAA,CACD,QAAQ,UACR,KAAK,KACL,QAAS,IAAM,CACL,QAAA,IAAI,oBAAqBL,EAAQ,EAAE,EAC3CoD,EAAapD,EAAQ,EAAE,CACzB,EACA,UAAU,kCACV,MAAM,iBAAiB,UAAQ,YAAY,YAAU,qCACnD,eAACS,GAAO,CAAA,UAAU,UAAU,UAAQ,YAAY,YAAU,oCAAqC,CAAA,CAAA,CAAA,CACjG,CAAA,CACF,CACF,CAAA,CAAA,CAAA,EAxGWT,EAAQ,EAyGrB,CAAA,CAEL,CACD,CAAA,CAAA,CAAA,CACF,CACF,CAAA,EAIDX,EAAS,OAAS,GAClBrD,EAAA,KAAA,MAAA,CAAI,UAAU,OAAO,UAAQ,YAAY,YAAU,qCAChD,SAAA,CAACG,EAAAA,IAAA,IAAA,CAAE,UAAU,yCAAyC,UAAQ,YAAY,YAAU,qCACjF,YACH,CAAA,CAAA,EAGC2F,GACH3F,EAAA,IAAC,MAAA,CACC,IAAKmG,EACL,UAAU,wCAAwC,UAAQ,YAAY,YAAU,qCAE3E,SAAAN,SACJ,MAAI,CAAA,UAAU,4CAA4C,UAAQ,YAAY,YAAU,qCACjF,SAAA,CAAA7F,MAACoE,GAAQ,UAAU,uBAAuB,UAAQ,YAAY,YAAU,qCAAqC,QAC5G,OAAK,CAAA,UAAQ,YAAY,YAAU,qCAAqC,SAAwB,0BAAA,CAAA,CACnG,CAAA,CAAA,QAEL,MAAI,CAAA,UAAU,wBAAwB,UAAQ,YAAY,YAAU,qCAAqC,SAEpG,mCAAA,CAAA,CAAA,CAEJ,EAGD,CAACuB,GAAmBV,EAAae,GACpCnG,EAAAA,KAAC,MAAI,CAAA,UAAU,yCAAyC,UAAQ,YAAY,YAAU,qCAAqC,SAAA,CAAA,gCACvFoF,EAAW,kBAAA,CAC3C,CAAA,CAAA,CAEJ,CAAA,CAAA,CAEJ,CAAA,CAAA,EACF,EAGCI,GACDrF,EAAA,IAACnC,GAAA,CACC,OAAQsH,EACR,QAAS,IAAM,CACbC,EAAiB,EAAK,EACtBE,EAAmB,IAAI,CACzB,EACA,UAAWD,EAAgB,GAC3B,YAAaA,EAAgB,KAAM,UAAQ,YAAY,YAAU,oCAAA,CAAA,CAAqC,EAE1G,CACJ"}