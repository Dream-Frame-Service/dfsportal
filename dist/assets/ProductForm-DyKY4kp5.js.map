{"version":3,"file":"ProductForm-DyKY4kp5.js","sources":["../../node_modules/lucide-react/dist/esm/icons/calculator.js","../../src/components/ErrorBoundary/ComponentErrorBoundary.tsx","../../src/components/ErrorBoundary/FormErrorBoundary.tsx","../../src/hooks/use-error-handler.ts","../../src/components/BarcodeScanner.tsx","../../src/pages/Products/ProductForm.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.344.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Calculator = createLucideIcon(\"Calculator\", [\n  [\"rect\", { width: \"16\", height: \"20\", x: \"4\", y: \"2\", rx: \"2\", key: \"1nb95v\" }],\n  [\"line\", { x1: \"8\", x2: \"16\", y1: \"6\", y2: \"6\", key: \"x4nwl0\" }],\n  [\"line\", { x1: \"16\", x2: \"16\", y1: \"14\", y2: \"18\", key: \"wjye3r\" }],\n  [\"path\", { d: \"M16 10h.01\", key: \"1m94wz\" }],\n  [\"path\", { d: \"M12 10h.01\", key: \"1nrarc\" }],\n  [\"path\", { d: \"M8 10h.01\", key: \"19clt8\" }],\n  [\"path\", { d: \"M12 14h.01\", key: \"1etili\" }],\n  [\"path\", { d: \"M8 14h.01\", key: \"6423bh\" }],\n  [\"path\", { d: \"M12 18h.01\", key: \"mhygvu\" }],\n  [\"path\", { d: \"M8 18h.01\", key: \"lrp35t\" }]\n]);\n\nexport { Calculator as default };\n//# sourceMappingURL=calculator.js.map\n","import React, { Component, ReactNode } from 'react';\nimport { ErrorLogger } from '@/services/errorLogger';\nimport { AlertTriangle, RefreshCw } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\n\ninterface Props {\n  children: ReactNode;\n  componentName?: string;\n  fallback?: React.ComponentType<any>;\n  severity?: 'low' | 'medium' | 'high' | 'critical';\n  showErrorDetails?: boolean;\n  onError?: (error: Error, errorInfo: React.ErrorInfo) => void;\n  minHeight?: string;\n}\n\ninterface State {\n  hasError: boolean;\n  error: Error | null;\n  errorInfo: React.ErrorInfo | null;\n}\n\nclass ComponentErrorBoundary extends Component<Props, State> {\n  private errorLogger: ErrorLogger;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      hasError: false,\n      error: null,\n      errorInfo: null\n    };\n    this.errorLogger = ErrorLogger.getInstance();\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    return {\n      hasError: true,\n      error,\n      errorInfo: null\n    };\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    const severity = this.props.severity || 'medium';\n    const componentName = this.props.componentName || 'Unknown Component';\n\n    this.errorLogger.log(\n      error,\n      severity,\n      `ComponentErrorBoundary - ${componentName}`,\n      errorInfo,\n      {\n        component: componentName,\n        url: window.location.href,\n        timestamp: new Date().toISOString()\n      }\n    );\n\n    this.setState({\n      error,\n      errorInfo\n    });\n\n    // Call custom error handler if provided\n    if (this.props.onError) {\n      this.props.onError(error, errorInfo);\n    }\n\n    // Log to console in development\n    if (process.env.NODE_ENV === 'development') {\n      console.group(`ðŸš¨ Component Error Boundary - ${componentName}`);\n      console.error('Error:', error);\n      console.error('Error Info:', errorInfo);\n      console.groupEnd();\n    }\n  }\n\n  handleReset = () => {\n    this.setState({\n      hasError: false,\n      error: null,\n      errorInfo: null\n    });\n  };\n\n  render() {\n    if (this.state.hasError && this.state.error) {\n      // Custom fallback component\n      if (this.props.fallback) {\n        const FallbackComponent = this.props.fallback;\n        return (\n          <FallbackComponent\n            error={this.state.error}\n            resetError={this.handleReset}\n            errorInfo={this.state.errorInfo}\n            componentName={this.props.componentName} data-id=\"fnb0gt7fa\" data-path=\"src/components/ErrorBoundary/ComponentErrorBoundary.tsx\" />);\n\n\n      }\n\n      // Default compact fallback UI for components\n      return (\n        <Card\n          className=\"bg-red-50 border-red-200 border-2\"\n          style={{ minHeight: this.props.minHeight || 'auto' }} data-id=\"u4id1borq\" data-path=\"src/components/ErrorBoundary/ComponentErrorBoundary.tsx\">\n\n          <CardContent className=\"p-4\" data-id=\"9isa1zn6t\" data-path=\"src/components/ErrorBoundary/ComponentErrorBoundary.tsx\">\n            <div className=\"flex items-center justify-center text-center\" data-id=\"wq5r1pf7d\" data-path=\"src/components/ErrorBoundary/ComponentErrorBoundary.tsx\">\n              <div className=\"space-y-3\" data-id=\"jfsd4j1bd\" data-path=\"src/components/ErrorBoundary/ComponentErrorBoundary.tsx\">\n                <div className=\"flex items-center justify-center text-red-600\" data-id=\"gaz6exm82\" data-path=\"src/components/ErrorBoundary/ComponentErrorBoundary.tsx\">\n                  <AlertTriangle size={24} data-id=\"gkfcithgp\" data-path=\"src/components/ErrorBoundary/ComponentErrorBoundary.tsx\" />\n                </div>\n                \n                <div data-id=\"j3z8qmr6a\" data-path=\"src/components/ErrorBoundary/ComponentErrorBoundary.tsx\">\n                  <h3 className=\"font-semibold text-red-800 text-sm\" data-id=\"d6hziynwg\" data-path=\"src/components/ErrorBoundary/ComponentErrorBoundary.tsx\">\n                    Component Error\n                  </h3>\n                  <p className=\"text-red-600 text-xs mt-1\" data-id=\"hjdifgto7\" data-path=\"src/components/ErrorBoundary/ComponentErrorBoundary.tsx\">\n                    {this.props.componentName || 'This component'} encountered an error\n                  </p>\n                </div>\n\n                <Button\n                  onClick={this.handleReset}\n                  size=\"sm\"\n                  variant=\"outline\"\n                  className=\"border-red-300 text-red-700 hover:bg-red-100\" data-id=\"2u4hbiecv\" data-path=\"src/components/ErrorBoundary/ComponentErrorBoundary.tsx\">\n\n                  <RefreshCw size={14} className=\"mr-1\" data-id=\"utll9ux2h\" data-path=\"src/components/ErrorBoundary/ComponentErrorBoundary.tsx\" />\n                  Retry\n                </Button>\n\n                {this.props.showErrorDetails &&\n                <details className=\"mt-2 text-xs text-red-600\" data-id=\"o2mnuse1n\" data-path=\"src/components/ErrorBoundary/ComponentErrorBoundary.tsx\">\n                    <summary className=\"cursor-pointer hover:text-red-800\" data-id=\"12fgo0dp3\" data-path=\"src/components/ErrorBoundary/ComponentErrorBoundary.tsx\">\n                      Error Details\n                    </summary>\n                    <div className=\"mt-1 text-left bg-red-100 p-2 rounded font-mono text-xs\" data-id=\"jhpnqra4w\" data-path=\"src/components/ErrorBoundary/ComponentErrorBoundary.tsx\">\n                      <div data-id=\"xn1spat0z\" data-path=\"src/components/ErrorBoundary/ComponentErrorBoundary.tsx\"><strong data-id=\"3sst9i0hb\" data-path=\"src/components/ErrorBoundary/ComponentErrorBoundary.tsx\">Error:</strong> {this.state.error.message}</div>\n                      {this.state.error.stack &&\n                    <div className=\"mt-1\" data-id=\"moidzeyq0\" data-path=\"src/components/ErrorBoundary/ComponentErrorBoundary.tsx\">\n                          <strong data-id=\"wb5v3pbq3\" data-path=\"src/components/ErrorBoundary/ComponentErrorBoundary.tsx\">Stack:</strong>\n                          <pre className=\"whitespace-pre-wrap text-xs\" data-id=\"njt5g1n1r\" data-path=\"src/components/ErrorBoundary/ComponentErrorBoundary.tsx\">\n                            {this.state.error.stack.split('\\n').slice(0, 3).join('\\n')}\n                          </pre>\n                        </div>\n                    }\n                    </div>\n                  </details>\n                }\n              </div>\n            </div>\n          </CardContent>\n        </Card>);\n\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default ComponentErrorBoundary;\n","import React, { Component, ReactNode } from 'react';\nimport { ErrorLogger } from '@/services/errorLogger';\nimport { AlertTriangle, RefreshCw, Save } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\n\ninterface Props {\n  children: ReactNode;\n  formName?: string;\n  onFormReset?: () => void;\n  onDataSave?: () => void;\n  fallback?: React.ComponentType<any>;\n  showDataRecovery?: boolean;\n}\n\ninterface State {\n  hasError: boolean;\n  error: Error | null;\n  errorInfo: React.ErrorInfo | null;\n}\n\nclass FormErrorBoundary extends Component<Props, State> {\n  private errorLogger: ErrorLogger;\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      hasError: false,\n      error: null,\n      errorInfo: null\n    };\n    this.errorLogger = ErrorLogger.getInstance();\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    return {\n      hasError: true,\n      error,\n      errorInfo: null\n    };\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    const formName = this.props.formName || 'Unknown Form';\n\n    this.errorLogger.log(\n      error,\n      'high', // Forms are critical for data entry\n      `FormErrorBoundary - ${formName}`,\n      errorInfo,\n      {\n        form: formName,\n        url: window.location.href,\n        timestamp: new Date().toISOString(),\n        formData: this.attemptFormDataRecovery()\n      }\n    );\n\n    this.setState({\n      error,\n      errorInfo\n    });\n\n    // Log to console in development\n    if (process.env.NODE_ENV === 'development') {\n      console.group(`ðŸš¨ Form Error Boundary - ${formName}`);\n      console.error('Error:', error);\n      console.error('Error Info:', errorInfo);\n      console.groupEnd();\n    }\n  }\n\n  private attemptFormDataRecovery = (): Record<string, any> => {\n    try {\n      // Try to extract form data from the DOM\n      const formElements = document.querySelectorAll('input, select, textarea');\n      const formData: Record<string, any> = {};\n\n      formElements.forEach((element: any) => {\n        if (element.name || element.id) {\n          const key = element.name || element.id;\n          if (element.type === 'checkbox' || element.type === 'radio') {\n            formData[key] = element.checked;\n          } else {\n            formData[key] = element.value;\n          }\n        }\n      });\n\n      return formData;\n    } catch (e) {\n      console.warn('Failed to recover form data:', e);\n      return {};\n    }\n  };\n\n  handleReset = () => {\n    this.setState({\n      hasError: false,\n      error: null,\n      errorInfo: null\n    });\n  };\n\n  handleFormReset = () => {\n    if (this.props.onFormReset) {\n      this.props.onFormReset();\n    }\n    this.handleReset();\n  };\n\n  handleDataSave = () => {\n    if (this.props.onDataSave) {\n      this.props.onDataSave();\n    }\n  };\n\n  render() {\n    if (this.state.hasError && this.state.error) {\n      // Custom fallback component\n      if (this.props.fallback) {\n        const FallbackComponent = this.props.fallback;\n        return (\n          <FallbackComponent\n            error={this.state.error}\n            resetError={this.handleReset}\n            errorInfo={this.state.errorInfo}\n            formName={this.props.formName}\n            onFormReset={this.handleFormReset}\n            onDataSave={this.handleDataSave} data-id=\"azrzj1hk7\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\" />);\n\n\n      }\n\n      // Default form error fallback UI\n      return (\n        <Card className=\"bg-red-50 border-red-200 border-2\" data-id=\"o9oy5mqpb\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">\n          <CardHeader className=\"pb-3\" data-id=\"e7j4mj6bu\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">\n            <CardTitle className=\"flex items-center gap-2 text-red-800 text-lg\" data-id=\"qnunxliw0\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">\n              <AlertTriangle size={20} data-id=\"krsr4xyy3\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\" />\n              Form Error Detected\n            </CardTitle>\n          </CardHeader>\n          \n          <CardContent className=\"space-y-4\" data-id=\"p0jb9ivwp\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">\n            <Alert className=\"border-red-300 bg-red-100\" data-id=\"x107yl2ul\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">\n              <AlertTriangle className=\"h-4 w-4\" data-id=\"qy5uoxuev\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\" />\n              <AlertDescription className=\"text-red-800\" data-id=\"i2sluoe32\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">\n                An error occurred while processing the{' '}\n                {this.props.formName ? `${this.props.formName} form` : 'form'}.\n                {this.props.showDataRecovery &&\n                <span className=\"block mt-1 text-sm\" data-id=\"nasi086i0\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">\n                    Your form data may have been preserved and can be recovered.\n                  </span>\n                }\n              </AlertDescription>\n            </Alert>\n\n            <div className=\"space-y-2\" data-id=\"vhehq0iiw\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">\n              <p className=\"text-sm text-red-700\" data-id=\"lsco323xy\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">\n                <strong data-id=\"78v9et2bi\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">Error:</strong> {this.state.error.message}\n              </p>\n            </div>\n\n            <div className=\"flex flex-wrap gap-2\" data-id=\"rgxwg3h8n\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">\n              <Button\n                onClick={this.handleReset}\n                variant=\"default\"\n                size=\"sm\"\n                className=\"flex items-center gap-2\" data-id=\"tqvzrxrnt\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">\n\n                <RefreshCw size={16} data-id=\"ilqq3ie0x\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\" />\n                Retry Form\n              </Button>\n\n              {this.props.onFormReset &&\n              <Button\n                onClick={this.handleFormReset}\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"flex items-center gap-2 border-red-300 text-red-700 hover:bg-red-100\" data-id=\"hfvv8cghy\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">\n\n                  <RefreshCw size={16} data-id=\"ct81b6oa2\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\" />\n                  Reset Form\n                </Button>\n              }\n\n              {this.props.showDataRecovery && this.props.onDataSave &&\n              <Button\n                onClick={this.handleDataSave}\n                variant=\"secondary\"\n                size=\"sm\"\n                className=\"flex items-center gap-2\" data-id=\"ah2mnwc7h\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">\n\n                  <Save size={16} data-id=\"ue6vkf90d\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\" />\n                  Save Draft\n                </Button>\n              }\n            </div>\n\n            {/* Recovery Tips */}\n            <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mt-4\" data-id=\"ieg2buvrl\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">\n              <h4 className=\"font-semibold text-yellow-800 text-sm mb-2\" data-id=\"w0xe7mhsq\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">\n                Recovery Tips:\n              </h4>\n              <ul className=\"text-xs text-yellow-700 space-y-1\" data-id=\"gwnuiolpx\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">\n                <li data-id=\"t98pt9lk8\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">â€¢ Try refreshing the page and filling out the form again</li>\n                <li data-id=\"o592m2kox\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">â€¢ Check that all required fields are properly filled</li>\n                <li data-id=\"bdp73qm7c\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">â€¢ Ensure your internet connection is stable</li>\n                {this.props.showDataRecovery &&\n                <li data-id=\"dfoej8nvp\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">â€¢ Use \"Save Draft\" to preserve your current data</li>\n                }\n              </ul>\n            </div>\n\n            {/* Technical Details */}\n            <details className=\"mt-3\" data-id=\"r05gzfi8t\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">\n              <summary className=\"cursor-pointer text-xs text-red-600 hover:text-red-800\" data-id=\"27qigrobz\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">\n                Technical Details\n              </summary>\n              <div className=\"mt-2 bg-red-100 p-2 rounded text-xs font-mono text-red-800\" data-id=\"j8weabzf5\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">\n                <div data-id=\"yqi6sbfp3\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\"><strong data-id=\"d4xmj0lyg\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">Component:</strong> {this.props.formName || 'Form'}</div>\n                <div data-id=\"nekl0qjsr\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\"><strong data-id=\"k8r3j2sdf\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">Error Type:</strong> {this.state.error.name}</div>\n                <div data-id=\"1y41ihf9w\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\"><strong data-id=\"zybkn7amd\" data-path=\"src/components/ErrorBoundary/FormErrorBoundary.tsx\">Time:</strong> {new Date().toLocaleString()}</div>\n              </div>\n            </details>\n          </CardContent>\n        </Card>);\n\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default FormErrorBoundary;\n","import React, { useCallback } from 'react';\nimport { useToast } from './use-toast';\nimport { ErrorLogger } from '@/services/errorLogger';\n\ninterface UseErrorHandlerOptions {\n  component?: string;\n  showToast?: boolean;\n  logError?: boolean;\n  severity?: 'low' | 'medium' | 'high' | 'critical';\n}\n\nexport const useErrorHandler = (options: UseErrorHandlerOptions = {}) => {\n  const { toast } = useToast();\n  const errorLogger = ErrorLogger.getInstance();\n\n  const {\n    component = 'Unknown Component',\n    showToast = true,\n    logError = true,\n    severity = 'medium'\n  } = options;\n\n  const handleError = useCallback((\n  error: Error | string,\n  customMessage?: string,\n  context?: Record<string, any>) => {\n    const errorObj = typeof error === 'string' ? new Error(error) : error;\n\n    // Log the error\n    if (logError) {\n      errorLogger.log(\n        errorObj,\n        severity,\n        component,\n        undefined,\n        context\n      );\n    }\n\n    // Show toast notification\n    if (showToast) {\n      toast({\n        variant: 'destructive',\n        title: 'Error',\n        description: customMessage || errorObj.message || 'An unexpected error occurred'\n      });\n    }\n\n    // Console log for development\n    if (process.env.NODE_ENV === 'development') {\n      console.error(`[${component}] Error:`, errorObj);\n      if (context) {\n        console.error('Context:', context);\n      }\n    }\n  }, [component, showToast, logError, severity, toast, errorLogger]);\n\n  // Async wrapper that automatically handles errors\n  const handleAsync = useCallback(async <T,>(\n  asyncFn: () => Promise<T>,\n  errorMessage?: string,\n  context?: Record<string, any>)\n  : Promise<T | null> => {\n    try {\n      return await asyncFn();\n    } catch (error) {\n      handleError(\n        error instanceof Error ? error : new Error(String(error)),\n        errorMessage,\n        context\n      );\n      return null;\n    }\n  }, [handleError]);\n\n  // API call wrapper with built-in error handling\n  const handleApiCall = useCallback(async <T,>(\n  apiCall: () => Promise<{data?: T;error?: string;}>,\n  errorMessage?: string,\n  context?: Record<string, any>)\n  : Promise<T | null> => {\n    try {\n      const result = await apiCall();\n\n      if (result.error) {\n        throw new Error(result.error);\n      }\n\n      return result.data || null;\n    } catch (error) {\n      handleError(\n        error instanceof Error ? error : new Error(String(error)),\n        errorMessage,\n        context\n      );\n      return null;\n    }\n  }, [handleError]);\n\n  return {\n    handleError,\n    handleAsync,\n    handleApiCall\n  };\n};\n\n// HOC for wrapping components with error handling\nexport const withErrorHandler = <P extends object,>(\nComponent: React.ComponentType<P>,\nerrorHandlerOptions?: UseErrorHandlerOptions) => {\n  return React.forwardRef<any, P & {errorHandler?: ReturnType<typeof useErrorHandler>;}>((props, ref) => {\n    const errorHandler = useErrorHandler(errorHandlerOptions);\n\n    return React.createElement(Component, {\n      ...props,\n      ref,\n      errorHandler\n    });\n  });\n};\n\nexport default useErrorHandler;\n","import React, { useRef, useEffect, useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\nimport { Camera, X } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\nimport { ComponentErrorBoundary } from './ErrorBoundary';\n\ninterface BarcodeScannerProps {\n  onScan: (barcode: string) => void;\n  triggerText?: string;\n  disabled?: boolean;\n}\n\nconst BarcodeScanner: React.FC<BarcodeScannerProps> = ({ onScan, triggerText = \"Scan Barcode\", disabled = false }) => {\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const [isOpen, setIsOpen] = useState(false);\n  const [stream, setStream] = useState<MediaStream | null>(null);\n  const [isScanning, setIsScanning] = useState(false);\n  const { toast } = useToast();\n\n  const startCamera = async () => {\n    try {\n      const mediaStream = await navigator.mediaDevices.getUserMedia({\n        video: { facingMode: 'environment' }\n      });\n\n      if (videoRef.current) {\n        videoRef.current.srcObject = mediaStream;\n        setStream(mediaStream);\n        setIsScanning(true);\n      }\n    } catch (error) {\n      console.error('Error accessing camera:', error);\n      toast({\n        variant: \"destructive\",\n        title: \"Camera Error\",\n        description: \"Unable to access camera. Please check permissions.\"\n      });\n    }\n  };\n\n  const stopCamera = () => {\n    if (stream) {\n      stream.getTracks().forEach((track) => track.stop());\n      setStream(null);\n      setIsScanning(false);\n    }\n  };\n\n  const captureFrame = () => {\n    if (videoRef.current && canvasRef.current) {\n      const video = videoRef.current;\n      const canvas = canvasRef.current;\n      const context = canvas.getContext('2d');\n\n      if (context) {\n        canvas.width = video.videoWidth;\n        canvas.height = video.videoHeight;\n        context.drawImage(video, 0, 0);\n\n        // Simple barcode detection simulation\n        // In a real implementation, you would use a library like ZXing or QuaggaJS\n        const simulatedBarcode = Math.random().toString(36).substr(2, 12).toUpperCase();\n        onScan(simulatedBarcode);\n        setIsOpen(false);\n        stopCamera();\n\n        toast({\n          title: \"Barcode Scanned\",\n          description: `Detected barcode: ${simulatedBarcode}`\n        });\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (isOpen) {\n      startCamera();\n    } else {\n      stopCamera();\n    }\n\n    return () => {\n      stopCamera();\n    };\n  }, [isOpen]);\n\n  return (\n    <ComponentErrorBoundary\n      componentName=\"BarcodeScanner\"\n      severity=\"medium\"\n      minHeight=\"200px\" data-id=\"3pibg6ms7\" data-path=\"src/components/BarcodeScanner.tsx\">\n\n      <Dialog open={isOpen} onOpenChange={setIsOpen} data-id=\"39q67l96m\" data-path=\"src/components/BarcodeScanner.tsx\">\n      <DialogTrigger asChild data-id=\"avk5syt1n\" data-path=\"src/components/BarcodeScanner.tsx\">\n        <Button type=\"button\" variant=\"outline\" size=\"sm\" disabled={disabled} data-id=\"y6ol20tpr\" data-path=\"src/components/BarcodeScanner.tsx\">\n          <Camera className=\"w-4 h-4 mr-2\" data-id=\"st0einn3s\" data-path=\"src/components/BarcodeScanner.tsx\" />\n          {triggerText}\n        </Button>\n      </DialogTrigger>\n      <DialogContent className=\"sm:max-w-md\" data-id=\"3crr5yoy5\" data-path=\"src/components/BarcodeScanner.tsx\">\n        <DialogHeader data-id=\"pcs34g8fb\" data-path=\"src/components/BarcodeScanner.tsx\">\n          <DialogTitle data-id=\"vr2r4ah79\" data-path=\"src/components/BarcodeScanner.tsx\">Scan Barcode</DialogTitle>\n        </DialogHeader>\n        <div className=\"flex flex-col items-center space-y-4\" data-id=\"m2yxl59b5\" data-path=\"src/components/BarcodeScanner.tsx\">\n          <div className=\"relative w-full max-w-sm aspect-video bg-black rounded-lg overflow-hidden\" data-id=\"jv41adqnn\" data-path=\"src/components/BarcodeScanner.tsx\">\n            <video\n                ref={videoRef}\n                autoPlay\n                playsInline\n                className=\"w-full h-full object-cover\" data-id=\"umo9yuczd\" data-path=\"src/components/BarcodeScanner.tsx\" />\n\n            <canvas\n                ref={canvasRef}\n                className=\"hidden\" data-id=\"1zqrqnpg4\" data-path=\"src/components/BarcodeScanner.tsx\" />\n\n            {!isScanning &&\n              <div className=\"absolute inset-0 flex items-center justify-center text-white\" data-id=\"4n61y3quc\" data-path=\"src/components/BarcodeScanner.tsx\">\n                <div className=\"text-center\" data-id=\"0yw8fuk6s\" data-path=\"src/components/BarcodeScanner.tsx\">\n                  <Camera className=\"w-12 h-12 mx-auto mb-2\" data-id=\"blxgzp25x\" data-path=\"src/components/BarcodeScanner.tsx\" />\n                  <p data-id=\"ebyr1flvg\" data-path=\"src/components/BarcodeScanner.tsx\">Initializing camera...</p>\n                </div>\n              </div>\n              }\n          </div>\n          <div className=\"flex space-x-2\" data-id=\"ga2zy4vyi\" data-path=\"src/components/BarcodeScanner.tsx\">\n            <Button onClick={captureFrame} disabled={!isScanning} data-id=\"gdiold53r\" data-path=\"src/components/BarcodeScanner.tsx\">\n              Capture\n            </Button>\n            <Button variant=\"outline\" onClick={() => setIsOpen(false)} data-id=\"6hay25d0q\" data-path=\"src/components/BarcodeScanner.tsx\">\n              <X className=\"w-4 h-4 mr-2\" data-id=\"62fns4deb\" data-path=\"src/components/BarcodeScanner.tsx\" />\n              Cancel\n            </Button>\n          </div>\n          <p className=\"text-sm text-muted-foreground text-center\" data-id=\"ypqys8ed6\" data-path=\"src/components/BarcodeScanner.tsx\">\n            Position the barcode within the camera view and click Capture\n          </p>\n        </div>\n      </DialogContent>\n      </Dialog>\n    </ComponentErrorBoundary>);\n\n\n};\n\nexport default BarcodeScanner;\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { NumberInput } from '@/components/ui/number-input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Switch } from '@/components/ui/switch';\nimport { useToast } from '@/hooks/use-toast';\nimport { useErrorHandler } from '@/hooks/use-error-handler';\nimport { ArrowLeft, Save, Calculator, Upload, Eye, Plus, Download, FileText, AlertTriangle, DollarSign } from 'lucide-react';\nimport BarcodeScanner from '@/components/BarcodeScanner';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { FormErrorBoundary } from '@/components/ErrorBoundary';\nimport { supabase } from '@/lib/supabase';\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Badge } from '@/components/ui/badge';\nimport { Separator } from '@/components/ui/separator';\n\ninterface Vendor {\n  id: number;\n  vendor_name: string;\n  is_active: boolean;\n}\n\ninterface ProductCategory {\n  id: number;\n  category_name: string;\n  department: string;\n  is_active: boolean;\n}\n\nconst ProductForm = () => {\n  const navigate = useNavigate();\n  const { id } = useParams();\n  const { toast } = useToast();\n  const { userProfile } = useAuth();\n  const { handleApiCall, handleError } = useErrorHandler({\n    component: 'ProductForm',\n    severity: 'high'\n  });\n\n  const isEdit = !!id;\n  const [isLoading, setIsLoading] = useState(false);\n  const [vendors, setVendors] = useState<Vendor[]>([]);\n  const [categories, setCategories] = useState<ProductCategory[]>([]);\n  const [bulkUploadData, setBulkUploadData] = useState<any[]>([]);\n  const [showBulkPreview, setShowBulkPreview] = useState(false);\n  const [isUploadingBulk, setIsUploadingBulk] = useState(false);\n\n  const [formData, setFormData] = useState({\n    product_name: '',\n    weight: 0,\n    weight_unit: 'lb',\n    department: 'Convenience Store',\n    merchant_id: '',\n    last_updated_date: new Date().toISOString().split('T')[0],\n    last_shopping_date: '',\n    case_price: 0,\n    unit_per_case: 1,\n    unit_price: 0,\n    retail_price: 0,\n    profit_margin: 0,\n    category: '',\n    supplier: '',\n    quantity_in_stock: 0,\n    minimum_stock: 0,\n    description: '',\n    bar_code_case: '',\n    bar_code_unit: '',\n    serial_number: 0,\n    overdue: false\n  });\n\n  const [originalData, setOriginalData] = useState<any>(null);\n\n  // USA Weight Units\n  const weightUnits = [\n  { value: 'lb', label: 'Pounds (lb)' },\n  { value: 'oz', label: 'Ounces (oz)' },\n  { value: 'ton', label: 'Tons' },\n  { value: 'fl_oz', label: 'Fluid Ounces (fl oz)' },\n  { value: 'gal', label: 'Gallons (gal)' },\n  { value: 'qt', label: 'Quarts (qt)' },\n  { value: 'pt', label: 'Pints (pt)' },\n  { value: 'cup', label: 'Cups' },\n  { value: 'tbsp', label: 'Tablespoons (tbsp)' },\n  { value: 'tsp', label: 'Teaspoons (tsp)' }];\n\n\n  // Departments based on gas station categories\n  const departments = [\n  'Convenience Store',\n  'Fuel & Oil',\n  'Automotive',\n  'Food & Beverages',\n  'Tobacco Products',\n  'Lottery & Gaming',\n  'Health & Personal Care',\n  'Electronics & Accessories',\n  'Cleaning Supplies',\n  'Office Supplies',\n  'Snacks & Candy',\n  'Hot Foods & Coffee',\n  'Cold Beverages',\n  'Energy Drinks',\n  'Beer & Wine',\n  'Ice & Frozen',\n  'Phone Cards & Prepaid',\n  'Car Accessories',\n  'Gift Cards',\n  'Pharmacy & Medicine'];\n\n\n  useEffect(() => {\n    fetchVendors();\n    fetchCategories();\n    if (isEdit) {\n      fetchProduct();\n    } else {\n      generateSerialNumber();\n    }\n  }, [id]);\n\n  // Auto-calculate unit price when case price or unit per case changes\n  useEffect(() => {\n    if (formData.case_price > 0 && formData.unit_per_case > 0) {\n      const calculatedUnitPrice = formData.case_price / formData.unit_per_case;\n      setFormData((prev) => ({\n        ...prev,\n        unit_price: Math.round(calculatedUnitPrice * 100) / 100\n      }));\n    }\n  }, [formData.case_price, formData.unit_per_case]);\n\n  // Auto-calculate retail price when unit price changes\n  useEffect(() => {\n    if (formData.unit_price > 0) {\n      const suggestedPrice = calculateSuggestedRetailPrice(formData.unit_price);\n      // Only auto-update if retail price is 0 or very close to the previous suggestion\n      if (formData.retail_price === 0) {\n        setFormData((prev) => ({\n          ...prev,\n          retail_price: suggestedPrice\n        }));\n      }\n    } else if (formData.unit_price === 0) {\n      setFormData((prev) => ({\n        ...prev,\n        retail_price: 0\n      }));\n    }\n  }, [formData.unit_price]);\n\n  // Auto-calculate profit margin\n  useEffect(() => {\n    if (formData.unit_price > 0 && formData.retail_price > 0) {\n      const margin = (formData.retail_price - formData.unit_price) / formData.retail_price * 100;\n      setFormData((prev) => ({\n        ...prev,\n        profit_margin: Math.round(margin * 100) / 100\n      }));\n    } else {\n      setFormData((prev) => ({ ...prev, profit_margin: 0 }));\n    }\n  }, [formData.unit_price, formData.retail_price]);\n\n  const fetchVendors = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('vendors')\n        .select('*')\n        .eq('is_active', true)\n        .order('vendor_name', { ascending: true })\n        .limit(100);\n\n      if (error) throw error;\n      setVendors(data || []);\n    } catch (error) {\n      console.error('Error fetching vendors:', error);\n    }\n  };\n\n  const fetchCategories = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('product_categories')\n        .select('*')\n        .eq('is_active', true)\n        .order('category_name', { ascending: true })\n        .limit(100);\n\n      if (error) throw error;\n      setCategories(data || []);\n    } catch (error) {\n      console.error('Error fetching categories:', error);\n    }\n  };\n\n  const generateSerialNumber = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('products')\n        .select('serial_number')\n        .order('serial_number', { ascending: false })\n        .limit(1);\n\n      if (error) throw error;\n      const lastSerial = data?.[0]?.serial_number || 0;\n      setFormData((prev) => ({ ...prev, serial_number: lastSerial + 1 }));\n    } catch (error) {\n      console.error('Error generating serial number:', error);\n      setFormData((prev) => ({ ...prev, serial_number: 1 }));\n    }\n  };\n\n  const fetchProduct = async () => {\n    if (!id) return;\n\n    setIsLoading(true);\n    try {\n      const { data, error } = await supabase\n        .from('products')\n        .select('*')\n        .eq('id', id)\n        .limit(1)\n        .single();\n\n      if (error) throw error;\n\n      if (data) {\n        const product = data;\n        const productData = {\n          product_name: product.product_name || '',\n          weight: product.weight || 0,\n          weight_unit: product.weight_unit || 'lb',\n          department: product.department || 'Convenience Store',\n          merchant_id: product.merchant_id?.toString() || '',\n          last_updated_date: product.last_updated_date ? product.last_updated_date.split('T')[0] : '',\n          last_shopping_date: product.last_shopping_date ? product.last_shopping_date.split('T')[0] : '',\n          case_price: product.case_price || 0,\n          unit_per_case: product.unit_per_case || 1,\n          unit_price: product.unit_price || 0,\n          retail_price: product.retail_price || 0,\n          profit_margin: 0, // Will be calculated by useEffect\n          category: product.category || '',\n          supplier: product.supplier || '',\n          quantity_in_stock: product.quantity_in_stock || 0,\n          minimum_stock: product.minimum_stock || 0,\n          description: product.description || '',\n          bar_code_case: product.bar_code_case || '',\n          bar_code_unit: product.bar_code_unit || '',\n          serial_number: product.serial_number || 0,\n          overdue: product.overdue || false\n        };\n        setFormData(productData);\n        setOriginalData(productData);\n      }\n    } catch (error) {\n      console.error('Error fetching product:', error);\n      toast({\n        variant: \"destructive\",\n        title: \"Error\",\n        description: \"Failed to load product data.\"\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Calculate suggested retail price based on unit price with specific rules\n  const calculateSuggestedRetailPrice = (unitPrice: number) => {\n    if (unitPrice === 0) return 0;\n\n    let markupPercentage = 0;\n    if (unitPrice < 4) {\n      markupPercentage = 65;\n    } else if (unitPrice >= 4 && unitPrice < 6) {\n      markupPercentage = 55;\n    } else if (unitPrice >= 6 && unitPrice < 8) {\n      markupPercentage = 45;\n    } else if (unitPrice >= 8 && unitPrice < 10) {\n      markupPercentage = 35;\n    } else {\n      markupPercentage = 25;\n    }\n\n    const suggestedPrice = unitPrice * (1 + markupPercentage / 100);\n\n    // Round to closest .25, .49, .75, or .99\n    const roundingTargets = [0.25, 0.49, 0.75, 0.99];\n    const wholeNumber = Math.floor(suggestedPrice);\n    const decimal = suggestedPrice - wholeNumber;\n\n    let closestRounding = 0.99;\n    let minDifference = Math.abs(decimal - 0.99);\n\n    roundingTargets.forEach((target) => {\n      const difference = Math.abs(decimal - target);\n      if (difference < minDifference) {\n        minDifference = difference;\n        closestRounding = target;\n      }\n    });\n\n    return wholeNumber + closestRounding;\n  };\n\n  const handleInputChange = (field: string, value: any) => {\n    setFormData((prev) => ({ ...prev, [field]: value }));\n  };\n\n  const handleBarcodeScanned = (field: string, barcode: string) => {\n    setFormData((prev) => ({ ...prev, [field]: barcode }));\n    toast({\n      title: \"Barcode Scanned\",\n      description: `Barcode ${barcode} added to ${field.replace('_', ' ')}`\n    });\n  };\n\n  // Bulk upload functionality\n  const handleBulkFileUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      try {\n        const text = e.target?.result as string;\n        const lines = text.split('\\n').filter((line) => line.trim());\n        const headers = lines[0].split(',').map((h) => h.trim().toLowerCase());\n\n        const data = lines.slice(1).map((line, index) => {\n          const values = line.split(',');\n          const product: any = {};\n\n          headers.forEach((header, i) => {\n            let value = values[i]?.trim() || '';\n\n            // Map CSV headers to database fields\n            const fieldMapping: {[key: string]: string;} = {\n              'product name': 'product_name',\n              'product_name': 'product_name',\n              'weight': 'weight',\n              'weight unit': 'weight_unit',\n              'weight_unit': 'weight_unit',\n              'department': 'department',\n              'merchant': 'merchant_id',\n              'merchant_id': 'merchant_id',\n              'last shopping date': 'last_shopping_date',\n              'last_shopping_date': 'last_shopping_date',\n              'case price': 'case_price',\n              'case_price': 'case_price',\n              'unit per case': 'unit_per_case',\n              'unit_per_case': 'unit_per_case',\n              'unit price': 'unit_price',\n              'unit_price': 'unit_price',\n              'retail price': 'retail_price',\n              'retail_price': 'retail_price',\n              'category': 'category',\n              'supplier': 'supplier',\n              'description': 'description'\n            };\n\n            const dbField = fieldMapping[header] || header;\n\n            // Convert numeric fields\n            if (['weight', 'case_price', 'unit_per_case', 'unit_price', 'retail_price', 'merchant_id'].includes(dbField)) {\n              value = value ? parseFloat(value) || 0 : 0;\n            }\n\n            product[dbField] = value;\n          });\n\n          // Auto-calculate unit price if case price and unit per case are provided\n          if (product.case_price > 0 && product.unit_per_case > 0 && !product.unit_price) {\n            product.unit_price = Math.round(product.case_price / product.unit_per_case * 100) / 100;\n          }\n\n          // Calculate suggested retail price if unit price is available\n          if (product.unit_price > 0 && !product.retail_price) {\n            product.retail_price = calculateSuggestedRetailPrice(product.unit_price);\n          }\n\n          return product;\n        });\n\n        setBulkUploadData(data);\n        setShowBulkPreview(true);\n\n      } catch (error) {\n        toast({\n          variant: \"destructive\",\n          title: \"Error\",\n          description: \"Failed to parse CSV file. Please check the format.\"\n        });\n      }\n    };\n\n    reader.readAsText(file);\n  };\n\n  const handleBulkSubmit = async () => {\n    if (!userProfile) {\n      toast({\n        variant: \"destructive\",\n        title: \"Error\",\n        description: \"User profile not found.\"\n      });\n      return;\n    }\n\n    setIsUploadingBulk(true);\n    try {\n      let successCount = 0;\n      let errorCount = 0;\n      const errors: string[] = [];\n\n      // Get the latest serial number\n      const serialResponse = await supabase\n        .from('products')\n        .select('serial_number')      .order('serial_number', { ascending: false })\n      .limit(1);\n\n    const lastSerial = serialResponse.data?.[0]?.serial_number || 0;\n\n    for (const productData of bulkUploadData) {\n      try {\n        if (!productData.product_name?.trim()) {\n          errors.push(`Row ${successCount + errorCount + 1}: Product name is required`);\n          errorCount++;\n          continue;\n          }\n\n          const productPayload: any = {\n            serial_number: lastSerial + successCount + 1,\n            product_name: productData.product_name.trim(),\n            last_updated_date: new Date().toISOString(),\n            overdue: false,\n            weight: productData.weight || 0,\n            weight_unit: productData.weight_unit || 'lb',\n            department: productData.department || 'Convenience Store',\n            case_price: productData.case_price || 0,\n            unit_per_case: productData.unit_per_case || 1,\n            unit_price: productData.unit_price || 0,\n            retail_price: productData.retail_price || 0,\n            category: productData.category || '',\n            supplier: productData.supplier || '',\n            description: productData.description || '',\n            quantity_in_stock: 0,\n            minimum_stock: 0,\n            bar_code_case: '',\n            bar_code_unit: '',\n            created_by: userProfile.user_id\n          };\n\n          if (productData.merchant_id) {\n            productPayload.merchant_id = parseInt(productData.merchant_id);\n          }\n\n          if (productData.last_shopping_date) {\n            productPayload.last_shopping_date = new Date(productData.last_shopping_date).toISOString();\n          }\n\n          const { error } = await supabase\n            .from('products')\n            .insert(productPayload);\n\n          if (error) {\n            errors.push(`${productData.product_name}: ${error}`);\n            errorCount++;\n          } else {\n            successCount++;\n          }\n        } catch (error) {\n          const errorMsg = error instanceof Error ? error.message : 'Unknown error';\n          errors.push(`${productData.product_name || 'Unknown'}: ${errorMsg}`);\n          errorCount++;\n        }\n      }\n\n      if (successCount > 0) {\n        toast({\n          title: \"Import Complete\",\n          description: `Successfully imported ${successCount} products. ${errorCount > 0 ? `${errorCount} errors occurred.` : ''}`\n        });\n      } else {\n        toast({\n          variant: \"destructive\",\n          title: \"Import Failed\",\n          description: `No products were imported. ${errorCount} errors occurred.`\n        });\n      }\n\n      if (errors.length > 0) {\n        console.error('Import errors:', errors);\n      }\n\n      if (successCount > 0) {\n        setShowBulkPreview(false);\n        setBulkUploadData([]);\n        navigate('/products');\n      }\n    } catch (error) {\n      console.error('Bulk import error:', error);\n      toast({\n        variant: \"destructive\",\n        title: \"Import Failed\",\n        description: error instanceof Error ? error.message : \"Failed to import product data.\"\n      });\n    } finally {\n      setIsUploadingBulk(false);\n    }\n  };\n\n  const logFieldChange = async (productId: number, fieldName: string, oldValue: any, newValue: any, userId: number) => {\n    try {\n      const { error } = await supabase\n        .from('product_field_changes')\n        .insert({\n          product_id: productId,\n          field_name: fieldName,\n          old_value: oldValue?.toString() || '',\n          new_value: newValue?.toString() || '',\n          change_date: new Date().toISOString(),\n          changed_by: userId\n        });\n      if (error) {\n        console.error('Error logging field change:', error);\n      }\n    } catch (error) {\n      console.error('Error logging field change:', error);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!formData.product_name.trim()) {\n      toast({\n        variant: \"destructive\",\n        title: \"Validation Error\",\n        description: \"Product name is required.\"\n      });\n      return;\n    }\n\n    if (!userProfile) {\n      toast({\n        variant: \"destructive\",\n        title: \"Error\",\n        description: \"User profile not found.\"\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const payload = {\n        ...formData,\n        last_updated_date: new Date().toISOString(),\n        last_shopping_date: formData.last_shopping_date ? new Date(formData.last_shopping_date).toISOString() : null,\n        merchant_id: formData.merchant_id ? parseInt(formData.merchant_id) : null,\n        created_by: userProfile.user_id\n      };\n\n      const { error } = isEdit ?\n        await supabase.from('products').update(payload).eq('id', parseInt(id!)) :\n        await supabase.from('products').insert(payload);\n\n      if (error) throw error;\n\n      // Log changes for existing products\n      if (isEdit && originalData && userProfile) {\n        const fieldsToTrack = [\n        'last_shopping_date',\n        'case_price',\n        'unit_per_case',\n        'unit_price',\n        'retail_price'];\n\n\n        for (const field of fieldsToTrack) {\n          const oldValue = originalData[field];\n          const newValue = formData[field];\n\n          if (oldValue !== newValue) {\n            await logFieldChange(parseInt(id!), field, oldValue, newValue, userProfile.user_id);\n          }\n        }\n\n        // Calculate and log profit margin changes\n        const oldProfitMargin = originalData.unit_price > 0 && originalData.retail_price > 0 ?\n        (originalData.retail_price - originalData.unit_price) / originalData.retail_price * 100 : 0;\n        const newProfitMargin = formData.profit_margin;\n\n        if (Math.abs(oldProfitMargin - newProfitMargin) > 0.01) {\n          await logFieldChange(parseInt(id!), 'profit_margin', oldProfitMargin.toFixed(2), newProfitMargin.toFixed(2), userProfile.user_id);\n        }\n      }\n\n      toast({\n        title: \"Success\",\n        description: `Product ${isEdit ? 'updated' : 'created'} successfully.`\n      });\n\n      navigate('/products');\n    } catch (error) {\n      console.error('Error saving product:', error);\n      toast({\n        variant: \"destructive\",\n        title: \"Error\",\n        description: `Failed to ${isEdit ? 'update' : 'create'} product.`\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const suggestedRetailPrice = calculateSuggestedRetailPrice(formData.unit_price);\n\n  // Download CSV template\n  const downloadTemplate = () => {\n    const csvContent = [\n    'Product Name,Weight,Weight Unit,Department,Merchant,Case Price,Unit Per Case,Unit Price,Retail Price,Category,Supplier,Description',\n    'Example Product,12,oz,Food & Beverages,,24.00,24,1.00,1.99,Soft Drinks,Example Supplier,Example description'].\n    join('\\n');\n\n    const blob = new Blob([csvContent], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.style.display = 'none';\n    a.href = url;\n    a.download = 'product_import_template.csv';\n    document.body.appendChild(a);\n    a.click();\n    window.URL.revokeObjectURL(url);\n    document.body.removeChild(a);\n  };\n\n  return (\n    <div className=\"container mx-auto p-6 space-y-6\" data-id=\"bx12wklbd\" data-path=\"src/pages/Products/ProductForm.tsx\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\" data-id=\"q5k5t85tc\" data-path=\"src/pages/Products/ProductForm.tsx\">\n        <div className=\"flex items-center space-x-4\" data-id=\"wlu98sixy\" data-path=\"src/pages/Products/ProductForm.tsx\">\n          <Button variant=\"outline\" size=\"sm\" onClick={() => navigate('/products')} data-id=\"bdw35t5fy\" data-path=\"src/pages/Products/ProductForm.tsx\">\n            <ArrowLeft className=\"w-4 h-4 mr-2\" data-id=\"rtvwkpjqu\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n            Back to Products\n          </Button>\n          <div data-id=\"q5m983vey\" data-path=\"src/pages/Products/ProductForm.tsx\">\n            <h1 className=\"text-2xl font-bold\" data-id=\"41gy26pq3\" data-path=\"src/pages/Products/ProductForm.tsx\">{isEdit ? 'Edit Product' : 'Add New Product'}</h1>\n            <p className=\"text-muted-foreground\" data-id=\"h07pjygjz\" data-path=\"src/pages/Products/ProductForm.tsx\">\n              {isEdit ? 'Update product information' : 'Add a new product to your inventory'}\n            </p>\n          </div>\n        </div>\n        \n        {/* Bulk Upload Dialog */}\n        <Dialog open={showBulkPreview} onOpenChange={setShowBulkPreview} data-id=\"hi7kexvnf\" data-path=\"src/pages/Products/ProductForm.tsx\">\n          <DialogTrigger asChild data-id=\"93g6amn9o\" data-path=\"src/pages/Products/ProductForm.tsx\">\n            <Button variant=\"outline\" data-id=\"uy4lxewlc\" data-path=\"src/pages/Products/ProductForm.tsx\">\n              <Upload className=\"w-4 h-4 mr-2\" data-id=\"h92678uku\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n              Bulk Upload\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-6xl max-h-[80vh] overflow-auto\" data-id=\"0nz2kj64x\" data-path=\"src/pages/Products/ProductForm.tsx\">\n            <DialogHeader data-id=\"rmb9repv9\" data-path=\"src/pages/Products/ProductForm.tsx\">\n              <DialogTitle data-id=\"s0xq7459l\" data-path=\"src/pages/Products/ProductForm.tsx\">Bulk Product Upload</DialogTitle>\n              <DialogDescription data-id=\"hlbqg641c\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                Upload a CSV file with product data. Click \"Download Template\" for the correct format.\n              </DialogDescription>\n            </DialogHeader>\n            \n            {bulkUploadData.length === 0 ?\n            <div className=\"space-y-4\" data-id=\"otrmnjarm\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                <div className=\"flex justify-between items-center\" data-id=\"jnbayeohh\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                  <h3 className=\"text-lg font-medium\" data-id=\"iflfxutqr\" data-path=\"src/pages/Products/ProductForm.tsx\">Upload CSV File</h3>\n                  <Button variant=\"outline\" onClick={downloadTemplate} data-id=\"7citiads7\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                    <Download className=\"w-4 h-4 mr-2\" data-id=\"6gsm7c3h7\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n                    Download Template\n                  </Button>\n                </div>\n                \n                <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center\" data-id=\"l6duwtega\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                  <Upload className=\"w-12 h-12 mx-auto text-gray-400 mb-4\" data-id=\"bvz7kpd58\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n                  <div className=\"space-y-2\" data-id=\"xqwub2p94\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                    <h3 className=\"text-lg font-medium\" data-id=\"kjou9apny\" data-path=\"src/pages/Products/ProductForm.tsx\">Upload CSV File</h3>\n                    <p className=\"text-sm text-gray-500\" data-id=\"3xwvpr12u\" data-path=\"src/pages/Products/ProductForm.tsx\">Select a CSV file containing product data</p>\n                    <Input\n                    type=\"file\"\n                    accept=\".csv\"\n                    onChange={handleBulkFileUpload}\n                    className=\"max-w-xs mx-auto\" data-id=\"r8qynfi9q\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n\n                  </div>\n                </div>\n                \n                <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\" data-id=\"3dwp5fzxb\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                  <h4 className=\"font-medium text-blue-800 mb-2\" data-id=\"u2zoncman\" data-path=\"src/pages/Products/ProductForm.tsx\">Required Columns:</h4>\n                  <ul className=\"text-sm text-blue-700 space-y-1\" data-id=\"rhkwpjqrw\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                    <li data-id=\"guya2pqun\" data-path=\"src/pages/Products/ProductForm.tsx\">â€¢ Product Name (required)</li>\n                    <li data-id=\"tgq6dgo04\" data-path=\"src/pages/Products/ProductForm.tsx\">â€¢ Weight, Weight Unit, Department, Merchant</li>\n                    <li data-id=\"jvpyf8maa\" data-path=\"src/pages/Products/ProductForm.tsx\">â€¢ Case Price, Unit Per Case, Unit Price, Retail Price</li>\n                    <li data-id=\"44pem9vcv\" data-path=\"src/pages/Products/ProductForm.tsx\">â€¢ Category, Supplier, Description</li>\n                  </ul>\n                </div>\n              </div> :\n\n            <div className=\"space-y-4\" data-id=\"13jnbnr6s\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                <div className=\"flex items-center justify-between\" data-id=\"vl7z3re82\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                  <h3 className=\"text-lg font-medium\" data-id=\"x7eodbrud\" data-path=\"src/pages/Products/ProductForm.tsx\">Preview Import Data ({bulkUploadData.length} products)</h3>\n                  <div className=\"space-x-2\" data-id=\"spwy9543p\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                    <Button variant=\"outline\" onClick={() => {\n                    setBulkUploadData([]);\n                    setShowBulkPreview(false);\n                  }} data-id=\"nf798ix7z\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                      Cancel\n                    </Button>\n                    <Button onClick={handleBulkSubmit} disabled={isUploadingBulk} data-id=\"s0l90qs0w\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                      {isUploadingBulk ? 'Importing...' : 'Import Products'}\n                    </Button>\n                  </div>\n                </div>\n                \n                <div className=\"border rounded-lg max-h-96 overflow-auto\" data-id=\"8knn1mgms\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                  <Table data-id=\"p9k1dq6d0\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                    <TableHeader data-id=\"1d31nj8tz\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                      <TableRow data-id=\"7ay0v18xb\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                        <TableHead data-id=\"3aba6dsmt\" data-path=\"src/pages/Products/ProductForm.tsx\">Product Name</TableHead>\n                        <TableHead data-id=\"h7safkm9m\" data-path=\"src/pages/Products/ProductForm.tsx\">Weight</TableHead>\n                        <TableHead data-id=\"fnhhv5m54\" data-path=\"src/pages/Products/ProductForm.tsx\">Department</TableHead>\n                        <TableHead data-id=\"eoxwo0so8\" data-path=\"src/pages/Products/ProductForm.tsx\">Case Price</TableHead>\n                        <TableHead data-id=\"lietay58u\" data-path=\"src/pages/Products/ProductForm.tsx\">Unit Price</TableHead>\n                        <TableHead data-id=\"vob1mrzrz\" data-path=\"src/pages/Products/ProductForm.tsx\">Retail Price</TableHead>\n                        <TableHead data-id=\"9qxs82bs8\" data-path=\"src/pages/Products/ProductForm.tsx\">Profit %</TableHead>\n                      </TableRow>\n                    </TableHeader>\n                    <TableBody data-id=\"nyr9xf477\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                      {bulkUploadData.map((product, index) => {\n                      const profit = product.unit_price > 0 && product.retail_price > 0 ?\n                      ((product.retail_price - product.unit_price) / product.retail_price * 100).toFixed(1) :\n                      '0';\n\n                      return (\n                        <TableRow key={index} data-id=\"0w8qpnjpw\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                            <TableCell className=\"font-medium\" data-id=\"ztfzojfdy\" data-path=\"src/pages/Products/ProductForm.tsx\">{product.product_name}</TableCell>\n                            <TableCell data-id=\"qxwlle97c\" data-path=\"src/pages/Products/ProductForm.tsx\">{product.weight} {product.weight_unit}</TableCell>\n                            <TableCell data-id=\"nawb7vr9m\" data-path=\"src/pages/Products/ProductForm.tsx\">{product.department}</TableCell>\n                            <TableCell data-id=\"6ackpc71i\" data-path=\"src/pages/Products/ProductForm.tsx\">${product.case_price?.toFixed(2) || '0.00'}</TableCell>\n                            <TableCell data-id=\"ag0ksahtm\" data-path=\"src/pages/Products/ProductForm.tsx\">${product.unit_price?.toFixed(2) || '0.00'}</TableCell>\n                            <TableCell data-id=\"4yr04zme5\" data-path=\"src/pages/Products/ProductForm.tsx\">${product.retail_price?.toFixed(2) || '0.00'}</TableCell>\n                            <TableCell data-id=\"iecxknd33\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                              <Badge variant={parseFloat(profit) > 20 ? 'default' : 'secondary'} data-id=\"kbs73ub5d\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                                {profit}%\n                              </Badge>\n                            </TableCell>\n                          </TableRow>);\n\n                    })}\n                    </TableBody>\n                  </Table>\n                </div>\n              </div>\n            }\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Form */}\n      <Card data-id=\"ybi5y9x0t\" data-path=\"src/pages/Products/ProductForm.tsx\">\n        <CardHeader data-id=\"c0sro9agp\" data-path=\"src/pages/Products/ProductForm.tsx\">\n          <CardTitle data-id=\"yblpzeajq\" data-path=\"src/pages/Products/ProductForm.tsx\">{isEdit ? 'Edit Product' : 'New Product'}</CardTitle>\n          <CardDescription data-id=\"4snm2u3bc\" data-path=\"src/pages/Products/ProductForm.tsx\">\n            {isEdit ? 'Update the product information below' : 'Enter the product details below'}\n          </CardDescription>\n        </CardHeader>\n        <CardContent data-id=\"9gdcuh4ed\" data-path=\"src/pages/Products/ProductForm.tsx\">\n          <FormErrorBoundary\n            formName=\"Product Form\"\n            showDataRecovery={true}\n            onFormReset={() => {\n              if (isEdit) {\n                fetchProduct();\n              } else {\n                setFormData({\n                  product_name: '',\n                  weight: 0,\n                  weight_unit: 'lb',\n                  department: 'Convenience Store',\n                  merchant_id: '',\n                  last_updated_date: new Date().toISOString().split('T')[0],\n                  last_shopping_date: '',\n                  case_price: 0,\n                  unit_per_case: 1,\n                  unit_price: 0,\n                  retail_price: 0,\n                  profit_margin: 0,\n                  category: '',\n                  supplier: '',\n                  quantity_in_stock: 0,\n                  minimum_stock: 0,\n                  description: '',\n                  bar_code_case: '',\n                  bar_code_unit: '',\n                  serial_number: 0,\n                  overdue: false\n                });\n                generateSerialNumber();\n              }\n            }} data-id=\"cktkquzxl\" data-path=\"src/pages/Products/ProductForm.tsx\">\n\n            <form onSubmit={handleSubmit} className=\"space-y-6\" data-id=\"b47e9aqag\" data-path=\"src/pages/Products/ProductForm.tsx\">\n              {/* Basic Information */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\" data-id=\"xjmwfhyiz\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                <div className=\"space-y-2\" data-id=\"kglmcicue\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                  <Label htmlFor=\"product_name\" data-id=\"phoq35hdt\" data-path=\"src/pages/Products/ProductForm.tsx\">Product Name *</Label>\n                  <Input\n                    id=\"product_name\"\n                    placeholder=\"Enter product name\"\n                    value={formData.product_name}\n                    onChange={(e) => handleInputChange('product_name', e.target.value)}\n                    required data-id=\"rjrlm6qa7\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n\n                </div>\n\n                <div className=\"space-y-2\" data-id=\"5wnmbfxgz\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                  <Label htmlFor=\"category\" data-id=\"4rvslpa8b\" data-path=\"src/pages/Products/ProductForm.tsx\">Category</Label>\n                  <Select\n                    value={formData.category}\n                    onValueChange={(value) => handleInputChange('category', value)} data-id=\"cj8kg9x7v\" data-path=\"src/pages/Products/ProductForm.tsx\">\n\n                    <SelectTrigger data-id=\"h53ofq07e\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                      <SelectValue placeholder=\"Select category\" data-id=\"lt19useuz\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n                    </SelectTrigger>\n                    <SelectContent data-id=\"tu1fli4s7\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                      {categories.map((cat) =>\n                      <SelectItem key={cat.id} value={cat.category_name} data-id=\"dxg4exzsk\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                          {cat.category_name}\n                        </SelectItem>\n                      )}\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n\n              {/* Weight and Measurement */}\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\" data-id=\"kcclizqrd\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                <div className=\"space-y-2\" data-id=\"rbfly9jkc\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                  <Label htmlFor=\"weight\" data-id=\"5kewfxhrq\" data-path=\"src/pages/Products/ProductForm.tsx\">Weight</Label>\n                  <NumberInput\n                    id=\"weight\"\n                    step={0.01}\n                    min={0}\n                    value={formData.weight}\n                    onChange={(value) => handleInputChange('weight', value)} data-id=\"ntm2991pu\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n\n                </div>\n\n                <div className=\"space-y-2\" data-id=\"dpy100zkt\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                  <Label htmlFor=\"weight_unit\" data-id=\"lmhazo1o2\" data-path=\"src/pages/Products/ProductForm.tsx\">Weight Unit (USA Measurements)</Label>\n                  <Select\n                    value={formData.weight_unit}\n                    onValueChange={(value) => handleInputChange('weight_unit', value)} data-id=\"ykhzxj6ot\" data-path=\"src/pages/Products/ProductForm.tsx\">\n\n                    <SelectTrigger data-id=\"ibo0fui0o\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                      <SelectValue placeholder=\"Select unit\" data-id=\"wikid8ydq\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n                    </SelectTrigger>\n                    <SelectContent data-id=\"o46bsqe2q\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                      {weightUnits.map((unit) =>\n                      <SelectItem key={unit.value} value={unit.value} data-id=\"vr3gmqpg9\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                          {unit.label}\n                        </SelectItem>\n                      )}\n                    </SelectContent>\n                  </Select>\n                  <p className=\"text-xs text-muted-foreground\" data-id=\"ilqscfzlv\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                    Combined: {formData.weight} {formData.weight_unit}\n                  </p>\n                </div>\n\n                <div className=\"space-y-2\" data-id=\"qsxt1su8b\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                  <Label htmlFor=\"department\" data-id=\"ui00cry10\" data-path=\"src/pages/Products/ProductForm.tsx\">Department</Label>\n                  <Select\n                    value={formData.department}\n                    onValueChange={(value) => handleInputChange('department', value)} data-id=\"9e5cpkg0a\" data-path=\"src/pages/Products/ProductForm.tsx\">\n\n                    <SelectTrigger data-id=\"o17mjjiz5\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                      <SelectValue placeholder=\"Select department\" data-id=\"onct4n5nl\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n                    </SelectTrigger>\n                    <SelectContent data-id=\"5w12yqkd7\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                      {departments.map((dept) =>\n                      <SelectItem key={dept} value={dept} data-id=\"f42auxyjl\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                          {dept}\n                        </SelectItem>\n                      )}\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n\n              {/* Merchant and Dates */}\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\" data-id=\"8ev602vbv\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                <div className=\"space-y-2\" data-id=\"2a4vpkma2\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                  <Label htmlFor=\"merchant_id\" data-id=\"lyuaqm4jk\" data-path=\"src/pages/Products/ProductForm.tsx\">Merchant</Label>\n                  <Select\n                    value={formData.merchant_id}\n                    onValueChange={(value) => handleInputChange('merchant_id', value)} data-id=\"07ewjpxem\" data-path=\"src/pages/Products/ProductForm.tsx\">\n\n                    <SelectTrigger data-id=\"r6bhwqo6v\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                      <SelectValue placeholder=\"Select merchant\" data-id=\"gcgdwhskz\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n                    </SelectTrigger>\n                    <SelectContent data-id=\"stxcuz9bv\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                      {vendors.map((vendor) =>\n                      <SelectItem key={vendor.id} value={vendor.id.toString()} data-id=\"8t00h2uci\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                          {vendor.vendor_name}\n                        </SelectItem>\n                      )}\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <div className=\"space-y-2\" data-id=\"7xotykfm4\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                  <Label htmlFor=\"last_updated_date\" data-id=\"d4wo4tj5g\" data-path=\"src/pages/Products/ProductForm.tsx\">Last Updated Date</Label>\n                  <Input\n                    id=\"last_updated_date\"\n                    type=\"date\"\n                    value={formData.last_updated_date}\n                    onChange={(e) => handleInputChange('last_updated_date', e.target.value)} data-id=\"afigj8q8r\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n\n                </div>\n\n                <div className=\"space-y-2\" data-id=\"joc9bnqgp\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                  <Label htmlFor=\"last_shopping_date\" data-id=\"nfkbcc485\" data-path=\"src/pages/Products/ProductForm.tsx\">Last Shopping Date</Label>\n                  <Input\n                    id=\"last_shopping_date\"\n                    type=\"date\"\n                    value={formData.last_shopping_date}\n                    onChange={(e) => handleInputChange('last_shopping_date', e.target.value)} data-id=\"4brvqnedm\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n\n                </div>\n              </div>\n\n              {/* Pricing Information */}\n              <Separator data-id=\"9o0gwbwwq\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n              <div className=\"space-y-4\" data-id=\"wbwknuhfy\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                <h3 className=\"text-lg font-medium\" data-id=\"yu7bdekm3\" data-path=\"src/pages/Products/ProductForm.tsx\">Pricing Information</h3>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\" data-id=\"iwqed2cq2\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                  <div className=\"space-y-2\" data-id=\"h13mzseq5\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                    <Label htmlFor=\"case_price\" data-id=\"3yq7lv3rt\" data-path=\"src/pages/Products/ProductForm.tsx\">Case Price ($)</Label>\n                    <NumberInput\n                      id=\"case_price\"\n                      step={0.01}\n                      min={0}\n                      value={formData.case_price}\n                      onChange={(value) => handleInputChange('case_price', value)} data-id=\"8lif39lep\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n\n                  </div>\n\n                  <div className=\"space-y-2\" data-id=\"8ilbz7re9\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                    <Label htmlFor=\"unit_per_case\" data-id=\"lu93lxaue\" data-path=\"src/pages/Products/ProductForm.tsx\">Unit Per Case</Label>\n                    <NumberInput\n                      id=\"unit_per_case\"\n                      min={1}\n                      value={formData.unit_per_case}\n                      onChange={(value) => handleInputChange('unit_per_case', value)} data-id=\"xpreug7g1\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n\n                  </div>\n\n                  <div className=\"space-y-2\" data-id=\"sqleu9w7o\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                    <Label htmlFor=\"unit_price\" data-id=\"bw3hnk8lw\" data-path=\"src/pages/Products/ProductForm.tsx\">Unit Price ($)</Label>\n                    <NumberInput\n                      id=\"unit_price\"\n                      step={0.01}\n                      min={0}\n                      value={formData.unit_price}\n                      onChange={(value) => handleInputChange('unit_price', value)} data-id=\"bhjy2741g\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n\n                    {formData.case_price > 0 && formData.unit_per_case > 0 &&\n                    <p className=\"text-xs text-green-600 flex items-center\" data-id=\"mig3drq7h\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                        <Calculator className=\"w-3 h-3 mr-1\" data-id=\"9wwkfvxsf\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n                        Auto-calculated from case price\n                      </p>\n                    }\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\" data-id=\"7szavq7wt\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                  <div className=\"space-y-2\" data-id=\"s44v0bd4c\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                    <Label htmlFor=\"retail_price\" data-id=\"sw3slkr61\" data-path=\"src/pages/Products/ProductForm.tsx\">Retail Price ($)</Label>\n                    <NumberInput\n                      id=\"retail_price\"\n                      step={0.01}\n                      min={0}\n                      value={formData.retail_price}\n                      onChange={(value) => handleInputChange('retail_price', value)} data-id=\"nhp6pvirq\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n\n                    {/* Auto-calculation indicator */}\n                    {formData.unit_price > 0 && Math.abs(formData.retail_price - suggestedRetailPrice) < 0.01 &&\n                    <p className=\"text-xs text-green-600 flex items-center\" data-id=\"c6694zlow\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                        <Calculator className=\"w-3 h-3 mr-1\" data-id=\"7j2ylnx8a\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n                        Auto-calculated from unit price\n                      </p>\n                    }\n                    \n                    {/* Pricing Suggestion */}\n                    {formData.unit_price > 0 && Math.abs(formData.retail_price - suggestedRetailPrice) >= 0.01 &&\n                    <div className=\"mt-2 p-3 bg-red-50 border border-red-200 rounded-lg\" data-id=\"7ggtw6coy\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                        <div className=\"flex items-center justify-between\" data-id=\"ggamngcao\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                          <div className=\"flex items-center space-x-2\" data-id=\"1l6080zer\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                            <DollarSign className=\"w-4 h-4 text-red-600\" data-id=\"r1rmqer56\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n                            <span className=\"text-sm font-medium text-red-800\" data-id=\"hs4p8lfhn\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                              Suggested: ${suggestedRetailPrice.toFixed(2)}\n                            </span>\n                          </div>\n                          <Button\n                          type=\"button\"\n                          size=\"sm\"\n                          variant=\"outline\"\n                          onClick={() => handleInputChange('retail_price', suggestedRetailPrice)}\n                          className=\"text-xs h-6 px-2\" data-id=\"rhpckr8hc\" data-path=\"src/pages/Products/ProductForm.tsx\">\n\n                            Apply\n                          </Button>\n                        </div>\n                        <p className=\"text-xs text-red-700 mt-1\" data-id=\"on56s08f2\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                          {formData.unit_price < 4 ? '+65%' :\n                        formData.unit_price < 6 ? '+55%' :\n                        formData.unit_price < 8 ? '+45%' :\n                        formData.unit_price < 10 ? '+35%' : '+25%'} markup, \n                          rounded to .25/.49/.75/.99\n                        </p>\n                      </div>\n                    }\n                  </div>\n\n                  <div className=\"space-y-2\" data-id=\"orczwe7jq\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                    <Label htmlFor=\"profit_margin\" data-id=\"sq9xzux3z\" data-path=\"src/pages/Products/ProductForm.tsx\">Profit Margin (%)</Label>\n                    <div className=\"flex items-center space-x-2\" data-id=\"jf7rutm1u\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                      <NumberInput\n                        id=\"profit_margin\"\n                        step={0.01}\n                        value={formData.profit_margin}\n                        disabled\n                        className=\"bg-muted\" data-id=\"uiwlfbodg\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n\n                      <Badge variant={formData.profit_margin > 20 ? 'default' : 'secondary'} data-id=\"3fkohoku4\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                        {formData.profit_margin > 20 ? 'Good' : 'Low'}\n                      </Badge>\n                    </div>\n                    <p className=\"text-xs text-muted-foreground\" data-id=\"p6l0gv7lg\" data-path=\"src/pages/Products/ProductForm.tsx\">Auto-calculated from unit and retail price</p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Additional Information */}\n              <Separator data-id=\"rqx6u6vw5\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n              <div className=\"space-y-4\" data-id=\"rpa5p141o\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                <h3 className=\"text-lg font-medium\" data-id=\"kkeqlckhp\" data-path=\"src/pages/Products/ProductForm.tsx\">Additional Information</h3>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\" data-id=\"t1uth5etf\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                  <div className=\"space-y-2\" data-id=\"br0f51o36\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                    <Label htmlFor=\"supplier\" data-id=\"nwezqijbs\" data-path=\"src/pages/Products/ProductForm.tsx\">Supplier</Label>\n                    <Input\n                      id=\"supplier\"\n                      placeholder=\"Enter supplier name\"\n                      value={formData.supplier}\n                      onChange={(e) => handleInputChange('supplier', e.target.value)} data-id=\"txymx9tx5\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n\n                  </div>\n\n                  <div className=\"space-y-2\" data-id=\"9x4r9yo2t\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                    <Label data-id=\"2f1u5b9f8\" data-path=\"src/pages/Products/ProductForm.tsx\">Stock Information</Label>\n                    <div className=\"grid grid-cols-2 gap-2\" data-id=\"qa7poz02u\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                      <NumberInput\n                        placeholder=\"Current Stock\"\n                        value={formData.quantity_in_stock}\n                        onChange={(value) => handleInputChange('quantity_in_stock', value)}\n                        min={0} data-id=\"aizhy7ulb\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n\n                      <NumberInput\n                        placeholder=\"Min Stock\"\n                        value={formData.minimum_stock}\n                        onChange={(value) => handleInputChange('minimum_stock', value)}\n                        min={0} data-id=\"dckcsjdop\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n\n                    </div>\n                    <p className=\"text-xs text-muted-foreground\" data-id=\"hbdkhswsk\" data-path=\"src/pages/Products/ProductForm.tsx\">Current stock / Minimum stock level</p>\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\" data-id=\"i6cs0n1a2\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                  <Label htmlFor=\"description\" data-id=\"vr0yez4f7\" data-path=\"src/pages/Products/ProductForm.tsx\">Description</Label>\n                  <Textarea\n                    id=\"description\"\n                    placeholder=\"Enter product description\"\n                    rows={4}\n                    value={formData.description}\n                    onChange={(e) => handleInputChange('description', e.target.value)} data-id=\"pi8xzw20m\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n\n                </div>\n\n                {/* Barcode Scanning */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\" data-id=\"bcdeqdoq5\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                  <div className=\"space-y-2\" data-id=\"00ykzf331\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                    <Label htmlFor=\"bar_code_case\" data-id=\"sx2pox7kt\" data-path=\"src/pages/Products/ProductForm.tsx\">Barcode (Case)</Label>\n                    <div className=\"flex space-x-2\" data-id=\"6ri7xrix9\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                      <Input\n                        id=\"bar_code_case\"\n                        placeholder=\"Scan or enter case barcode\"\n                        value={formData.bar_code_case}\n                        onChange={(e) => handleInputChange('bar_code_case', e.target.value)} data-id=\"bzbisylmd\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n\n                      <BarcodeScanner\n                        onScanned={(barcode) => handleBarcodeScanned('bar_code_case', barcode)} data-id=\"98bp73w7a\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n\n                    </div>\n                  </div>\n\n                  <div className=\"space-y-2\" data-id=\"x7tmyo56s\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                    <Label htmlFor=\"bar_code_unit\" data-id=\"hdxeaxie5\" data-path=\"src/pages/Products/ProductForm.tsx\">Barcode (Unit)</Label>\n                    <div className=\"flex space-x-2\" data-id=\"s3j3g1f3f\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                      <Input\n                        id=\"bar_code_unit\"\n                        placeholder=\"Scan or enter unit barcode\"\n                        value={formData.bar_code_unit}\n                        onChange={(e) => handleInputChange('bar_code_unit', e.target.value)} data-id=\"5irm9j9k9\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n\n                      <BarcodeScanner\n                        onScanned={(barcode) => handleBarcodeScanned('bar_code_unit', barcode)} data-id=\"eshdnhw4l\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Form Actions */}\n              <div className=\"flex items-center justify-end space-x-4 pt-6\" data-id=\"2pgb4f3ov\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                <Button type=\"button\" variant=\"outline\" onClick={() => navigate('/products')} data-id=\"t2fbqbrwk\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                  Cancel\n                </Button>\n                <Button type=\"submit\" disabled={isLoading} data-id=\"fp7m4hvvp\" data-path=\"src/pages/Products/ProductForm.tsx\">\n                  <Save className=\"w-4 h-4 mr-2\" data-id=\"e2dbj22gs\" data-path=\"src/pages/Products/ProductForm.tsx\" />\n                  {isLoading ? 'Saving...' : isEdit ? 'Update Product' : 'Create Product'}\n                </Button>\n              </div>\n            </form>\n          </FormErrorBoundary>\n        </CardContent>\n      </Card>\n    </div>);\n\n};\n\nexport default ProductForm;\n"],"names":["Calculator","createLucideIcon","ComponentErrorBoundary","Component","props","__publicField","ErrorLogger","error","errorInfo","severity","componentName","FallbackComponent","jsx","Card","CardContent","jsxs","AlertTriangle","Button","RefreshCw","FormErrorBoundary","formElements","formData","element","key","e","formName","CardHeader","CardTitle","Alert","AlertDescription","Save","useErrorHandler","options","toast","useToast","errorLogger","component","showToast","logError","handleError","useCallback","customMessage","context","errorObj","handleAsync","asyncFn","errorMessage","handleApiCall","apiCall","result","BarcodeScanner","onScan","triggerText","disabled","videoRef","useRef","canvasRef","isOpen","setIsOpen","useState","stream","setStream","isScanning","setIsScanning","startCamera","mediaStream","stopCamera","track","captureFrame","video","canvas","simulatedBarcode","useEffect","Dialog","DialogTrigger","Camera","DialogContent","DialogHeader","DialogTitle","X","ProductForm","navigate","useNavigate","id","useParams","userProfile","useAuth","isEdit","isLoading","setIsLoading","vendors","setVendors","categories","setCategories","bulkUploadData","setBulkUploadData","showBulkPreview","setShowBulkPreview","isUploadingBulk","setIsUploadingBulk","setFormData","originalData","setOriginalData","weightUnits","departments","fetchVendors","fetchCategories","fetchProduct","generateSerialNumber","calculatedUnitPrice","prev","suggestedPrice","calculateSuggestedRetailPrice","margin","data","supabase","lastSerial","_a","product","productData","unitPrice","markupPercentage","roundingTargets","wholeNumber","decimal","closestRounding","minDifference","target","difference","handleInputChange","field","value","handleBarcodeScanned","barcode","handleBulkFileUpload","event","file","reader","lines","line","headers","h","index","values","header","i","dbField","handleBulkSubmit","successCount","errorCount","errors","_b","_c","productPayload","errorMsg","logFieldChange","productId","fieldName","oldValue","newValue","userId","handleSubmit","payload","fieldsToTrack","oldProfitMargin","newProfitMargin","suggestedRetailPrice","downloadTemplate","csvContent","blob","url","a","ArrowLeft","Upload","DialogDescription","Download","Input","Table","TableHeader","TableRow","TableHead","TableBody","profit","TableCell","Badge","CardDescription","Label","Select","SelectTrigger","SelectValue","SelectContent","cat","SelectItem","NumberInput","unit","dept","vendor","Separator","DollarSign","Textarea"],"mappings":"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","x_google_ignoreList":[0]}