var Jt=Object.defineProperty;var Qt=(o,a,e)=>a in o?Jt(o,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[a]=e;var f=(o,a,e)=>Qt(o,typeof a!="symbol"?a+"":a,e);import{r as u,j as t}from"./react-vendor-BIZaP1tt.js";import{o as bt,u as it,O as Wt,s as Yt,p as ft,B as b,C as c,g as r,Q as Kt,I as Pt,S as Z,h as tt,i as at,j as et,k as N,d as x,e as y,z as Rt,E as Et,F as gt,G as P,R as Nt,H as Gt,J as R,l as p,U as Xt,P as It,A as V,m as $,T as ot,a as dt,b as L,c as D,f as w,V as wt}from"./admin-core-B2SBlvpM.js";import{a4 as At,Y as K,aa as st,ab as Ct,H as z,aU as St,a1 as Zt,ai as Ot,a7 as kt,a0 as nt,F as I,M as pt,ao as ta,a5 as vt,a_ as aa,ak as ht,ba as ea,Z as J,b7 as sa,f as na,bb as ia,bc as oa,_ as da,ah as ut,bd as zt,be as ra,bf as ca,a2 as yt,aB as jt,b8 as ma,$ as qt}from"./ui-components-Ace1hSxE.js";const la=()=>{const{isAdmin:o}=bt(),[a,e]=u.useState([]),[s,m]=u.useState(!1),[h,d]=u.useState(""),[j,S]=u.useState("All"),[M,A]=u.useState("All"),[q,U]=u.useState("today"),[Q,g]=u.useState(!1),[O,E]=u.useState(!1),{toast:v}=it(),n=Wt(),l=["Success","Failed","Blocked","Suspicious"],k=["Login","Logout","Failed Login","Registration","Password Reset","Data Access","Data Modification","Permission Change","Admin Action"],C=[{value:"today",label:"Today"},{value:"week",label:"Last 7 days"},{value:"month",label:"Last 30 days"},{value:"all",label:"All time"}];u.useEffect(()=>{T()},[]);const T=async()=>{try{console.log("Fetching audit logs from database...");const{data:i,error:H}=await Yt.from("audit_logs").select("*").order("event_timestamp",{ascending:!1}).limit(100);if(H){console.error("Error fetching audit logs:",H),e([]);return}console.log("Audit logs data received:",i),e(i||[])}catch(i){console.error("Error fetching audit logs:",i),v({title:"Error",description:"Failed to fetch system logs",variant:"destructive"}),e([])}},xt=async()=>{m(!0);try{await T(),v({title:"Logs Refreshed",description:"System logs have been updated"})}catch{v({title:"Error",description:"Failed to refresh logs",variant:"destructive"})}finally{m(!1)}},X=()=>{const i=Dt(),H=[["Timestamp","Event Type","Status","User","Action","Resource","IP Address","Station"],...i.map(G=>[G.event_timestamp,G.event_type,G.event_status,G.username||"",G.action_performed||"",G.resource_accessed||"",G.ip_address||"",G.station||""])].map(G=>G.join(",")).join(`
`),ct=new Blob([H],{type:"text/csv"}),_=window.URL.createObjectURL(ct),B=document.createElement("a");B.href=_,B.download=`audit-logs-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(B),B.click(),document.body.removeChild(B),window.URL.revokeObjectURL(_),v({title:"Export Complete",description:"Audit logs have been exported to CSV file"})},rt=()=>{if(n.getSelectedData(F,H=>H.id).length===0){v({title:"No Selection",description:"Please select log entries to delete",variant:"destructive"});return}g(!0)},Vt=async()=>{E(!0);try{const i=n.getSelectedData(F,_=>_.id),H=i.map(_=>_.id),ct=a.filter(_=>!H.includes(_.id));e(ct),v({title:"Success",description:`Deleted ${i.length} log entries successfully`}),g(!1),n.clearSelection()}catch(i){console.error("Error in batch delete:",i),v({title:"Error",description:`Failed to delete log entries: ${i}`,variant:"destructive"})}finally{E(!1)}},Dt=()=>a.filter(i=>{const H=i.event_type.toLowerCase().includes(h.toLowerCase())||i.action_performed.toLowerCase().includes(h.toLowerCase())||i.username&&i.username.toLowerCase().includes(h.toLowerCase()),ct=j==="All"||i.event_status===j,_=M==="All"||i.event_type===M,B=new Date(i.event_timestamp),G=new Date;let mt=!0;switch(q){case"today":mt=B.toDateString()===G.toDateString();break;case"week":{const Mt=new Date(G.getTime()-6048e5);mt=B>=Mt;break}case"month":{const Mt=new Date(G.getTime()-2592e6);mt=B>=Mt;break}default:mt=!0}return H&&ct&&_&&mt}),$t=i=>{switch(i){case"Failed":return t.jsx(Ct,{className:"w-4 h-4 text-red-500","data-id":"kbwzuc4mn","data-path":"src/pages/Admin/SystemLogs.tsx"});case"Blocked":return t.jsx(z,{className:"w-4 h-4 text-yellow-500","data-id":"6ttoi0u2y","data-path":"src/pages/Admin/SystemLogs.tsx"});case"Success":return t.jsx(nt,{className:"w-4 h-4 text-green-500","data-id":"stjlw64ec","data-path":"src/pages/Admin/SystemLogs.tsx"});case"Suspicious":return t.jsx(z,{className:"w-4 h-4 text-orange-500","data-id":"3487124i0","data-path":"src/pages/Admin/SystemLogs.tsx"});default:return t.jsx(St,{className:"w-4 h-4 text-blue-500","data-id":"p5y04jlx7","data-path":"src/pages/Admin/SystemLogs.tsx"})}},Ht=i=>{switch(i){case"Failed":return"bg-red-100 text-red-800";case"Blocked":return"bg-yellow-100 text-yellow-800";case"Success":return"bg-green-100 text-green-800";case"Suspicious":return"bg-orange-100 text-orange-800";default:return"bg-blue-100 text-blue-800"}},_t=i=>{switch(i){case"Login":case"Logout":case"Failed Login":case"Registration":case"Password Reset":return t.jsx(kt,{className:"w-4 h-4","data-id":"x00vtwcvk","data-path":"src/pages/Admin/SystemLogs.tsx"});case"Data Access":case"Data Modification":return t.jsx(pt,{className:"w-4 h-4","data-id":"23k13zghk","data-path":"src/pages/Admin/SystemLogs.tsx"});case"Permission Change":case"Admin Action":return t.jsx(I,{className:"w-4 h-4","data-id":"w7uy00y0p","data-path":"src/pages/Admin/SystemLogs.tsx"});default:return t.jsx(At,{className:"w-4 h-4","data-id":"66qujkux6","data-path":"src/pages/Admin/SystemLogs.tsx"})}},F=Dt(),Ft=a.filter(i=>i.event_status==="Failed").length,Bt=a.filter(i=>i.event_status==="Blocked").length,Ut=a.filter(i=>i.event_status==="Success").length;return o?t.jsxs("div",{className:"space-y-6","data-id":"ua4eu9031","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between","data-id":"ju5w5zxnt","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsxs("div",{className:"flex items-center space-x-3","data-id":"ho2ddx6qg","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx(At,{className:"w-8 h-8 text-blue-600","data-id":"lrkmur89g","data-path":"src/pages/Admin/SystemLogs.tsx"}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-id":"mpi30rdx8","data-path":"src/pages/Admin/SystemLogs.tsx",children:"Audit Logs"})]}),t.jsxs("div",{className:"flex space-x-2","data-id":"tr18jjetq","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsxs(b,{onClick:xt,disabled:s,variant:"outline","data-id":"it1488dm7","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx(K,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`,"data-id":"9oulje1j7","data-path":"src/pages/Admin/SystemLogs.tsx"}),"Refresh"]}),t.jsxs(b,{onClick:X,variant:"outline","data-id":"udt39q3jj","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx(st,{className:"w-4 h-4 mr-2","data-id":"kj835nv2c","data-path":"src/pages/Admin/SystemLogs.tsx"}),"Export"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4","data-id":"8xn2n5y9v","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx(c,{"data-id":"tq87vreir","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsx(r,{className:"p-4","data-id":"rkpyx5ojz","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsxs("div",{className:"flex items-center space-x-3","data-id":"5smymc5cp","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx(At,{className:"w-8 h-8 text-blue-600","data-id":"wcc3jsu9u","data-path":"src/pages/Admin/SystemLogs.tsx"}),t.jsxs("div",{"data-id":"mzdfhckct","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx("p",{className:"text-sm text-gray-600","data-id":"7revijfi1","data-path":"src/pages/Admin/SystemLogs.tsx",children:"Total Logs"}),t.jsx("p",{className:"text-2xl font-bold","data-id":"walmhu5e1","data-path":"src/pages/Admin/SystemLogs.tsx",children:a.length})]})]})})}),t.jsx(c,{"data-id":"kfri51inx","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsx(r,{className:"p-4","data-id":"a1p55810v","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsxs("div",{className:"flex items-center space-x-3","data-id":"v0nj93p9o","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx(Ct,{className:"w-8 h-8 text-red-600","data-id":"bilsljezf","data-path":"src/pages/Admin/SystemLogs.tsx"}),t.jsxs("div",{"data-id":"q404gyfzt","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx("p",{className:"text-sm text-gray-600","data-id":"dkid6bkht","data-path":"src/pages/Admin/SystemLogs.tsx",children:"Errors"}),t.jsx("p",{className:"text-2xl font-bold text-red-600","data-id":"1qvooi621","data-path":"src/pages/Admin/SystemLogs.tsx",children:Ft})]})]})})}),t.jsx(c,{"data-id":"hdtbsf464","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsx(r,{className:"p-4","data-id":"6ttarok9y","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsxs("div",{className:"flex items-center space-x-3","data-id":"ybe9k9rof","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx(z,{className:"w-8 h-8 text-yellow-600","data-id":"4vnmcah9h","data-path":"src/pages/Admin/SystemLogs.tsx"}),t.jsxs("div",{"data-id":"trumyixto","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx("p",{className:"text-sm text-gray-600","data-id":"c7cf4tukk","data-path":"src/pages/Admin/SystemLogs.tsx",children:"Warnings"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600","data-id":"kyzieblo6","data-path":"src/pages/Admin/SystemLogs.tsx",children:Bt})]})]})})}),t.jsx(c,{"data-id":"r1ltjtn2o","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsx(r,{className:"p-4","data-id":"y515n4a1u","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsxs("div",{className:"flex items-center space-x-3","data-id":"f680p65uy","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx(St,{className:"w-8 h-8 text-blue-600","data-id":"3kogsm6jd","data-path":"src/pages/Admin/SystemLogs.tsx"}),t.jsxs("div",{"data-id":"w7vzcyuhg","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx("p",{className:"text-sm text-gray-600","data-id":"gjgfwj8gb","data-path":"src/pages/Admin/SystemLogs.tsx",children:"Info"}),t.jsx("p",{className:"text-2xl font-bold text-blue-600","data-id":"5mjymgg09","data-path":"src/pages/Admin/SystemLogs.tsx",children:Ut})]})]})})})]}),t.jsx(Kt,{selectedCount:n.selectedCount,onBatchDelete:rt,onClearSelection:n.clearSelection,isLoading:O,showEdit:!1,"data-id":"tz4bvya39","data-path":"src/pages/Admin/SystemLogs.tsx"}),t.jsx(c,{"data-id":"d32mpezmv","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsx(r,{className:"p-4","data-id":"z5pw0yq6l","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4","data-id":"4nemg2jlw","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsxs("div",{className:"relative","data-id":"z6536lg8o","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx(Zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4","data-id":"t8op5o5er","data-path":"src/pages/Admin/SystemLogs.tsx"}),t.jsx(Pt,{placeholder:"Search logs...",value:h,onChange:i=>d(i.target.value),className:"pl-10","data-id":"8ihm0enaj","data-path":"src/pages/Admin/SystemLogs.tsx"})]}),t.jsxs(Z,{value:j,onValueChange:S,"data-id":"c4p0ghwsi","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx(tt,{"data-id":"pgvrt3d6p","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsx(at,{placeholder:"Filter by level","data-id":"8djwraf9q","data-path":"src/pages/Admin/SystemLogs.tsx"})}),t.jsxs(et,{"data-id":"508t7cip3","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx(N,{value:"All","data-id":"d7z9lvk1l","data-path":"src/pages/Admin/SystemLogs.tsx",children:"All Levels"}),l.map(i=>t.jsx(N,{value:i,"data-id":"mqeg1vxz6","data-path":"src/pages/Admin/SystemLogs.tsx",children:i},i))]})]}),t.jsxs(Z,{value:M,onValueChange:A,"data-id":"y29mvpldx","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx(tt,{"data-id":"4iz9isrpr","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsx(at,{placeholder:"Filter by category","data-id":"lqo9pp0cz","data-path":"src/pages/Admin/SystemLogs.tsx"})}),t.jsxs(et,{"data-id":"hybbw23bd","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx(N,{value:"All","data-id":"7h24njj4o","data-path":"src/pages/Admin/SystemLogs.tsx",children:"All Categories"}),k.map(i=>t.jsx(N,{value:i,"data-id":"nip8ms1al","data-path":"src/pages/Admin/SystemLogs.tsx",children:i},i))]})]}),t.jsxs(Z,{value:q,onValueChange:U,"data-id":"u1l31gk2q","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx(tt,{"data-id":"2lvhp00sf","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsx(at,{"data-id":"wz0n4sivu","data-path":"src/pages/Admin/SystemLogs.tsx"})}),t.jsx(et,{"data-id":"07s15y4i3","data-path":"src/pages/Admin/SystemLogs.tsx",children:C.map(i=>t.jsx(N,{value:i.value,"data-id":"26oedtozu","data-path":"src/pages/Admin/SystemLogs.tsx",children:i.label},i.value))})]}),t.jsx(b,{variant:"outline",onClick:()=>{d(""),S("All"),A("All"),U("today")},"data-id":"ucjbd0y99","data-path":"src/pages/Admin/SystemLogs.tsx",children:"Clear Filters"})]})})}),t.jsxs(c,{"data-id":"kwpr4iolj","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx(x,{"data-id":"0fgfudjrj","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsxs(y,{"data-id":"sebemfpyd","data-path":"src/pages/Admin/SystemLogs.tsx",children:["Audit Logs (",F.length,")"]})}),t.jsxs(r,{"data-id":"ec3dbps4d","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx("div",{className:"overflow-x-auto","data-id":"t2mp601ls","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsxs(Rt,{"data-id":"gn3fvyk7n","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx(Et,{"data-id":"m7rk9or8w","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsxs(gt,{"data-id":"5fy5l0zd0","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx(P,{className:"w-12","data-id":"92d0ujp25","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsx(Nt,{checked:F.length>0&&n.selectedCount===F.length,onCheckedChange:()=>n.toggleSelectAll(F,i=>i.id),"aria-label":"Select all logs","data-id":"jo9egy25k","data-path":"src/pages/Admin/SystemLogs.tsx"})}),t.jsx(P,{"data-id":"6iwbc3pte","data-path":"src/pages/Admin/SystemLogs.tsx",children:"Time"}),t.jsx(P,{"data-id":"iit8j0eda","data-path":"src/pages/Admin/SystemLogs.tsx",children:"Status"}),t.jsx(P,{"data-id":"3ssswnzsc","data-path":"src/pages/Admin/SystemLogs.tsx",children:"Event Type"}),t.jsx(P,{"data-id":"mmm6e3aly","data-path":"src/pages/Admin/SystemLogs.tsx",children:"Action"}),t.jsx(P,{"data-id":"wkkj926tv","data-path":"src/pages/Admin/SystemLogs.tsx",children:"User"}),t.jsx(P,{"data-id":"ucnyajokf","data-path":"src/pages/Admin/SystemLogs.tsx",children:"IP Address"})]})}),t.jsx(Gt,{"data-id":"hyokjbil2","data-path":"src/pages/Admin/SystemLogs.tsx",children:F.map(i=>t.jsxs(gt,{className:n.isSelected(i.id)?"bg-blue-50":"","data-id":"g43nbkvz1","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx(R,{"data-id":"7d5p1845s","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsx(Nt,{checked:n.isSelected(i.id),onCheckedChange:()=>n.toggleItem(i.id),"aria-label":`Select log ${i.id}`,"data-id":"4u87jwabo","data-path":"src/pages/Admin/SystemLogs.tsx"})}),t.jsx(R,{className:"font-mono text-sm","data-id":"bf90zqcp9","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsxs("div",{className:"flex items-center space-x-2","data-id":"9igw8h1da","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx(Ot,{className:"w-3 h-3 text-gray-400","data-id":"oo79np60e","data-path":"src/pages/Admin/SystemLogs.tsx"}),t.jsx("span",{"data-id":"p69pzu7yn","data-path":"src/pages/Admin/SystemLogs.tsx",children:new Date(i.event_timestamp).toLocaleString()})]})}),t.jsx(R,{"data-id":"twt7k9632","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsxs("div",{className:"flex items-center space-x-2","data-id":"sxb68ui3f","data-path":"src/pages/Admin/SystemLogs.tsx",children:[$t(i.event_status),t.jsx(p,{className:Ht(i.event_status),"data-id":"az5r318an","data-path":"src/pages/Admin/SystemLogs.tsx",children:i.event_status})]})}),t.jsx(R,{"data-id":"jgs8kb3ah","data-path":"src/pages/Admin/SystemLogs.tsx",children:t.jsxs("div",{className:"flex items-center space-x-2","data-id":"3w6mvwm1o","data-path":"src/pages/Admin/SystemLogs.tsx",children:[_t(i.event_type),t.jsx("span",{"data-id":"2yljbkli2","data-path":"src/pages/Admin/SystemLogs.tsx",children:i.event_type})]})}),t.jsxs(R,{className:"max-w-md","data-id":"w4dhaebx0","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx("div",{className:"truncate",title:i.action_performed,"data-id":"saxl8wf1z","data-path":"src/pages/Admin/SystemLogs.tsx",children:i.action_performed}),i.failure_reason&&t.jsxs("div",{className:"text-xs text-red-600 mt-1","data-id":"bfsw8o6j1","data-path":"src/pages/Admin/SystemLogs.tsx",children:["Reason: ",i.failure_reason]}),i.additional_data&&i.additional_data!=="{}"&&t.jsxs("details",{className:"mt-1","data-id":"dpolfbrcf","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-700","data-id":"uzv32o9md","data-path":"src/pages/Admin/SystemLogs.tsx",children:"View details"}),t.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded mt-1 overflow-x-auto","data-id":"meo4rd1tf","data-path":"src/pages/Admin/SystemLogs.tsx",children:JSON.stringify(JSON.parse(i.additional_data),null,2)})]})]}),t.jsx(R,{"data-id":"zj46vc48t","data-path":"src/pages/Admin/SystemLogs.tsx",children:i.username&&t.jsxs("div",{className:"flex items-center space-x-1","data-id":"5i2rdz088","data-path":"src/pages/Admin/SystemLogs.tsx",children:[t.jsx(kt,{className:"w-3 h-3 text-gray-400","data-id":"713ijjyhg","data-path":"src/pages/Admin/SystemLogs.tsx"}),t.jsx("span",{className:"text-sm","data-id":"tohrlo0l2","data-path":"src/pages/Admin/SystemLogs.tsx",children:i.username})]})}),t.jsx(R,{className:"font-mono text-sm","data-id":"pm3qj4xx8","data-path":"src/pages/Admin/SystemLogs.tsx",children:i.ip_address})]},i.id))})]})}),F.length===0&&t.jsx("div",{className:"text-center py-8 text-gray-500","data-id":"ap5bm3g8q","data-path":"src/pages/Admin/SystemLogs.tsx",children:"No logs found matching the current filters."})]})]}),t.jsx(Xt,{isOpen:Q,onClose:()=>g(!1),onConfirm:Vt,selectedCount:n.selectedCount,isLoading:O,itemName:"log entries",selectedItems:n.getSelectedData(F,i=>i.id).map(i=>({id:i.id,name:`${i.level} - ${i.category} - ${i.message.substring(0,50)}...`})),"data-id":"w9lkclf8z","data-path":"src/pages/Admin/SystemLogs.tsx"})]}):t.jsx(ft,{feature:"System Logs",requiredRole:"Administrator","data-id":"49ufucymf","data-path":"src/pages/Admin/SystemLogs.tsx"})},Na=Object.freeze(Object.defineProperty({__proto__:null,default:la},Symbol.toStringTag,{value:"Module"}));class pa{constructor(){f(this,"isPerformanceSupported");f(this,"isMemorySupported");f(this,"isNavigationTimingSupported");this.isPerformanceSupported=this.checkPerformanceSupport(),this.isMemorySupported=this.checkMemorySupport(),this.isNavigationTimingSupported=this.checkNavigationTimingSupport()}checkPerformanceSupport(){return typeof window<"u"&&typeof window.performance<"u"&&window.performance!==null}checkMemorySupport(){if(!this.isPerformanceSupported)return!1;try{const a=window.performance;return a.memory&&typeof a.memory.usedJSHeapSize=="number"}catch{return!1}}checkNavigationTimingSupport(){if(!this.isPerformanceSupported)return!1;try{const a=window.performance;if(!a||typeof a!="object"||typeof a.getEntriesByType!="function")return!1;try{const e=a.getEntriesByType("navigation");return Array.isArray(e)}catch(e){return console.warn("Performance.getEntriesByType test call failed:",e),!1}}catch(a){return console.warn("Performance.getEntriesByType not available:",a),!1}}getMemoryUsage(){if(!this.isMemorySupported)return null;try{const a=window.performance.memory;return{usedJSHeapSize:a.usedJSHeapSize||0,totalJSHeapSize:a.totalJSHeapSize||0,jsHeapSizeLimit:a.jsHeapSizeLimit||0}}catch(a){return console.warn("Error accessing performance.memory:",a),null}}getNavigationTiming(){if(!this.isNavigationTimingSupported)return null;try{if(typeof window.performance.getEntriesByType!="function")return console.warn("getEntriesByType method not available"),null;const a=window.performance.getEntriesByType("navigation");return a.length>0?a[0]:null}catch(a){return console.warn("Error accessing navigation timing:",a),null}}getResourceTiming(){if(!this.isNavigationTimingSupported)return[];try{return typeof window.performance.getEntriesByType!="function"?(console.warn("getEntriesByType method not available for resource timing"),[]):window.performance.getEntriesByType("resource")}catch(a){return console.warn("Error accessing resource timing:",a),[]}}getMarks(){if(!this.isNavigationTimingSupported)return[];try{return typeof window.performance.getEntriesByType!="function"?(console.warn("getEntriesByType method not available for marks"),[]):window.performance.getEntriesByType("mark")}catch(a){return console.warn("Error accessing performance marks:",a),[]}}getMeasures(){if(!this.isNavigationTimingSupported)return[];try{return typeof window.performance.getEntriesByType!="function"?(console.warn("getEntriesByType method not available for measures"),[]):window.performance.getEntriesByType("measure")}catch(a){return console.warn("Error accessing performance measures:",a),[]}}mark(a){if(this.isPerformanceSupported)try{typeof window.performance.mark=="function"&&window.performance.mark(a)}catch(e){console.warn("Error creating performance mark:",e)}}measure(a,e,s){if(this.isPerformanceSupported)try{typeof window.performance.measure=="function"&&window.performance.measure(a,e,s)}catch(m){console.warn("Error creating performance measure:",m)}}now(){if(!this.isPerformanceSupported)return Date.now();try{return window.performance.now()}catch(a){return console.warn("Error getting performance.now():",a),Date.now()}}getSupportInfo(){return{performance:this.isPerformanceSupported,memory:this.isMemorySupported,navigationTiming:this.isNavigationTimingSupported,marks:this.isPerformanceSupported&&typeof window.performance.mark=="function",measures:this.isPerformanceSupported&&typeof window.performance.measure=="function",now:this.isPerformanceSupported&&typeof window.performance.now=="function"}}isFullySupported(){return this.isPerformanceSupported&&this.isMemorySupported&&this.isNavigationTimingSupported}}const Tt=new pa,W=class W{constructor(){f(this,"components",new Map);f(this,"memoryCheckInterval",null);f(this,"maxMemoryGrowth",50*1024*1024);f(this,"memoryCheckFrequency",3e4);f(this,"isMonitoring",!1);f(this,"baselineMemory",null);f(this,"memoryHistory",[]);f(this,"maxHistorySize",100);f(this,"leakOccurrences",0);f(this,"lastAlertTime",0);f(this,"ALERT_COOLDOWN",3e5);f(this,"MIN_OCCURRENCES_FOR_CRITICAL_ALERT",3);f(this,"CONSECUTIVE_GROWTH_THRESHOLD",5);f(this,"consecutiveGrowthCount",0);this.initializeMonitoring()}static getInstance(){return W.instance||(W.instance=new W),W.instance}initializeMonitoring(){if(!Tt.getSupportInfo().memory){console.warn("Memory monitoring not available in this environment");return}try{this.baselineMemory=this.getCurrentMemoryStats(),this.baselineMemory?this.startMonitoring():console.warn("Performance memory API not available in this browser")}catch(a){console.warn("Error initializing memory monitoring:",a)}}getCurrentMemoryStats(){try{const a=Tt.getMemoryUsage();return a?{usedJSHeapSize:a.usedJSHeapSize,totalJSHeapSize:a.totalJSHeapSize,jsHeapSizeLimit:a.jsHeapSizeLimit}:null}catch(a){return console.warn("Error accessing performance.memory:",a),null}}startMonitoring(){this.isMonitoring||(this.isMonitoring=!0,this.memoryCheckInterval=setInterval(()=>{this.checkMemoryUsage()},this.memoryCheckFrequency),typeof window<"u"&&window.addEventListener("beforeunload",()=>{this.stopMonitoring()}))}stopMonitoring(){this.memoryCheckInterval&&(clearInterval(this.memoryCheckInterval),this.memoryCheckInterval=null),this.isMonitoring=!1}checkMemoryUsage(){const a=this.getCurrentMemoryStats();if(!a||!this.baselineMemory)return;this.memoryHistory.push({timestamp:Date.now(),memory:a}),this.memoryHistory.length>this.maxHistorySize&&this.memoryHistory.shift(),this.analyzeMemoryTrend(a);const e=a.usedJSHeapSize/a.jsHeapSizeLimit;e>.8&&(console.warn(`High memory pressure detected: ${(e*100).toFixed(1)}%`),this.sugggestGarbageCollection())}analyzeMemoryTrend(a){if(this.memoryHistory.length<10)return;const e=this.memoryHistory.slice(-10),s=e[e.length-2];if(!s)return;const m=a.usedJSHeapSize-s.memory.usedJSHeapSize;if(m>this.maxMemoryGrowth/10?this.consecutiveGrowthCount++:this.consecutiveGrowthCount=Math.max(0,this.consecutiveGrowthCount-1),this.consecutiveGrowthCount>=this.CONSECUTIVE_GROWTH_THRESHOLD){this.leakOccurrences++;const d=Date.now();this.leakOccurrences>=this.MIN_OCCURRENCES_FOR_CRITICAL_ALERT&&d-this.lastAlertTime>this.ALERT_COOLDOWN&&(this.lastAlertTime=d,this.reportCriticalMemoryLeak(a))}m<-(this.maxMemoryGrowth/5)&&(this.leakOccurrences=0,this.consecutiveGrowthCount=0,console.log("Memory usage decreased significantly - resetting leak detection counters"))}reportCriticalMemoryLeak(a){const e=a.usedJSHeapSize-this.baselineMemory.usedJSHeapSize;console.error("ðŸš¨ CRITICAL MEMORY LEAK DETECTED!"),console.error(`Memory grew by ${(e/1024/1024).toFixed(2)}MB`),console.error(`Leak occurrences: ${this.leakOccurrences}`),console.error(`Consecutive growth periods: ${this.consecutiveGrowthCount}`),this.reportSuspiciousComponents()}reportGlobalMemoryLeak(a,e){console.warn(`Potential memory leak detected! Memory grew by ${(e/1024/1024).toFixed(2)}MB`),this.reportSuspiciousComponents()}reportSuspiciousComponents(){const a=Array.from(this.components.entries()).filter(([e,s])=>s.leakReports.length>0).map(([e,s])=>({name:e,leakCount:s.leakReports.length,lastLeakTime:Math.max(...s.leakReports.map(m=>m.timestamp))})).sort((e,s)=>s.leakCount-e.leakCount);a.length>0&&(console.group("ðŸ” Suspicious Components:"),a.forEach(e=>{console.log(`${e.name}: ${e.leakCount} potential leaks`)}),console.groupEnd())}sugggestGarbageCollection(){typeof window<"u"&&window.gc?(console.log("Triggering garbage collection..."),window.gc()):console.log("Consider triggering garbage collection manually in DevTools")}trackComponent(a){const e=this.getCurrentMemoryStats();if(this.components.has(a)){const s=this.components.get(a);s.mountTime=Date.now(),s.unmountTime=void 0,s.memoryUsageOnMount=e}else this.components.set(a,{name:a,mountTime:Date.now(),leakReports:[],memoryUsageOnMount:e,memoryUsageOnUnmount:null});console.log(`ðŸ“Š Tracking component: ${a}`,{totalTracked:this.components.size,memoryOnMount:e?`${(e.usedJSHeapSize/1024/1024).toFixed(2)}MB`:"N/A"})}untrackComponent(a){const e=this.components.get(a);if(!e)return;const s=this.getCurrentMemoryStats();e.unmountTime=Date.now(),e.memoryUsageOnUnmount=s;const m=e.unmountTime-e.mountTime;if(e.memoryUsageOnMount&&s){const h=s.usedJSHeapSize-e.memoryUsageOnMount.usedJSHeapSize;h>5*1024*1024&&console.warn(`Component ${a} may have caused memory growth: ${(h/1024/1024).toFixed(2)}MB`)}console.log(`ðŸ“‰ Component unmounted: ${a}`,{lifecycleTime:`${m}ms`,leakReports:e.leakReports.length,memoryOnUnmount:s?`${(s.usedJSHeapSize/1024/1024).toFixed(2)}MB`:"N/A"})}reportPotentialLeak(a,e,s){const m=this.components.get(a);if(!m){console.warn(`Cannot report leak for untracked component: ${a}`);return}const h={componentName:a,leakType:e,metadata:s,timestamp:Date.now(),memoryStats:this.getCurrentMemoryStats()};m.leakReports.push(h),console.warn(`ðŸš¨ Potential memory leak detected in ${a}:`,{type:e,details:s,totalLeaksForComponent:m.leakReports.length}),this.suggestFix(e,a)}suggestFix(a,e){const m={setState_after_unmount:"Use a ref to track mount status or cleanup async operations in useEffect cleanup",large_closure:"Consider breaking down large objects or using useMemo/useCallback to optimize closures",uncleared_timer:"Make sure to clear timers in useEffect cleanup function",unremoved_listener:"Remove event listeners in useEffect cleanup function",uncancelled_subscription:"Cancel subscriptions and async operations in useEffect cleanup",memory_leak_detected:"Check for circular references and ensure proper cleanup of resources"}[a];m&&console.log(`ðŸ’¡ Suggestion for ${e}: ${m}`)}getComponentStats(a){return a?this.components.get(a)||null:Array.from(this.components.values())}getMemoryHistory(){return[...this.memoryHistory]}getCurrentMemoryInfo(){const a=this.getCurrentMemoryStats(),e=a&&this.baselineMemory?a.usedJSHeapSize-this.baselineMemory.usedJSHeapSize:0,s=a?a.usedJSHeapSize/a.jsHeapSizeLimit:0,m=Array.from(this.components.values()).reduce((h,d)=>h+d.leakReports.length,0);return{current:a,baseline:this.baselineMemory,growth:e,pressure:s,componentsTracked:this.components.size,totalLeakReports:m,leakOccurrences:this.leakOccurrences,isCriticalLeakDetected:this.leakOccurrences>=this.MIN_OCCURRENCES_FOR_CRITICAL_ALERT,nextAlertTime:this.lastAlertTime+this.ALERT_COOLDOWN}}forceGarbageCollection(){return typeof window<"u"&&window.gc?(window.gc(),console.log("Garbage collection triggered"),!0):(console.warn('Garbage collection not available. Enable in Chrome: --js-flags="--expose-gc"'),!1)}resetBaseline(){this.baselineMemory=this.getCurrentMemoryStats(),this.memoryHistory=[],this.leakOccurrences=0,this.consecutiveGrowthCount=0,this.lastAlertTime=0,console.log("Memory baseline and leak detection counters reset")}generateReport(){const a=this.getCurrentMemoryInfo(),e=Array.from(this.components.values()).filter(m=>m.leakReports.length>0).sort((m,h)=>h.leakReports.length-m.leakReports.length);return`
Memory Leak Detection Report
Generated: ${new Date().toISOString()}

=== Memory Stats ===
Current Usage: ${a.current?(a.current.usedJSHeapSize/1024/1024).toFixed(2):"N/A"}MB
Baseline Usage: ${a.baseline?(a.baseline.usedJSHeapSize/1024/1024).toFixed(2):"N/A"}MB
Memory Growth: ${(a.growth/1024/1024).toFixed(2)}MB
Memory Pressure: ${(a.pressure*100).toFixed(1)}%
Heap Size Limit: ${a.current?(a.current.jsHeapSizeLimit/1024/1024).toFixed(2):"N/A"}MB

=== Leak Detection Status ===
Leak Occurrences: ${a.leakOccurrences}
Critical Leak Detected: ${a.isCriticalLeakDetected?"YES":"NO"}
Next Alert Available: ${a.nextAlertTime>Date.now()?new Date(a.nextAlertTime).toISOString():"Now"}

=== Component Tracking ===
Components Tracked: ${a.componentsTracked}
Total Leak Reports: ${a.totalLeakReports}

=== Suspicious Components ===
${e.length===0?"No suspicious components detected":e.map(m=>`${m.name}: ${m.leakReports.length} leak reports`).join(`
`)}

=== Memory History (Last 10 entries) ===
${this.memoryHistory.slice(-10).map(m=>`${new Date(m.timestamp).toISOString()}: ${(m.memory.usedJSHeapSize/1024/1024).toFixed(2)}MB`).join(`
`)}
    `.trim()}};f(W,"instance");let Lt=W;const ha=()=>{const[o,a]=u.useState(null),[e,s]=u.useState([]),[m,h]=u.useState([]),[d,j]=u.useState(!0),{toast:S}=it(),M=Lt.getInstance(),A=()=>{try{const n=M.getCurrentMemoryInfo(),l=M.getComponentStats(),k=M.getMemoryHistory();a(n),s(Array.isArray(l)?l:[]),h(k)}catch(n){console.warn("Error refreshing memory data:",n),a({current:null,baseline:null,growth:0,pressure:0,componentsTracked:0,totalLeakReports:0,leakOccurrences:0,isCriticalLeakDetected:!1,nextAlertTime:0}),s([]),h([])}};u.useEffect(()=>{A();const n=setInterval(A,5e3);return()=>clearInterval(n)},[]);const q=n=>`${(n/1024/1024).toFixed(2)} MB`,U=n=>n<.5?"text-green-600":n<.7?"text-yellow-600":"text-red-600",Q=n=>n<.5?"Low":n<.7?"Medium":"High",g=()=>{M.forceGarbageCollection()?(S({title:"Garbage Collection Triggered",description:"Manual garbage collection has been executed."}),setTimeout(A,1e3)):S({title:"Garbage Collection Unavailable",description:'Enable garbage collection in Chrome DevTools with --js-flags="--expose-gc"',variant:"destructive"})},O=()=>{M.resetBaseline(),S({title:"Baseline Reset",description:"Memory monitoring baseline has been reset."}),A()},E=()=>{const n=M.generateReport(),l=new Blob([n],{type:"text/plain"}),k=URL.createObjectURL(l),C=document.createElement("a");C.href=k,C.download=`memory-leak-report-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(k),S({title:"Report Downloaded",description:"Memory leak report has been saved to your downloads."})},v=e.filter(n=>n.leakReports.length>0).sort((n,l)=>l.leakReports.length-n.leakReports.length);return o?t.jsxs("div",{className:"space-y-6","data-id":"pl89o3zrw","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between","data-id":"pg80m2cbt","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsxs("div",{"data-id":"cclzd8nys","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx("h1",{className:"text-3xl font-bold","data-id":"g4g1rn4dd","data-path":"src/components/MemoryLeakDashboard.tsx",children:"Memory Leak Monitor"}),t.jsx("p",{className:"text-muted-foreground","data-id":"00sfzfdld","data-path":"src/components/MemoryLeakDashboard.tsx",children:"Real-time memory usage and leak detection dashboard"})]}),t.jsxs("div",{className:"flex gap-2","data-id":"3h1rgxwko","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsxs(b,{onClick:A,variant:"outline",size:"sm","data-id":"iwbudp01p","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx(K,{className:"h-4 w-4 mr-2","data-id":"nrm94hy6u","data-path":"src/components/MemoryLeakDashboard.tsx"}),"Refresh"]}),t.jsxs(b,{onClick:g,variant:"outline",size:"sm","data-id":"uzjg7g6j6","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx(ta,{className:"h-4 w-4 mr-2","data-id":"6aau26t48","data-path":"src/components/MemoryLeakDashboard.tsx"}),"Force GC"]}),t.jsxs(b,{onClick:O,variant:"outline",size:"sm","data-id":"fikgzzm54","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx(vt,{className:"h-4 w-4 mr-2","data-id":"hw057gm1s","data-path":"src/components/MemoryLeakDashboard.tsx"}),"Reset Baseline"]}),t.jsxs(b,{onClick:E,variant:"outline",size:"sm","data-id":"dpe83i16q","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx(st,{className:"h-4 w-4 mr-2","data-id":"6ttb5ej83","data-path":"src/components/MemoryLeakDashboard.tsx"}),"Download Report"]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4","data-id":"dsequu6fb","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsxs(c,{"data-id":"2i8g5fy9y","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2","data-id":"txhbijqfm","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx(y,{className:"text-sm font-medium","data-id":"80gsuwhyr","data-path":"src/components/MemoryLeakDashboard.tsx",children:"Current Memory"}),t.jsx(aa,{className:"h-4 w-4 text-muted-foreground","data-id":"7i52fx8x6","data-path":"src/components/MemoryLeakDashboard.tsx"})]}),t.jsxs(r,{"data-id":"aslkh6tc6","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx("div",{className:"text-2xl font-bold","data-id":"t58hfutum","data-path":"src/components/MemoryLeakDashboard.tsx",children:o.current?q(o.current.usedJSHeapSize):"N/A"}),t.jsxs("p",{className:"text-xs text-muted-foreground","data-id":"6w6qbkk4u","data-path":"src/components/MemoryLeakDashboard.tsx",children:["of ",o.current?q(o.current.jsHeapSizeLimit):"N/A"," limit"]})]})]}),t.jsxs(c,{"data-id":"r48889ylo","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2","data-id":"haohp4wz1","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx(y,{className:"text-sm font-medium","data-id":"eiak81y9r","data-path":"src/components/MemoryLeakDashboard.tsx",children:"Memory Growth"}),t.jsx(ht,{className:"h-4 w-4 text-muted-foreground","data-id":"78rae63qy","data-path":"src/components/MemoryLeakDashboard.tsx"})]}),t.jsxs(r,{"data-id":"9awfcnl3p","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx("div",{className:"text-2xl font-bold","data-id":"1eou6w9ah","data-path":"src/components/MemoryLeakDashboard.tsx",children:q(o.growth)}),t.jsx("p",{className:"text-xs text-muted-foreground","data-id":"37msaqe0h","data-path":"src/components/MemoryLeakDashboard.tsx",children:"since baseline"})]})]}),t.jsxs(c,{"data-id":"quxl4blq3","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2","data-id":"uvvmjyu7x","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx(y,{className:"text-sm font-medium","data-id":"alonk06cj","data-path":"src/components/MemoryLeakDashboard.tsx",children:"Memory Pressure"}),t.jsx(ea,{className:"h-4 w-4 text-muted-foreground","data-id":"nle9mo4ez","data-path":"src/components/MemoryLeakDashboard.tsx"})]}),t.jsxs(r,{"data-id":"jh9sqz24q","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsxs("div",{className:`text-2xl font-bold ${U(o.pressure)}`,"data-id":"4tf3pcduk","data-path":"src/components/MemoryLeakDashboard.tsx",children:[(o.pressure*100).toFixed(1),"%"]}),t.jsxs("p",{className:"text-xs text-muted-foreground","data-id":"v3i3p8s6d","data-path":"src/components/MemoryLeakDashboard.tsx",children:[Q(o.pressure)," pressure"]}),t.jsx(It,{value:o.pressure*100,className:"mt-2","data-id":"kbgz3kyzr","data-path":"src/components/MemoryLeakDashboard.tsx"})]})]}),t.jsxs(c,{"data-id":"m8x9aql45","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2","data-id":"i3kg4ksnk","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx(y,{className:"text-sm font-medium","data-id":"f216e9sys","data-path":"src/components/MemoryLeakDashboard.tsx",children:"Components Tracked"}),t.jsx(J,{className:"h-4 w-4 text-muted-foreground","data-id":"9kmdoi000","data-path":"src/components/MemoryLeakDashboard.tsx"})]}),t.jsxs(r,{"data-id":"7assyqn1r","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx("div",{className:"text-2xl font-bold","data-id":"g641hs5xn","data-path":"src/components/MemoryLeakDashboard.tsx",children:o.componentsTracked}),t.jsxs("p",{className:"text-xs text-muted-foreground","data-id":"si16w2kb1","data-path":"src/components/MemoryLeakDashboard.tsx",children:[o.totalLeakReports," leak reports"]})]})]})]}),o.pressure>.7&&t.jsxs(V,{"data-id":"52d8ozvxk","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx(z,{className:"h-4 w-4","data-id":"j7ne468uo","data-path":"src/components/MemoryLeakDashboard.tsx"}),t.jsxs($,{"data-id":"cxyaew4rf","data-path":"src/components/MemoryLeakDashboard.tsx",children:["High memory pressure detected (",(o.pressure*100).toFixed(1),"%). Consider triggering garbage collection or investigating memory leaks."]})]}),t.jsxs(ot,{defaultValue:"components",className:"space-y-4","data-id":"458rb6ykx","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsxs(dt,{"data-id":"xfmbwfj6f","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx(L,{value:"components","data-id":"q48l8aqm2","data-path":"src/components/MemoryLeakDashboard.tsx",children:"Component Tracking"}),t.jsxs(L,{value:"leaks","data-id":"gthxwh9ra","data-path":"src/components/MemoryLeakDashboard.tsx",children:["Leak Reports",v.length>0&&t.jsx(p,{variant:"destructive",className:"ml-2","data-id":"9y4adnzif","data-path":"src/components/MemoryLeakDashboard.tsx",children:v.length})]}),t.jsx(L,{value:"history","data-id":"pa3e7nylm","data-path":"src/components/MemoryLeakDashboard.tsx",children:"Memory History"})]}),t.jsx(D,{value:"components",className:"space-y-4","data-id":"r4fe43hkd","data-path":"src/components/MemoryLeakDashboard.tsx",children:t.jsxs(c,{"data-id":"700c0ro9m","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsxs(x,{"data-id":"0cra8lmit","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx(y,{"data-id":"xfkkvabns","data-path":"src/components/MemoryLeakDashboard.tsx",children:"Component Tracking"}),t.jsx(w,{"data-id":"kd6p0o7nk","data-path":"src/components/MemoryLeakDashboard.tsx",children:"Real-time tracking of React components and their memory impact"})]}),t.jsx(r,{"data-id":"hxj26vlda","data-path":"src/components/MemoryLeakDashboard.tsx",children:e.length===0?t.jsx("p",{className:"text-center text-muted-foreground py-8","data-id":"p9r938xuo","data-path":"src/components/MemoryLeakDashboard.tsx",children:"No components are currently being tracked"}):t.jsx("div",{className:"space-y-4","data-id":"y596hhyxe","data-path":"src/components/MemoryLeakDashboard.tsx",children:e.map((n,l)=>t.jsxs("div",{className:"border rounded-lg p-4","data-id":"784xje5yt","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2","data-id":"0mjj3ss0h","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx("h3",{className:"font-semibold","data-id":"x83fxs1f4","data-path":"src/components/MemoryLeakDashboard.tsx",children:n.name}),t.jsxs("div",{className:"flex gap-2","data-id":"nmrygczsg","data-path":"src/components/MemoryLeakDashboard.tsx",children:[n.leakReports.length>0&&t.jsxs(p,{variant:"destructive","data-id":"xrx7aenar","data-path":"src/components/MemoryLeakDashboard.tsx",children:[n.leakReports.length," leaks"]}),t.jsx(p,{variant:n.unmountTime?"secondary":"default","data-id":"amqs2zlmf","data-path":"src/components/MemoryLeakDashboard.tsx",children:n.unmountTime?"Unmounted":"Mounted"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm","data-id":"6ngljka6n","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsxs("div",{"data-id":"l4rd7pptc","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx("span",{className:"text-muted-foreground","data-id":"8s6ma3w6n","data-path":"src/components/MemoryLeakDashboard.tsx",children:"Mount Time:"}),t.jsx("p",{"data-id":"kpknh0jx9","data-path":"src/components/MemoryLeakDashboard.tsx",children:new Date(n.mountTime).toLocaleTimeString()})]}),n.unmountTime&&t.jsxs("div",{"data-id":"jqwvsdrok","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx("span",{className:"text-muted-foreground","data-id":"dvw67g50f","data-path":"src/components/MemoryLeakDashboard.tsx",children:"Unmount Time:"}),t.jsx("p",{"data-id":"9q2f1cj8d","data-path":"src/components/MemoryLeakDashboard.tsx",children:new Date(n.unmountTime).toLocaleTimeString()})]}),n.memoryUsageOnMount&&t.jsxs("div",{"data-id":"9e5crdyhf","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx("span",{className:"text-muted-foreground","data-id":"t01xhaq1u","data-path":"src/components/MemoryLeakDashboard.tsx",children:"Memory on Mount:"}),t.jsx("p",{"data-id":"fook6tyt9","data-path":"src/components/MemoryLeakDashboard.tsx",children:q(n.memoryUsageOnMount.usedJSHeapSize)})]}),n.memoryUsageOnUnmount&&t.jsxs("div",{"data-id":"28v9jkwf9","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx("span",{className:"text-muted-foreground","data-id":"50swxrsc9","data-path":"src/components/MemoryLeakDashboard.tsx",children:"Memory on Unmount:"}),t.jsx("p",{"data-id":"t8y3atboh","data-path":"src/components/MemoryLeakDashboard.tsx",children:q(n.memoryUsageOnUnmount.usedJSHeapSize)})]})]})]},l))})})]})}),t.jsx(D,{value:"leaks",className:"space-y-4","data-id":"jp75qbwh8","data-path":"src/components/MemoryLeakDashboard.tsx",children:t.jsxs(c,{"data-id":"y3otabrxv","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsxs(x,{"data-id":"3ulnvlm1u","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx(y,{"data-id":"owipjd038","data-path":"src/components/MemoryLeakDashboard.tsx",children:"Leak Reports"}),t.jsx(w,{"data-id":"qv29llsg0","data-path":"src/components/MemoryLeakDashboard.tsx",children:"Components with detected memory leak patterns"})]}),t.jsx(r,{"data-id":"jmywi2fwg","data-path":"src/components/MemoryLeakDashboard.tsx",children:v.length===0?t.jsxs("div",{className:"text-center py-8","data-id":"9bwdaazum","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx("div",{className:"text-green-600 mb-2","data-id":"n3eqzbapl","data-path":"src/components/MemoryLeakDashboard.tsx",children:"âœ… No memory leaks detected"}),t.jsx("p",{className:"text-muted-foreground","data-id":"tk5bxpj15","data-path":"src/components/MemoryLeakDashboard.tsx",children:"All components are clean!"})]}):t.jsx("div",{className:"space-y-4","data-id":"d6xfunas9","data-path":"src/components/MemoryLeakDashboard.tsx",children:v.map((n,l)=>t.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50","data-id":"mcdyt5tct","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2","data-id":"c3157s6qy","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx("h3",{className:"font-semibold text-red-900","data-id":"oimhmx9af","data-path":"src/components/MemoryLeakDashboard.tsx",children:n.name}),t.jsxs(p,{variant:"destructive","data-id":"zrbab2dmm","data-path":"src/components/MemoryLeakDashboard.tsx",children:[n.leakReports.length," issues"]})]}),t.jsx("div",{className:"space-y-2","data-id":"7zeb6fzxi","data-path":"src/components/MemoryLeakDashboard.tsx",children:n.leakReports.map((k,C)=>t.jsxs("div",{className:"text-sm bg-white rounded p-2","data-id":"6mktx3z7p","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between","data-id":"kthmniunp","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx("span",{className:"font-medium","data-id":"u1g2o14v2","data-path":"src/components/MemoryLeakDashboard.tsx",children:k.leakType}),t.jsx("span",{className:"text-muted-foreground","data-id":"ia9tkh8z7","data-path":"src/components/MemoryLeakDashboard.tsx",children:new Date(k.timestamp).toLocaleTimeString()})]}),k.metadata&&t.jsx("pre",{className:"mt-1 text-xs text-gray-600 bg-gray-100 p-1 rounded overflow-x-auto","data-id":"tkbl1xqjd","data-path":"src/components/MemoryLeakDashboard.tsx",children:JSON.stringify(k.metadata,null,2)})]},C))})]},l))})})]})}),t.jsx(D,{value:"history",className:"space-y-4","data-id":"hk9b0wpy7","data-path":"src/components/MemoryLeakDashboard.tsx",children:t.jsxs(c,{"data-id":"k9ne761xj","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsxs(x,{"data-id":"gv8schxxb","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx(y,{"data-id":"80ow5urim","data-path":"src/components/MemoryLeakDashboard.tsx",children:"Memory Usage History"}),t.jsx(w,{"data-id":"66qzvmxcb","data-path":"src/components/MemoryLeakDashboard.tsx",children:"Historical memory usage data over time"})]}),t.jsx(r,{"data-id":"unwmrnvc1","data-path":"src/components/MemoryLeakDashboard.tsx",children:m.length===0?t.jsx("p",{className:"text-center text-muted-foreground py-8","data-id":"e4q04pdyp","data-path":"src/components/MemoryLeakDashboard.tsx",children:"No memory history data available"}):t.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto","data-id":"zofrr3bae","data-path":"src/components/MemoryLeakDashboard.tsx",children:m.slice(-20).reverse().map((n,l)=>t.jsxs("div",{className:"flex items-center justify-between py-2 border-b","data-id":"9po6apcd6","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx("span",{className:"text-sm text-muted-foreground","data-id":"bk2r8hkx7","data-path":"src/components/MemoryLeakDashboard.tsx",children:new Date(n.timestamp).toLocaleString()}),t.jsxs("div",{className:"text-right","data-id":"0xc91doil","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx("div",{className:"font-medium","data-id":"81zn67r4n","data-path":"src/components/MemoryLeakDashboard.tsx",children:q(n.memory.usedJSHeapSize)}),t.jsxs("div",{className:"text-xs text-muted-foreground","data-id":"345t6k9p3","data-path":"src/components/MemoryLeakDashboard.tsx",children:[(n.memory.usedJSHeapSize/n.memory.jsHeapSizeLimit*100).toFixed(1),"% of limit"]})]})]},l))})})]})})]})]}):t.jsx(c,{"data-id":"62vvbrrgx","data-path":"src/components/MemoryLeakDashboard.tsx",children:t.jsx(r,{className:"p-6","data-id":"o3z57cxow","data-path":"src/components/MemoryLeakDashboard.tsx",children:t.jsxs("div",{className:"flex items-center justify-center","data-id":"e96gb2p7w","data-path":"src/components/MemoryLeakDashboard.tsx",children:[t.jsx(K,{className:"h-4 w-4 animate-spin mr-2","data-id":"q3bzjjxbq","data-path":"src/components/MemoryLeakDashboard.tsx"}),"Loading memory data..."]})})})},xa=()=>{const[o,a]=u.useState(new Set),e=d=>{const j=new Set(o);j.has(d)?j.delete(d):j.add(d),a(j)},s=[{title:"Timer Cleanup",description:"Always clear timers when components unmount",badCode:`// âŒ BAD: Timer not cleared
function BadComponent() {
  const [count, setCount] = useState(0);
  
  useEffect(() => {
    setInterval(() => {
      setCount(prev => prev + 1); // Memory leak!
    }, 1000);
  }, []);
  
  return <div>{count}</div>;
}`,goodCode:`// âœ… GOOD: Timer properly cleaned up
function GoodComponent() {
  const [count, setCount] = useState(0);
  
  useEffect(() => {
    const interval = setInterval(() => {
      setCount(prev => prev + 1);
    }, 1000);
    
    return () => clearInterval(interval); // Cleanup
  }, []);
  
  return <div>{count}</div>;
}`,explanation:"Timers continue running even after component unmount unless explicitly cleared, causing memory leaks and potential state updates on unmounted components."},{title:"Event Listener Cleanup",description:"Remove event listeners to prevent memory leaks",badCode:`// âŒ BAD: Event listener not removed
function BadComponent() {
  const [position, setPosition] = useState({ x: 0, y: 0 });
  
  useEffect(() => {
    const handleMouseMove = (e) => {
      setPosition({ x: e.clientX, y: e.clientY });
    };
    
    window.addEventListener('mousemove', handleMouseMove);
    // Missing cleanup!
  }, []);
  
  return <div>Mouse: {position.x}, {position.y}</div>;
}`,goodCode:`// âœ… GOOD: Event listener properly removed
function GoodComponent() {
  const [position, setPosition] = useState({ x: 0, y: 0 });
  
  useEffect(() => {
    const handleMouseMove = (e) => {
      setPosition({ x: e.clientX, y: e.clientY });
    };
    
    window.addEventListener('mousemove', handleMouseMove);
    
    return () => {
      window.removeEventListener('mousemove', handleMouseMove);
    };
  }, []);
  
  return <div>Mouse: {position.x}, {position.y}</div>;
}`,explanation:"Event listeners hold references to components, preventing garbage collection. Always remove them in cleanup functions."},{title:"Async Operations",description:"Cancel async operations when component unmounts",badCode:`// âŒ BAD: Async operation not cancelled
function BadComponent({ userId }) {
  const [user, setUser] = useState(null);
  
  useEffect(() => {
    async function fetchUser() {
      const response = await fetch(\`/api/users/\${userId}\`);
      const userData = await response.json();
      setUser(userData); // May run after unmount!
    }
    
    fetchUser();
  }, [userId]);
  
  return user ? <div>{user.name}</div> : <div>Loading...</div>;
}`,goodCode:`// âœ… GOOD: Async operation cancelled on unmount
function GoodComponent({ userId }) {
  const [user, setUser] = useState(null);
  
  useEffect(() => {
    const abortController = new AbortController();
    
    async function fetchUser() {
      try {
        const response = await fetch(\`/api/users/\${userId}\`, {
          signal: abortController.signal
        });
        const userData = await response.json();
        setUser(userData);
      } catch (error) {
        if (error.name !== 'AbortError') {
          console.error('Fetch error:', error);
        }
      }
    }
    
    fetchUser();
    
    return () => abortController.abort();
  }, [userId]);
  
  return user ? <div>{user.name}</div> : <div>Loading...</div>;
}`,explanation:"Async operations can complete after component unmount, leading to state updates on unmounted components. Use AbortController to cancel them."}],m=[{title:"Use Memory Leak Detection Hooks",description:"Implement our custom hooks for automatic cleanup",icon:t.jsx(I,{className:"h-5 w-5","data-id":"gfq20e7ro","data-path":"src/components/MemoryLeakPreventionGuide.tsx"}),tips:["Use useMemoryLeakDetector for automatic resource tracking","Implement useSafeAsync for protected async operations","Wrap components with withMemoryLeakDetection HOC"]},{title:"Monitor Component Lifecycle",description:"Track mount/unmount cycles and resource usage",icon:t.jsx(da,{className:"h-5 w-5","data-id":"ku3quabk6","data-path":"src/components/MemoryLeakPreventionGuide.tsx"}),tips:["Use refs to track component mount status","Log resource allocation and cleanup","Monitor memory usage during development"]},{title:"Implement Proper Error Boundaries",description:"Catch and handle errors to prevent resource leaks",icon:t.jsx(vt,{className:"h-5 w-5","data-id":"08tc275d9","data-path":"src/components/MemoryLeakPreventionGuide.tsx"}),tips:["Use error boundaries to prevent cascading failures","Clean up resources in error scenarios","Log errors with memory context"]}],h=["âœ… All timers are cleared in useEffect cleanup","âœ… Event listeners are removed on unmount","âœ… Async operations use AbortController","âœ… Subscriptions are properly unsubscribed","âœ… Large objects are not captured in closures","âœ… State updates check component mount status","âœ… WebSocket connections are closed","âœ… ResizeObserver and IntersectionObserver are disconnected","âœ… File readers and streams are closed","âœ… Animation frames are cancelled"];return t.jsxs("div",{className:"space-y-6","data-id":"sisudn3be","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsxs("div",{className:"text-center","data-id":"5o8txfkuq","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsx("h1",{className:"text-3xl font-bold mb-2","data-id":"pw2pwu1er","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"Memory Leak Prevention Guide"}),t.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto","data-id":"n16thn1kz","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"Comprehensive guide to preventing memory leaks in React applications. Learn patterns, best practices, and use our monitoring tools."})]}),t.jsxs(ot,{defaultValue:"patterns",className:"space-y-4","data-id":"kx4ks1q4x","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsxs(dt,{className:"grid w-full grid-cols-4","data-id":"9qih1lc9k","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsx(L,{value:"patterns","data-id":"r2wzh5emi","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"Common Patterns"}),t.jsx(L,{value:"practices","data-id":"pxb4w5j0j","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"Best Practices"}),t.jsx(L,{value:"checklist","data-id":"a3c0y0or5","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"Checklist"}),t.jsx(L,{value:"tools","data-id":"t31341hgg","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"Our Tools"})]}),t.jsxs(D,{value:"patterns",className:"space-y-4","data-id":"9p78sqil3","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsxs(V,{"data-id":"r5mnoquxm","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsx(z,{className:"h-4 w-4","data-id":"pe3albdl2","data-path":"src/components/MemoryLeakPreventionGuide.tsx"}),t.jsx($,{"data-id":"lllp10n5j","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"These examples show common memory leak patterns and their solutions. Click on each section to expand the code examples."})]}),t.jsx("div",{className:"space-y-4","data-id":"v0i3m1wxk","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:s.map((d,j)=>t.jsx(c,{"data-id":"1sz8n0b22","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:t.jsxs("div",{"data-id":"48qm0vt5z","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsx(x,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>e(`pattern-${j}`),"data-id":"i1hfa7uzz","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:t.jsxs("div",{className:"flex items-center justify-between","data-id":"1sfcadkuc","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsxs("div",{"data-id":"chsz9azbd","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsxs(y,{className:"flex items-center gap-2","data-id":"se12upv8x","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsx(sa,{className:"h-5 w-5","data-id":"lm7wco979","data-path":"src/components/MemoryLeakPreventionGuide.tsx"}),d.title]}),t.jsx(w,{"data-id":"r0ly04usw","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:d.description})]}),t.jsx(na,{className:`h-4 w-4 transition-transform ${o.has(`pattern-${j}`)?"rotate-180":""}`,"data-id":"robanvf29","data-path":"src/components/MemoryLeakPreventionGuide.tsx"})]})}),o.has(`pattern-${j}`)&&t.jsxs(r,{className:"space-y-4","data-id":"yjd91z85t","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-4","data-id":"c47v43f25","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsxs("div",{"data-id":"2wrp355wz","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsx("h4",{className:"font-semibold text-red-600 mb-2","data-id":"sephttjn8","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"âŒ Problematic Code"}),t.jsx("pre",{className:"bg-red-50 border border-red-200 rounded p-3 text-sm overflow-x-auto","data-id":"tjk9um1fg","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:t.jsx("code",{"data-id":"rvz8in9oe","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:d.badCode})})]}),t.jsxs("div",{"data-id":"fl2l13ahs","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsx("h4",{className:"font-semibold text-green-600 mb-2","data-id":"dgoanmfal","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"âœ… Correct Code"}),t.jsx("pre",{className:"bg-green-50 border border-green-200 rounded p-3 text-sm overflow-x-auto","data-id":"ysdmlb8ay","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:t.jsx("code",{"data-id":"p2gcd2z5b","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:d.goodCode})})]})]}),t.jsxs(V,{"data-id":"7z64gntmn","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsx(ia,{className:"h-4 w-4","data-id":"fbo76aaxg","data-path":"src/components/MemoryLeakPreventionGuide.tsx"}),t.jsx($,{"data-id":"zo9edg9on","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:d.explanation})]})]})]})},j))})]}),t.jsx(D,{value:"practices",className:"space-y-4","data-id":"sqtqi9ll4","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:t.jsx("div",{className:"grid gap-4","data-id":"b3dd9s84s","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:m.map((d,j)=>t.jsxs(c,{"data-id":"2doaciajn","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsxs(x,{"data-id":"vaf47xo51","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsxs(y,{className:"flex items-center gap-2","data-id":"8sb3y0i5x","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[d.icon,d.title]}),t.jsx(w,{"data-id":"otgv2k3v6","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:d.description})]}),t.jsx(r,{"data-id":"7m4q1rsrc","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:t.jsx("ul",{className:"space-y-2","data-id":"jxj7ncngi","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:d.tips.map((S,M)=>t.jsxs("li",{className:"flex items-start gap-2","data-id":"z8j0alaqq","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsx(nt,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0","data-id":"u0ah7vpni","data-path":"src/components/MemoryLeakPreventionGuide.tsx"}),t.jsx("span",{className:"text-sm","data-id":"tc26h1bkq","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:S})]},M))})})]},j))})}),t.jsx(D,{value:"checklist",className:"space-y-4","data-id":"w3kqbbgzs","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:t.jsxs(c,{"data-id":"l0y3ks5x9","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsxs(x,{"data-id":"daru9uknp","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsxs(y,{className:"flex items-center gap-2","data-id":"444t3jmtx","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsx(oa,{className:"h-5 w-5","data-id":"mmkfnjs2h","data-path":"src/components/MemoryLeakPreventionGuide.tsx"}),"Memory Leak Prevention Checklist"]}),t.jsx(w,{"data-id":"1kez7gyj1","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"Use this checklist when reviewing components for potential memory leaks"})]}),t.jsx(r,{"data-id":"h1c1oyoa2","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:t.jsx("div",{className:"grid gap-3","data-id":"9t1yww3k3","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:h.map((d,j)=>t.jsxs("div",{className:"flex items-start gap-2 p-2 rounded hover:bg-muted/50","data-id":"9bd6ih1bg","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsx(nt,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0","data-id":"c320fl8kf","data-path":"src/components/MemoryLeakPreventionGuide.tsx"}),t.jsx("span",{className:"text-sm","data-id":"ohcnbl01x","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:d.replace("âœ… ","")})]},j))})})]})}),t.jsx(D,{value:"tools",className:"space-y-4","data-id":"9iso0oowi","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:t.jsxs("div",{className:"grid gap-4","data-id":"zio42xk0i","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsxs(c,{"data-id":"n7apllg0k","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsxs(x,{"data-id":"e8l1b1pt9","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsx(y,{"data-id":"pzqop0055","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"useMemoryLeakDetector Hook"}),t.jsx(w,{"data-id":"tpn2qi65d","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"Automatically track and clean up component resources"})]}),t.jsx(r,{"data-id":"fpnm1dx0b","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:t.jsx("pre",{className:"bg-muted p-4 rounded-lg overflow-x-auto text-sm","data-id":"6owqnqiep","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:t.jsx("code",{"data-id":"elfdgnsu6","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:`import useMemoryLeakDetector from '@/hooks/use-memory-leak-detector';

function MyComponent() {
  const memoryTools = useMemoryLeakDetector('MyComponent');
  
  useEffect(() => {
    // Safe timer that auto-cleans
    const timer = memoryTools.safeSetTimeout(() => {
      console.log('Timer executed');
    }, 1000);
    
    // Safe event listener that auto-removes
    memoryTools.safeAddEventListener(window, 'scroll', handleScroll);
    
    return memoryTools.cleanup.all;
  }, []);
  
  return <div>Component content</div>;
}`})})})]}),t.jsxs(c,{"data-id":"yo9xsfdmm","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsxs(x,{"data-id":"kkivnbtc8","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsx(y,{"data-id":"vdblb4485","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"useSafeAsync Hook"}),t.jsx(w,{"data-id":"s4n4ifw9d","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"Handle async operations with automatic cancellation"})]}),t.jsx(r,{"data-id":"7p18di5u5","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:t.jsx("pre",{className:"bg-muted p-4 rounded-lg overflow-x-auto text-sm","data-id":"jayzcqazq","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:t.jsx("code",{"data-id":"okylzip64","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:`import useSafeAsync from '@/hooks/use-safe-async';

function MyComponent() {
  const { safeApiCall } = useSafeAsync('MyComponent');
  const [data, setData] = useState(null);
  
  useEffect(() => {
    safeApiCall(
      () => window.ezsite.apis.tablePage(tableId, params),
      {
        onSuccess: (result) => setData(result.data),
        onError: (error) => console.error(error)
      }
    );
  }, []);
  
  return <div>{data ? 'Loaded' : 'Loading...'}</div>;
}`})})})]}),t.jsxs(c,{"data-id":"hfs5inrk7","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsxs(x,{"data-id":"3av5awtk9","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsx(y,{"data-id":"eydz6f235","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"Memory Leak Dashboard"}),t.jsx(w,{"data-id":"ecozacgg7","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"Real-time monitoring of memory usage and leak detection"})]}),t.jsxs(r,{className:"space-y-2","data-id":"yolpwxsqz","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsxs("div",{className:"flex gap-2","data-id":"6i8cj692o","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:[t.jsx(p,{"data-id":"xgv180fon","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"Real-time monitoring"}),t.jsx(p,{"data-id":"7acdv35cv","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"Component tracking"}),t.jsx(p,{"data-id":"qu881evsh","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"Leak detection"}),t.jsx(p,{"data-id":"khpbjli1s","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"Memory reports"})]}),t.jsx("p",{className:"text-sm text-muted-foreground","data-id":"gk2rkn4z8","data-path":"src/components/MemoryLeakPreventionGuide.tsx",children:"Access the dashboard at /admin/memory-monitoring to view detailed memory usage statistics and potential leak reports."})]})]})]})})]})]})},ga=({onStop:o})=>{const[a,e]=u.useState(0),{toast:s}=it();return u.useEffect(()=>{setInterval(()=>{e(m=>m+1)},1e3)},[]),u.useEffect(()=>{a>10&&(s({title:"Memory Leak Demo",description:"Timer has been running for 10 seconds without cleanup!",variant:"destructive"}),o())},[a,o,s]),t.jsxs("div",{className:"p-4 border border-red-200 rounded-lg bg-red-50","data-id":"eevqd5xhg","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx("h3",{className:"font-semibold text-red-900 mb-2","data-id":"yfj71hp66","data-path":"src/components/MemoryLeakDemo.tsx",children:"âŒ Component with Memory Leaks"}),t.jsxs("p",{className:"text-red-700 text-sm mb-2","data-id":"o9zve6g8p","data-path":"src/components/MemoryLeakDemo.tsx",children:["Count: ",a]}),t.jsxs(V,{className:"mt-2","data-id":"wudqgjqhm","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx(z,{className:"h-4 w-4","data-id":"v56gdmqqv","data-path":"src/components/MemoryLeakDemo.tsx"}),t.jsx($,{className:"text-red-800","data-id":"z6fuybz64","data-path":"src/components/MemoryLeakDemo.tsx",children:"This component has active timers that won't be cleaned up!"})]})]})},ua=({onStop:o})=>{const[a,e]=u.useState(0),{toast:s}=it();return u.useEffect(()=>{const m=setTimeout(()=>{e(h=>h+1)},1e3);return()=>clearTimeout(m)},[a]),u.useEffect(()=>{a>10&&(s({title:"Memory Safe Demo",description:"Timer has been safely managed for 10 seconds!"}),o())},[a,o,s]),t.jsxs("div",{className:"p-4 border border-green-200 rounded-lg bg-green-50","data-id":"gxdnf5pu4","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx("h3",{className:"font-semibold text-green-900 mb-2","data-id":"7w26kcdvs","data-path":"src/components/MemoryLeakDemo.tsx",children:"âœ… Component with Memory Protection"}),t.jsxs("p",{className:"text-green-700 text-sm mb-2","data-id":"xr84gtzra","data-path":"src/components/MemoryLeakDemo.tsx",children:["Count: ",a]}),t.jsxs(V,{className:"mt-2","data-id":"sczf7ajrr","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx(nt,{className:"h-4 w-4","data-id":"qirwbq5sz","data-path":"src/components/MemoryLeakDemo.tsx"}),t.jsx($,{className:"text-green-800","data-id":"37036hehv","data-path":"src/components/MemoryLeakDemo.tsx",children:"This component properly cleans up its resources!"})]})]})},ya=()=>{const[o,a]=u.useState(!1),[e,s]=u.useState(!1),m=()=>{a(!0),setTimeout(()=>{a(!1)},15e3)},h=()=>{s(!0),setTimeout(()=>{s(!1)},15e3)},d=()=>{a(!1)},j=()=>{s(!1)};return t.jsxs("div",{className:"space-y-6","data-id":"7mjatho6s","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsxs("div",{className:"text-center","data-id":"b8zya9j5v","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx("h2",{className:"text-2xl font-bold mb-2","data-id":"nt4unsuu1","data-path":"src/components/MemoryLeakDemo.tsx",children:"Memory Leak Detection Demo"}),t.jsx("p",{className:"text-muted-foreground","data-id":"mri75enp4","data-path":"src/components/MemoryLeakDemo.tsx",children:"Compare components with and without memory leak protection"})]}),t.jsxs(ot,{defaultValue:"comparison",className:"space-y-4","data-id":"h3rkkjqn4","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsxs(dt,{className:"grid w-full grid-cols-2","data-id":"xkejefwoa","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx(L,{value:"comparison","data-id":"deb4ymjfm","data-path":"src/components/MemoryLeakDemo.tsx",children:"Live Comparison"}),t.jsx(L,{value:"patterns","data-id":"ocy1ofz46","data-path":"src/components/MemoryLeakDemo.tsx",children:"Leak Patterns"})]}),t.jsxs(D,{value:"comparison",className:"space-y-4","data-id":"0mp565ti9","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-6","data-id":"fgbc4uvcv","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsxs(c,{"data-id":"hoc0k9i8m","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsxs(x,{"data-id":"8uq1iufi6","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsxs(y,{className:"flex items-center gap-2 text-red-600","data-id":"whvmz1n3a","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx(z,{className:"h-5 w-5","data-id":"879e63924","data-path":"src/components/MemoryLeakDemo.tsx"}),"Memory Leak Component"]}),t.jsx(w,{"data-id":"gumo276m7","data-path":"src/components/MemoryLeakDemo.tsx",children:"Demonstrates common memory leak patterns"})]}),t.jsxs(r,{className:"space-y-4","data-id":"wn9o1whg4","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsxs("div",{className:"flex gap-2","data-id":"9z16dls2j","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsxs(b,{onClick:m,disabled:o,variant:"destructive",size:"sm","data-id":"fneghorhf","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx(ut,{className:"h-4 w-4 mr-2","data-id":"q4qb7etar","data-path":"src/components/MemoryLeakDemo.tsx"}),"Start Leak Demo"]}),t.jsxs(b,{onClick:d,disabled:!o,variant:"outline",size:"sm","data-id":"go2qh17e0","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx(zt,{className:"h-4 w-4 mr-2","data-id":"tibz9kj20","data-path":"src/components/MemoryLeakDemo.tsx"}),"Stop"]}),o&&t.jsxs(p,{variant:"destructive","data-id":"qay0lji6w","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx(J,{className:"h-3 w-3 mr-1","data-id":"taopt75km","data-path":"src/components/MemoryLeakDemo.tsx"}),"Active Leaks"]})]}),o&&t.jsx(ga,{onStop:d,"data-id":"qch0j54bg","data-path":"src/components/MemoryLeakDemo.tsx"})]})]}),t.jsxs(c,{"data-id":"281fpbb4q","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsxs(x,{"data-id":"76v2hrjnn","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsxs(y,{className:"flex items-center gap-2 text-green-600","data-id":"izp8qcxym","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx(nt,{className:"h-5 w-5","data-id":"57v1bemvq","data-path":"src/components/MemoryLeakDemo.tsx"}),"Memory Safe Component"]}),t.jsx(w,{"data-id":"gjk3b9a4s","data-path":"src/components/MemoryLeakDemo.tsx",children:"Uses proper cleanup patterns"})]}),t.jsxs(r,{className:"space-y-4","data-id":"yfkifxurc","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsxs("div",{className:"flex gap-2","data-id":"nrqrang49","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsxs(b,{onClick:h,disabled:e,size:"sm","data-id":"cawv85yy3","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx(ut,{className:"h-4 w-4 mr-2","data-id":"435rop0r3","data-path":"src/components/MemoryLeakDemo.tsx"}),"Start Safe Demo"]}),t.jsxs(b,{onClick:j,disabled:!e,variant:"outline",size:"sm","data-id":"itcxh6mf1","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx(zt,{className:"h-4 w-4 mr-2","data-id":"nxr1vwouj","data-path":"src/components/MemoryLeakDemo.tsx"}),"Stop"]}),e&&t.jsxs(p,{variant:"default","data-id":"me3ofv0ca","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx(nt,{className:"h-3 w-3 mr-1","data-id":"hosxw32gl","data-path":"src/components/MemoryLeakDemo.tsx"}),"Protected"]})]}),e&&t.jsx(ua,{onStop:j,"data-id":"5lzs0i9to","data-path":"src/components/MemoryLeakDemo.tsx"})]})]})]}),t.jsxs(V,{"data-id":"izbf7320x","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx(J,{className:"h-4 w-4","data-id":"qu4fu1tfk","data-path":"src/components/MemoryLeakDemo.tsx"}),t.jsxs($,{"data-id":"wq5n3w37m","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx("strong",{"data-id":"nmy595osd","data-path":"src/components/MemoryLeakDemo.tsx",children:"Monitor the Memory Dashboard:"})," Run these demos and watch the memory dashboard to see the difference in memory usage and leak detection between the two approaches. The bad component will trigger leak warnings, while the good component will show clean monitoring."]})]})]}),t.jsx(D,{value:"patterns",className:"space-y-4","data-id":"5wy9repcj","data-path":"src/components/MemoryLeakDemo.tsx",children:t.jsxs("div",{className:"grid gap-4","data-id":"u08yhyaw4","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsxs(c,{className:"border-red-200","data-id":"dfxyip3rd","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx(x,{"data-id":"cp7dh06l3","data-path":"src/components/MemoryLeakDemo.tsx",children:t.jsxs(y,{className:"flex items-center gap-2 text-red-600","data-id":"qgci7uzr8","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx(ra,{className:"h-5 w-5","data-id":"utxzvv6oz","data-path":"src/components/MemoryLeakDemo.tsx"}),"Timer Leaks"]})}),t.jsxs(r,{"data-id":"dfdd798so","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2","data-id":"zyl3tw78v","data-path":"src/components/MemoryLeakDemo.tsx",children:"Timers that aren't cleared continue running after component unmount"}),t.jsx(p,{variant:"destructive","data-id":"r2l69avei","data-path":"src/components/MemoryLeakDemo.tsx",children:"High Impact"})]})]}),t.jsxs(c,{className:"border-orange-200","data-id":"upjwealm6","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx(x,{"data-id":"17fkp8owl","data-path":"src/components/MemoryLeakDemo.tsx",children:t.jsxs(y,{className:"flex items-center gap-2 text-orange-600","data-id":"m2voymc53","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx(ca,{className:"h-5 w-5","data-id":"ljgg48021","data-path":"src/components/MemoryLeakDemo.tsx"}),"Event Listener Leaks"]})}),t.jsxs(r,{"data-id":"4uoorub9q","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2","data-id":"kdjih11xs","data-path":"src/components/MemoryLeakDemo.tsx",children:"Event listeners hold references preventing garbage collection"}),t.jsx(p,{variant:"secondary","data-id":"ye8202xum","data-path":"src/components/MemoryLeakDemo.tsx",children:"Medium Impact"})]})]}),t.jsxs(c,{className:"border-purple-200","data-id":"uiaj5hvps","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx(x,{"data-id":"ab6bu5405","data-path":"src/components/MemoryLeakDemo.tsx",children:t.jsxs(y,{className:"flex items-center gap-2 text-purple-600","data-id":"7egh7u6xc","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx(vt,{className:"h-5 w-5","data-id":"iei8ejgc9","data-path":"src/components/MemoryLeakDemo.tsx"}),"Async Operation Leaks"]})}),t.jsxs(r,{"data-id":"ni2fc192r","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2","data-id":"0gtpmgy35","data-path":"src/components/MemoryLeakDemo.tsx",children:"Fetch requests and promises completing after unmount"}),t.jsx(p,{variant:"secondary","data-id":"zv57rvozn","data-path":"src/components/MemoryLeakDemo.tsx",children:"Medium Impact"})]})]}),t.jsxs(c,{className:"border-blue-200","data-id":"kc968qo89","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx(x,{"data-id":"6e7lcw1wj","data-path":"src/components/MemoryLeakDemo.tsx",children:t.jsxs(y,{className:"flex items-center gap-2 text-blue-600","data-id":"rmadvhr50","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx(pt,{className:"h-5 w-5","data-id":"fwuj2f2cr","data-path":"src/components/MemoryLeakDemo.tsx"}),"Subscription Leaks"]})}),t.jsxs(r,{"data-id":"ne6017xan","data-path":"src/components/MemoryLeakDemo.tsx",children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2","data-id":"anwl35clj","data-path":"src/components/MemoryLeakDemo.tsx",children:"Observables and subscriptions not properly unsubscribed"}),t.jsx(p,{variant:"secondary","data-id":"9fwlzii5w","data-path":"src/components/MemoryLeakDemo.tsx",children:"High Impact"})]})]})]})})]})]})},ja=()=>{const{hasMonitoringAccess:o}=bt();return o?t.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-id":"rukn3ewv5","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsxs("div",{className:"text-center space-y-2","data-id":"8zcjazz7k","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent","data-id":"m2cmsyi9u","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Memory Leak Monitoring System"}),t.jsx("p",{className:"text-muted-foreground text-lg max-w-3xl mx-auto","data-id":"xlio1qsf3","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Comprehensive memory leak detection, prevention, and monitoring for React applications. Keep your DFS Manager Portal running smoothly with real-time memory analysis."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8","data-id":"w1r45qc8k","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsxs(c,{className:"border-blue-200 bg-blue-50/50","data-id":"uivkr8sm6","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx(x,{className:"pb-3","data-id":"fpu3d50th","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:t.jsxs("div",{className:"flex items-center justify-between","data-id":"wwpr05ske","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx(J,{className:"h-8 w-8 text-blue-600","data-id":"y4939j8lk","data-path":"src/pages/Admin/MemoryMonitoring.tsx"}),t.jsx(p,{variant:"secondary","data-id":"ehktpeodg","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Real-time"})]})}),t.jsxs(r,{"data-id":"3sy8p3114","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx("h3",{className:"font-semibold text-blue-900","data-id":"dzrwlusga","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Live Monitoring"}),t.jsx("p",{className:"text-sm text-blue-700","data-id":"rwhbfe5yq","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Track memory usage and component lifecycle in real-time"})]})]}),t.jsxs(c,{className:"border-green-200 bg-green-50/50","data-id":"lmewode58","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx(x,{className:"pb-3","data-id":"ep9j31bn7","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:t.jsxs("div",{className:"flex items-center justify-between","data-id":"vpm3xy1mp","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx(I,{className:"h-8 w-8 text-green-600","data-id":"577bz5z7k","data-path":"src/pages/Admin/MemoryMonitoring.tsx"}),t.jsx(p,{variant:"secondary","data-id":"md8dpa757","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Prevention"})]})}),t.jsxs(r,{"data-id":"gixh6qod1","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx("h3",{className:"font-semibold text-green-900","data-id":"00bdn88po","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Leak Prevention"}),t.jsx("p",{className:"text-sm text-green-700","data-id":"283js099l","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Automatic cleanup and safe resource management"})]})]}),t.jsxs(c,{className:"border-purple-200 bg-purple-50/50","data-id":"pzob8v48v","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx(x,{className:"pb-3","data-id":"ydvohw9ie","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:t.jsxs("div",{className:"flex items-center justify-between","data-id":"5y5uxe3ic","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx(ht,{className:"h-8 w-8 text-purple-600","data-id":"01n2dedah","data-path":"src/pages/Admin/MemoryMonitoring.tsx"}),t.jsx(p,{variant:"secondary","data-id":"f4tr8ml45","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Analytics"})]})}),t.jsxs(r,{"data-id":"ofqnp2j7d","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx("h3",{className:"font-semibold text-purple-900","data-id":"14sfzgwn6","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Memory Analytics"}),t.jsx("p",{className:"text-sm text-purple-700","data-id":"uh4st4guo","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Detailed reports and memory usage patterns"})]})]}),t.jsxs(c,{className:"border-orange-200 bg-orange-50/50","data-id":"odkrvlfyr","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx(x,{className:"pb-3","data-id":"xqpcorr35","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:t.jsxs("div",{className:"flex items-center justify-between","data-id":"oovla6lnd","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx(z,{className:"h-8 w-8 text-orange-600","data-id":"50i9qb8ac","data-path":"src/pages/Admin/MemoryMonitoring.tsx"}),t.jsx(p,{variant:"secondary","data-id":"2f1lrall9","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Detection"})]})}),t.jsxs(r,{"data-id":"nm3g4j75i","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx("h3",{className:"font-semibold text-orange-900","data-id":"qsbikwce8","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Leak Detection"}),t.jsx("p",{className:"text-sm text-orange-700","data-id":"8ujs2af7l","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Automatic detection of common memory leak patterns"})]})]})]}),t.jsxs(ot,{defaultValue:"dashboard",className:"space-y-6","data-id":"lpncs1vei","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsxs(dt,{className:"grid w-full grid-cols-3","data-id":"0jv3ysz89","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsxs(L,{value:"dashboard",className:"flex items-center gap-2","data-id":"y59hxm41m","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx(J,{className:"h-4 w-4","data-id":"kpgxco112","data-path":"src/pages/Admin/MemoryMonitoring.tsx"}),"Live Dashboard"]}),t.jsxs(L,{value:"demo",className:"flex items-center gap-2","data-id":"bav9kiwui","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx(ut,{className:"h-4 w-4","data-id":"nri4zy57v","data-path":"src/pages/Admin/MemoryMonitoring.tsx"}),"Interactive Demo"]}),t.jsxs(L,{value:"guide",className:"flex items-center gap-2","data-id":"bztk52sky","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx(I,{className:"h-4 w-4","data-id":"sx3wuszhu","data-path":"src/pages/Admin/MemoryMonitoring.tsx"}),"Prevention Guide"]})]}),t.jsx(D,{value:"dashboard",className:"space-y-6","data-id":"4z00zwamy","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:t.jsxs(c,{"data-id":"h24pesfae","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsxs(x,{"data-id":"1kmg14yxz","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsxs(y,{className:"flex items-center gap-2","data-id":"t2kac7klo","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx(J,{className:"h-5 w-5","data-id":"99itf8bge","data-path":"src/pages/Admin/MemoryMonitoring.tsx"}),"Memory Leak Dashboard"]}),t.jsx(w,{"data-id":"qygw00nmy","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Real-time monitoring of memory usage, component tracking, and leak detection for your DFS Manager Portal."})]}),t.jsx(r,{"data-id":"i3i80vecu","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:t.jsx(ha,{"data-id":"ajcisn52q","data-path":"src/pages/Admin/MemoryMonitoring.tsx"})})]})}),t.jsx(D,{value:"demo",className:"space-y-6","data-id":"pvwna82hr","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:t.jsxs(c,{"data-id":"yfebv93w1","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsxs(x,{"data-id":"kgm1p7etd","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsxs(y,{className:"flex items-center gap-2","data-id":"jhglxlolq","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx(ut,{className:"h-5 w-5","data-id":"ukkfvsic0","data-path":"src/pages/Admin/MemoryMonitoring.tsx"}),"Interactive Memory Leak Demo"]}),t.jsx(w,{"data-id":"p6c1zoikf","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Experience the difference between memory-safe and leak-prone components in real-time."})]}),t.jsx(r,{"data-id":"xo48ho0dl","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:t.jsx(ya,{"data-id":"d84ak4cjn","data-path":"src/pages/Admin/MemoryMonitoring.tsx"})})]})}),t.jsx(D,{value:"guide",className:"space-y-6","data-id":"isoskqy3p","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:t.jsxs(c,{"data-id":"v1f2d8sz6","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsxs(x,{"data-id":"3zla58gu6","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsxs(y,{className:"flex items-center gap-2","data-id":"s8yabbk08","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx(I,{className:"h-5 w-5","data-id":"a0to54rf7","data-path":"src/pages/Admin/MemoryMonitoring.tsx"}),"Memory Leak Prevention Guide"]}),t.jsx(w,{"data-id":"6e3pviyf2","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Learn best practices, common patterns, and how to use our monitoring tools to prevent memory leaks."})]}),t.jsx(r,{"data-id":"wqel7l3av","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:t.jsx(xa,{"data-id":"s81qcvj8s","data-path":"src/pages/Admin/MemoryMonitoring.tsx"})})]})})]}),t.jsx(c,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200","data-id":"xnl4f2c88","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:t.jsx(r,{className:"p-6","data-id":"mg73wq8p7","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:t.jsxs("div",{className:"text-center space-y-2","data-id":"wecy7vjmb","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx("h3",{className:"font-semibold text-blue-900","data-id":"vsqyu0wz6","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Memory Monitoring Status"}),t.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm","data-id":"u853qcxv9","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsxs("div",{className:"flex items-center gap-1","data-id":"ws0dmm9jk","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full","data-id":"5oqkw1so8","data-path":"src/pages/Admin/MemoryMonitoring.tsx"}),t.jsx("span",{"data-id":"qdx8mj1kc","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Monitoring Active"})]}),t.jsxs("div",{className:"flex items-center gap-1","data-id":"ndymk7iim","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full","data-id":"bfijkzwxb","data-path":"src/pages/Admin/MemoryMonitoring.tsx"}),t.jsx("span",{"data-id":"jqawkdwqz","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Real-time Updates"})]}),t.jsxs("div",{className:"flex items-center gap-1","data-id":"kdbhz35ps","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:[t.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full","data-id":"crrlibe1i","data-path":"src/pages/Admin/MemoryMonitoring.tsx"}),t.jsx("span",{"data-id":"amhz7lzjc","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Leak Detection Enabled"})]})]}),t.jsx("p",{className:"text-xs text-muted-foreground","data-id":"iqulrh7a0","data-path":"src/pages/Admin/MemoryMonitoring.tsx",children:"Memory monitoring is automatically enabled for all components using our detection hooks."})]})})})]}):t.jsx(ft,{feature:"Memory Leak Monitoring System",requiredRole:"Administrator","data-id":"p7z38ixsv","data-path":"src/pages/Admin/MemoryMonitoring.tsx"})},Ca=Object.freeze(Object.defineProperty({__proto__:null,default:ja},Symbol.toStringTag,{value:"Module"})),Y=class Y{constructor(){f(this,"activeConnections",new Set);f(this,"idleConnections",new Set);f(this,"requestQueue",[]);f(this,"config",{maxConnections:80,idleTimeout:3e4,connectionTimeout:1e4,retryAttempts:3,retryDelay:1e3,healthCheckInterval:6e4});f(this,"healthCheckInterval",null);f(this,"connectionCleanupInterval",null);f(this,"alertThresholds",{warning:.7,critical:.85});this.startHealthCheck(),this.startConnectionCleanup()}static getInstance(){return Y.instance||(Y.instance=new Y),Y.instance}async acquireConnection(){const a=this.generateConnectionId();if(this.activeConnections.size>=this.config.maxConnections)return console.warn("Database connection pool at capacity, queuing request"),this.queueConnection(a);const e=this.getIdleConnection();return e?(this.activateConnection(e),e):(this.activeConnections.add(a),this.logConnectionStats(),a)}releaseConnection(a){if(!this.activeConnections.has(a)){console.warn(`Attempted to release non-existent connection: ${a}`);return}this.activeConnections.delete(a),this.idleConnections.add(a),setTimeout(()=>{this.cleanupIdleConnection(a)},this.config.idleTimeout),this.processQueue(),this.logConnectionStats()}forceCloseConnection(a){this.activeConnections.delete(a),this.idleConnections.delete(a),console.log(`Forcefully closed connection: ${a}`),this.processQueue(),this.logConnectionStats()}async queueConnection(a){return new Promise((e,s)=>{const m={id:a,timestamp:Date.now(),resolve:e,reject:s};this.requestQueue.push(m),setTimeout(()=>{const h=this.requestQueue.findIndex(d=>d.id===a);h!==-1&&(this.requestQueue.splice(h,1),s(new Error(`Connection request timeout after ${this.config.connectionTimeout}ms`)))},this.config.connectionTimeout)})}getIdleConnection(){const a=Array.from(this.idleConnections);if(a.length>0){const e=a[0];return this.idleConnections.delete(e),e}return null}activateConnection(a){this.idleConnections.delete(a),this.activeConnections.add(a)}processQueue(){for(;this.requestQueue.length>0&&this.activeConnections.size<this.config.maxConnections;){const a=this.requestQueue.shift();Date.now()-a.timestamp<this.config.connectionTimeout?(this.activeConnections.add(a.id),a.resolve(a.id)):a.reject(new Error("Connection request timeout"))}}cleanupIdleConnection(a){this.idleConnections.has(a)&&(this.idleConnections.delete(a),console.log(`Cleaned up idle connection: ${a}`))}generateConnectionId(){return`conn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}startHealthCheck(){this.healthCheckInterval=setInterval(()=>{this.performHealthCheck()},this.config.healthCheckInterval)}startConnectionCleanup(){this.connectionCleanupInterval=setInterval(()=>{this.cleanupStaleConnections()},this.config.idleTimeout/2)}performHealthCheck(){const a=this.getConnectionStats();a.connectionPressure>=this.alertThresholds.critical?(console.error("ðŸš¨ CRITICAL: Database connection usage is critically high!",a),this.triggerEmergencyCleanup()):a.connectionPressure>=this.alertThresholds.warning&&(console.warn("âš ï¸ WARNING: Database connection usage is high",a),this.optimizeConnections()),this.cleanupLongRunningConnections()}cleanupStaleConnections(){const a=Date.now(),e=[];this.idleConnections.forEach(s=>{const m=parseInt(s.split("_")[1]);a-m>this.config.idleTimeout&&e.push(s)}),e.forEach(s=>{this.idleConnections.delete(s),console.log(`Removed stale idle connection: ${s}`)})}cleanupLongRunningConnections(){const a=Date.now(),e=3e5,s=[];if(this.activeConnections.forEach(m=>{const h=parseInt(m.split("_")[1]);a-h>e&&s.push(m)}),s.length>0&&(console.warn(`Found ${s.length} long-running connections`,s),this.getConnectionStats().connectionPressure>this.alertThresholds.warning)){const h=Math.min(s.length,5);for(let d=0;d<h;d++)this.forceCloseConnection(s[d]);console.log(`Force closed ${h} long-running connections due to high capacity`)}}triggerEmergencyCleanup(){console.log("Triggering emergency connection cleanup...");const a=Math.min(10,this.activeConnections.size),e=Array.from(this.activeConnections);for(let s=0;s<a;s++)this.forceCloseConnection(e[s]);this.idleConnections.clear(),this.processQueue(),console.log(`Emergency cleanup completed. Closed ${a} connections.`)}optimizeConnections(){console.log("Optimizing database connections...");const a=Math.min(5,this.idleConnections.size),e=Array.from(this.idleConnections);for(let s=0;s<a;s++)this.cleanupIdleConnection(e[s]);console.log(`Optimization completed. Removed ${a} idle connections.`)}logConnectionStats(){const a=this.getConnectionStats();a.connectionPressure>.5&&console.log(`Database Connections - Active: ${a.activeConnections}/${a.maxConnections} (${(a.connectionPressure*100).toFixed(1)}%), Idle: ${a.idleConnections}, Queued: ${a.queuedRequests}`)}getConnectionStats(){const a=this.activeConnections.size,e=this.config.maxConnections,s=this.idleConnections.size,m=this.requestQueue.length,h=a/e;return{activeConnections:a,maxConnections:e,idleConnections:s,queuedRequests:m,connectionPressure:h}}getDetailedStats(){return{stats:this.getConnectionStats(),config:this.config,activeConnectionIds:Array.from(this.activeConnections),idleConnectionIds:Array.from(this.idleConnections),queuedRequestIds:this.requestQueue.map(a=>a.id),lastHealthCheck:Date.now()}}updateConfig(a){this.config={...this.config,...a},console.log("Database connection manager configuration updated:",this.config)}reset(){this.activeConnections.clear(),this.idleConnections.clear(),this.requestQueue.forEach(a=>{a.reject(new Error("Connection manager reset"))}),this.requestQueue=[],console.log("Database connection manager reset completed")}shutdown(){this.healthCheckInterval&&(clearInterval(this.healthCheckInterval),this.healthCheckInterval=null),this.connectionCleanupInterval&&(clearInterval(this.connectionCleanupInterval),this.connectionCleanupInterval=null),this.reset(),console.log("Database connection manager shut down")}};f(Y,"instance");let lt=Y;const ba=()=>{const{toast:o}=it(),[a,e]=u.useState({connections:0,max:100,percentage:0,status:"normal",timestamp:new Date,idle:0,queued:0,pressure:0}),[s,m]=u.useState([]),[h,d]=u.useState(!1),[j,S]=u.useState(!0),[M,A]=u.useState(!1),q=async()=>{try{const l=lt.getInstance().getConnectionStats(),k=l.activeConnections/l.maxConnections*100;let C="normal";l.connectionPressure>=.85?C="critical":l.connectionPressure>=.7&&(C="warning");const T={connections:l.activeConnections,max:l.maxConnections,percentage:k,status:C,timestamp:new Date,idle:l.idleConnections,queued:l.queuedRequests,pressure:l.connectionPressure};e(T),m(xt=>[...xt,{timestamp:new Date,connections:l.activeConnections,max:l.maxConnections,idle:l.idleConnections,queued:l.queuedRequests}].slice(-50)),C==="critical"&&l.activeConnections>85&&o({title:"Critical: High Database Connections",description:`${l.activeConnections}/${l.maxConnections} connections in use (${k.toFixed(1)}%)`,variant:"destructive"})}catch(n){console.error("Error fetching connection stats:",n),o({title:"Error",description:"Failed to fetch database connection statistics",variant:"destructive"})}},U=async()=>{A(!0);try{const n=lt.getInstance(),l=n.getConnectionStats();l.connectionPressure>.7&&(console.log("Triggering connection optimization due to high pressure"),await new Promise(k=>setTimeout(k,1e3)),q()),o({title:"Connections Optimized",description:`Connection pressure reduced from ${(l.connectionPressure*100).toFixed(1)}% to ${(n.getConnectionStats().connectionPressure*100).toFixed(1)}%`})}catch{o({title:"Optimization Failed",description:"Failed to optimize database connections.",variant:"destructive"})}finally{A(!1)}},Q=n=>{switch(n){case"critical":return"destructive";case"warning":return"secondary";default:return"default"}};u.useEffect(()=>{let n;return j?(d(!0),n=setInterval(q,5e3),q()):d(!1),()=>{n&&clearInterval(n)}},[j]),(()=>{if(s.length<2)return{direction:"stable",change:0};const n=s.slice(-5),l=n.reduce((X,rt)=>X+rt.connections,0)/n.length,k=s.slice(-10,-5),C=k.length>0?k.reduce((X,rt)=>X+rt.connections,0)/k.length:l,T=l-C;return{direction:T>2?"increasing":T<-2?"decreasing":"stable",change:Math.abs(T)}})();const O=()=>{q(),o({title:"Refreshed",description:"Database connection statistics updated"})},E=()=>{const l=lt.getInstance().getDetailedStats();console.log("Database Connection Manager Detailed Stats:",l),o({title:"Detailed Stats",description:"Comprehensive connection stats logged to console"})},v=()=>a.status==="critical"?["IMMEDIATE: Use 'Optimize Connections' button to reduce load","Check for connection leaks in application code","Review long-running queries and transactions","Monitor queued requests and idle connections","Consider scaling database resources"]:a.status==="warning"?["Monitor connection usage closely","Review recent application deployments","Check query performance and optimization","Implement connection timeout policies","Prepare for potential scaling if trend continues"]:["Connection usage is within normal limits","Continue regular monitoring","Maintain current connection pooling strategies","Connection manager is automatically optimizing usage"];return t.jsxs("div",{className:"space-y-6","data-id":"woiowpcv7","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsxs(c,{"data-id":"orkl7z70w","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsxs(x,{"data-id":"qp2reunv0","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between","data-id":"w7ibo34kd","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsxs("div",{className:"flex items-center space-x-2","data-id":"cwlkx56zg","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsx(pt,{className:"h-5 w-5","data-id":"ii2yoggxu","data-path":"src/components/DatabaseConnectionMonitor.tsx"}),t.jsx(y,{"data-id":"hydyz3orb","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:"Enhanced Database Connection Monitor"})]}),t.jsxs("div",{className:"flex items-center space-x-2","data-id":"tnjspd97r","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsx(p,{variant:Q(a.status),"data-id":"mrixj84zp","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:a.status.toUpperCase()}),t.jsxs(b,{variant:"outline",size:"sm",onClick:O,disabled:h,"data-id":"sm7btkzt1","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsx(K,{className:`h-4 w-4 mr-2 ${h?"animate-spin":""}`,"data-id":"tha2nd9pa","data-path":"src/components/DatabaseConnectionMonitor.tsx"}),"Refresh"]})]})]}),t.jsx(w,{"data-id":"uj4irxqlw","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:"Real-time monitoring with automatic connection management"})]}),t.jsxs(r,{className:"space-y-4","data-id":"3ttwoplf3","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[a.status==="critical"&&t.jsxs(V,{variant:"destructive","data-id":"8ko9e9x29","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsx(z,{className:"h-4 w-4","data-id":"g6bg4ripw","data-path":"src/components/DatabaseConnectionMonitor.tsx"}),t.jsx(wt,{"data-id":"v95b8h1gx","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:"Critical Connection Usage Detected"}),t.jsxs($,{"data-id":"5ykmcp5gf","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:["Database connections are at ",a.percentage.toFixed(1),"% capacity (",a.connections,"/",a.max,").",a.queued>0&&` ${a.queued} requests are queued.`,"Immediate action required to prevent service disruption."]})]}),a.status==="warning"&&t.jsxs(V,{"data-id":"vwqxdifz3","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsx(z,{className:"h-4 w-4","data-id":"6rgk2e7fy","data-path":"src/components/DatabaseConnectionMonitor.tsx"}),t.jsx(wt,{"data-id":"afme6d4c1","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:"High Connection Usage Warning"}),t.jsxs($,{"data-id":"n9sk78acj","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:["Connection pressure is at ",(a.pressure*100).toFixed(1),"%.",a.queued>0&&` ${a.queued} requests are currently queued.`,"Monitor closely and consider optimization."]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4","data-id":"lzamcjby9","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsxs("div",{className:"space-y-2","data-id":"s710omqk4","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between","data-id":"do82507mw","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsx("span",{className:"text-sm font-medium","data-id":"hpa73n42s","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:"Active"}),t.jsx("span",{className:"text-2xl font-bold text-blue-600","data-id":"4gmj6zkk6","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:a.connections})]}),t.jsx("div",{className:"text-xs text-muted-foreground","data-id":"fr26i3qjy","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:"Active connections"})]}),t.jsxs("div",{className:"space-y-2","data-id":"9k5x3xx3n","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between","data-id":"mknfl8u67","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsx("span",{className:"text-sm font-medium","data-id":"u0tvisemi","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:"Idle"}),t.jsx("span",{className:"text-2xl font-bold text-green-600","data-id":"17cw2q4u4","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:a.idle})]}),t.jsx("div",{className:"text-xs text-muted-foreground","data-id":"3kwndp554","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:"Idle connections"})]}),t.jsxs("div",{className:"space-y-2","data-id":"kvrp6qhhp","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between","data-id":"5g2abq6mg","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsx("span",{className:"text-sm font-medium","data-id":"e3lj4z11e","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:"Queued"}),t.jsx("span",{className:"text-2xl font-bold text-yellow-600","data-id":"9zitxh051","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:a.queued})]}),t.jsx("div",{className:"text-xs text-muted-foreground","data-id":"220t8is51","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:"Pending requests"})]}),t.jsxs("div",{className:"space-y-2","data-id":"ix4h6i1yl","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between","data-id":"dq6bj6n8t","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsx("span",{className:"text-sm font-medium","data-id":"vmvqji28k","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:"Pressure"}),t.jsxs("span",{className:"text-2xl font-bold text-purple-600","data-id":"d5mohocgb","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[(a.pressure*100).toFixed(1),"%"]})]}),t.jsx("div",{className:"text-xs text-muted-foreground","data-id":"l4lm83rig","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:"System pressure"})]})]}),t.jsxs("div",{className:"space-y-2","data-id":"xy4vh4w1r","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between","data-id":"owqcy2mzx","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsx("span",{className:"text-sm font-medium","data-id":"hnl5aykau","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:"Connection Usage"}),t.jsxs("span",{className:"text-sm text-muted-foreground","data-id":"4zp5np1r2","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[a.connections,"/",a.max]})]}),t.jsx(It,{value:a.percentage,className:"h-3","data-id":"nx7ig040u","data-path":"src/components/DatabaseConnectionMonitor.tsx"}),t.jsxs("div",{className:"text-xs text-muted-foreground","data-id":"y93jy93rp","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[a.percentage.toFixed(1),"% of maximum capacity"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2","data-id":"ismvmnmhw","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsxs(b,{onClick:U,disabled:M,variant:a.status==="critical"?"destructive":"default","data-id":"zq7z0glpc","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[M?t.jsx(K,{className:"mr-2 h-4 w-4 animate-spin","data-id":"h02zp9n3z","data-path":"src/components/DatabaseConnectionMonitor.tsx"}):t.jsx(vt,{className:"mr-2 h-4 w-4","data-id":"y7k3p1tgv","data-path":"src/components/DatabaseConnectionMonitor.tsx"}),M?"Optimizing...":"Optimize Connections"]}),t.jsxs(b,{onClick:E,variant:"outline","data-id":"ripd73tl8","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsx(yt,{className:"mr-2 h-4 w-4","data-id":"854ioddgo","data-path":"src/components/DatabaseConnectionMonitor.tsx"}),"View Details"]}),t.jsxs(b,{variant:"outline",onClick:()=>S(!j),"data-id":"xpb5cgxat","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsx(J,{className:"mr-2 h-4 w-4","data-id":"g408xvzwr","data-path":"src/components/DatabaseConnectionMonitor.tsx"}),j?"Disable Auto-refresh":"Enable Auto-refresh"]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground","data-id":"9hifkkncl","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsxs("span",{"data-id":"e7bthmazn","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:["Last updated: ",a.timestamp.toLocaleTimeString()]}),t.jsx(p,{variant:j?"default":"secondary","data-id":"bboq0q79v","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:h?"Auto-monitoring Active":"Manual Mode"})]})]})]}),t.jsxs(c,{"data-id":"xx01q4u7h","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsxs(x,{"data-id":"k4n129e31","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsx(y,{"data-id":"hb92mndbi","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:"Recommendations"}),t.jsx(w,{"data-id":"9k4255akt","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:"Actions to address current connection status"})]}),t.jsx(r,{"data-id":"devwq9jvx","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:t.jsx("ul",{className:"space-y-2","data-id":"0uzf3zimy","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:v().map((n,l)=>t.jsxs("li",{className:"flex items-start space-x-2","data-id":"ffc4e4yc3","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0","data-id":"142h1y7c0","data-path":"src/components/DatabaseConnectionMonitor.tsx"}),t.jsx("span",{className:"text-sm","data-id":"irm5ybr51","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:n})]},l))})})]}),s.length>0&&t.jsxs(c,{"data-id":"dfn8j48fn","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsxs(x,{"data-id":"tjhbxenp5","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsx(y,{"data-id":"eg4uvo3ww","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:"Recent Connection History"}),t.jsxs(w,{"data-id":"moojzg0e4","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:["Last ",s.length," measurements with connection manager data"]})]}),t.jsx(r,{"data-id":"dn7yk8o0s","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:t.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto","data-id":"1ulobbvcg","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:s.slice(-10).reverse().map((n,l)=>t.jsxs("div",{className:"flex items-center justify-between text-sm","data-id":"ghax9nhbv","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsx("span",{"data-id":"l2gsgh3sn","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:n.timestamp.toLocaleTimeString()}),t.jsxs("div",{className:"flex items-center space-x-2","data-id":"7t8iuyo26","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[t.jsxs("span",{"data-id":"0hxry3mzq","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:["A:",n.connections]}),t.jsxs("span",{"data-id":"au6gvbcou","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:["I:",n.idle]}),t.jsxs("span",{"data-id":"g8q9bb2qj","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:["Q:",n.queued]}),t.jsxs(p,{variant:n.connections/n.max*100>=85?"destructive":n.connections/n.max*100>=70?"secondary":"default","data-id":"732dg3lm3","data-path":"src/components/DatabaseConnectionMonitor.tsx",children:[(n.connections/n.max*100).toFixed(1),"%"]})]})]},l))})})]})]})},fa=()=>{const{hasMonitoringAccess:o}=bt();return o?t.jsxs("div",{className:"container mx-auto p-6 space-y-6","data-id":"yjrgpwqdo","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between","data-id":"xsmdsbao4","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs("div",{"data-id":"l1kxaguxn","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight","data-id":"tuwdqzvd0","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Database Monitoring"}),t.jsx("p",{className:"text-muted-foreground","data-id":"y3a8ao780","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Monitor and manage database performance and connections"})]}),t.jsxs(p,{variant:"outline",className:"px-3 py-1","data-id":"326mhznu9","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx(pt,{className:"h-4 w-4 mr-2","data-id":"w11v1vaoc","data-path":"src/pages/Admin/DatabaseMonitoring.tsx"}),"Live Monitoring"]})]}),t.jsxs(V,{variant:"destructive","data-id":"whmjotbh4","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx(z,{className:"h-4 w-4","data-id":"w7s2nqspi","data-path":"src/pages/Admin/DatabaseMonitoring.tsx"}),t.jsx(wt,{"data-id":"wzot9dxhf","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"High Database Connection Count Detected"}),t.jsx($,{"data-id":"an9wap2yc","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Current connections: 85/100 (85% capacity). Monitor closely and take action to prevent service disruption."})]}),t.jsxs(ot,{defaultValue:"connections",className:"space-y-4","data-id":"h3qu0s4lm","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs(dt,{"data-id":"4wbaqhx6v","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx(L,{value:"connections","data-id":"fcqrsxgi0","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Connection Monitor"}),t.jsx(L,{value:"performance","data-id":"uz78mwxo0","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Performance"}),t.jsx(L,{value:"optimization","data-id":"vdcmw2csv","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Optimization"}),t.jsx(L,{value:"alerts","data-id":"4iavo3h8s","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Alert Settings"})]}),t.jsx(D,{value:"connections",className:"space-y-4","data-id":"lqtg5a8wo","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:t.jsx(ba,{"data-id":"cknsg0wkj","data-path":"src/pages/Admin/DatabaseMonitoring.tsx"})}),t.jsxs(D,{value:"performance",className:"space-y-4","data-id":"2qstdra87","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6","data-id":"ytmr7ty88","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs(c,{"data-id":"2fn5i2u3x","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs(x,{"data-id":"2pxpqy5ke","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs(y,{className:"flex items-center space-x-2","data-id":"rkwuq1ic5","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx(ht,{className:"h-5 w-5","data-id":"5i8ccjy8z","data-path":"src/pages/Admin/DatabaseMonitoring.tsx"}),t.jsx("span",{"data-id":"ye8cks2ua","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Query Performance"})]}),t.jsx(w,{"data-id":"87cybgv68","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Monitor slow queries and database performance metrics"})]}),t.jsxs(r,{className:"space-y-4","data-id":"d0dsk9xo5","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs("div",{className:"space-y-2","data-id":"th21pxblq","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs("div",{className:"flex justify-between text-sm","data-id":"0oaptod33","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("span",{"data-id":"ysg4rke42","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Average Query Time"}),t.jsx(p,{variant:"secondary","data-id":"0nmrc4jmo","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"145ms"})]}),t.jsxs("div",{className:"flex justify-between text-sm","data-id":"t3502wahi","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("span",{"data-id":"xfujqaw7f","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Slow Queries (>1s)"}),t.jsx(p,{variant:"destructive","data-id":"f2bse3vr9","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"12"})]}),t.jsxs("div",{className:"flex justify-between text-sm","data-id":"251aww5lz","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("span",{"data-id":"yohenp6f1","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Active Transactions"}),t.jsx(p,{variant:"default","data-id":"b4gtptkcp","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"8"})]})]}),t.jsx(b,{variant:"outline",className:"w-full","data-id":"r86wv9doy","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"View Detailed Performance Report"})]})]}),t.jsxs(c,{"data-id":"xzwl46ue8","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs(x,{"data-id":"kv1fcdxcy","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx(y,{"data-id":"fnx2i5pso","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Connection Pool Status"}),t.jsx(w,{"data-id":"dc12swps8","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Current status of database connection pools"})]}),t.jsxs(r,{className:"space-y-4","data-id":"fsbwzw9dc","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs("div",{className:"space-y-2","data-id":"ck3bbuzgx","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs("div",{className:"flex justify-between text-sm","data-id":"s5wuu9w83","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("span",{"data-id":"9z0gcih13","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Active Connections"}),t.jsx(p,{variant:"destructive","data-id":"bo84lf5bv","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"85"})]}),t.jsxs("div",{className:"flex justify-between text-sm","data-id":"s9df6t3tg","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("span",{"data-id":"2h6ev1lpz","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Idle Connections"}),t.jsx(p,{variant:"secondary","data-id":"qfahemly8","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"3"})]}),t.jsxs("div",{className:"flex justify-between text-sm","data-id":"uxw5p9rt0","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("span",{"data-id":"ofe2l6zb4","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Waiting for Connection"}),t.jsx(p,{variant:"outline","data-id":"zwq84nyj1","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"0"})]})]}),t.jsx(b,{variant:"outline",className:"w-full","data-id":"w3xiee1in","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Manage Connection Pool"})]})]})]}),t.jsxs(c,{"data-id":"rzp9razdf","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs(x,{"data-id":"41l422lmw","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx(y,{"data-id":"lxzvezk5e","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Recent Connection Activity"}),t.jsx(w,{"data-id":"f1isjh9so","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Identify patterns and potential connection leaks"})]}),t.jsx(r,{"data-id":"i1tby17qc","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:t.jsxs("div",{className:"space-y-3","data-id":"qjqgoxnke","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg","data-id":"k0mkwfo0y","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs("div",{"data-id":"aqrdu6dc2","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("div",{className:"font-medium","data-id":"fr8avjpv8","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"High connection usage detected"}),t.jsx("div",{className:"text-sm text-muted-foreground","data-id":"ygx7g5s36","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"2 minutes ago - 85/100 connections"})]}),t.jsx(p,{variant:"destructive","data-id":"4bw16uo11","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Critical"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg","data-id":"oswfneucp","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs("div",{"data-id":"p8kv4bbyn","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("div",{className:"font-medium","data-id":"wji5edl4e","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Connection spike in sales reports"}),t.jsx("div",{className:"text-sm text-muted-foreground","data-id":"x9l4396ba","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"15 minutes ago - 78/100 connections"})]}),t.jsx(p,{variant:"secondary","data-id":"b3ltki6q4","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Warning"})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg","data-id":"kaim21fxq","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs("div",{"data-id":"n1jvh7ata","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("div",{className:"font-medium","data-id":"weqq873e9","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Normal connection usage"}),t.jsx("div",{className:"text-sm text-muted-foreground","data-id":"m00cvg6ua","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"1 hour ago - 45/100 connections"})]}),t.jsx(p,{variant:"default","data-id":"9cnsy923r","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Normal"})]})]})})]})]}),t.jsx(D,{value:"optimization",className:"space-y-4","data-id":"a8frh1kst","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6","data-id":"ua95mmi4g","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs(c,{"data-id":"98g9j02to","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs(x,{"data-id":"bfs4guwc0","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx(y,{"data-id":"jgu2juwed","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Connection Management"}),t.jsx(w,{"data-id":"9z999cioc","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Optimize database connection usage"})]}),t.jsx(r,{className:"space-y-4","data-id":"65bc2zdjw","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:t.jsxs("div",{className:"space-y-3","data-id":"ox8aogmg7","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs(b,{variant:"outline",className:"w-full justify-start","data-id":"aoyj2n1kc","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx(pt,{className:"h-4 w-4 mr-2","data-id":"vwobod1k3","data-path":"src/pages/Admin/DatabaseMonitoring.tsx"}),"Close Idle Connections"]}),t.jsxs(b,{variant:"outline",className:"w-full justify-start","data-id":"nbcyq3w38","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx(ht,{className:"h-4 w-4 mr-2","data-id":"w1d316rcx","data-path":"src/pages/Admin/DatabaseMonitoring.tsx"}),"Kill Long-Running Queries"]}),t.jsxs(b,{variant:"outline",className:"w-full justify-start","data-id":"vehil0z95","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx(yt,{className:"h-4 w-4 mr-2","data-id":"x5lsw8jvz","data-path":"src/pages/Admin/DatabaseMonitoring.tsx"}),"Adjust Pool Size"]}),t.jsxs(b,{variant:"destructive",className:"w-full justify-start","data-id":"hqijslbn7","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx(z,{className:"h-4 w-4 mr-2","data-id":"gv1338f47","data-path":"src/pages/Admin/DatabaseMonitoring.tsx"}),"Emergency Connection Reset"]})]})})]}),t.jsxs(c,{"data-id":"4mnv8xn2c","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs(x,{"data-id":"lgqlhvf50","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx(y,{"data-id":"zeadil80i","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Recommendations"}),t.jsx(w,{"data-id":"jupvpli7j","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Immediate actions to reduce connection usage"})]}),t.jsx(r,{"data-id":"jh9cg4o0v","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:t.jsxs("div",{className:"space-y-3","data-id":"hk9vichwe","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs("div",{className:"p-3 border-l-4 border-red-500 bg-red-50 dark:bg-red-950","data-id":"7lx95hlf8","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("div",{className:"font-medium text-red-800 dark:text-red-200","data-id":"h85f4nxpc","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Critical: Review connection leaks"}),t.jsx("div",{className:"text-sm text-red-600 dark:text-red-300","data-id":"i583zy0g3","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Check for unclosed connections in sales report generation"})]}),t.jsxs("div",{className:"p-3 border-l-4 border-yellow-500 bg-yellow-50 dark:bg-yellow-950","data-id":"elxsp9tp5","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("div",{className:"font-medium text-yellow-800 dark:text-yellow-200","data-id":"jc47mcu7t","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Implement connection pooling"}),t.jsx("div",{className:"text-sm text-yellow-600 dark:text-yellow-300","data-id":"vt0wxbsin","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Configure maximum pool size and connection timeout"})]}),t.jsxs("div",{className:"p-3 border-l-4 border-blue-500 bg-blue-50 dark:bg-blue-950","data-id":"kidcoymr7","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-200","data-id":"x2kom6dt1","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Optimize query performance"}),t.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-300","data-id":"9qhldaf0c","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Review slow queries that may be holding connections"})]})]})})]})]})}),t.jsx(D,{value:"alerts",className:"space-y-4","data-id":"splyc0bfh","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:t.jsxs(c,{"data-id":"jcrbvfnpy","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs(x,{"data-id":"8nj32dtgk","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs(y,{className:"flex items-center space-x-2","data-id":"6gyog6lhd","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx(I,{className:"h-5 w-5","data-id":"behmeo84f","data-path":"src/pages/Admin/DatabaseMonitoring.tsx"}),t.jsx("span",{"data-id":"77pbo80ec","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Alert Configuration"})]}),t.jsx(w,{"data-id":"3acs3efap","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Configure alerts for database connection monitoring"})]}),t.jsxs(r,{className:"space-y-4","data-id":"zy8z0g1lq","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4","data-id":"kzsj9f3ji","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs("div",{className:"space-y-2","data-id":"1h3jagmw8","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("label",{className:"text-sm font-medium","data-id":"qfsjhn5sz","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Warning Threshold"}),t.jsxs("div",{className:"flex items-center space-x-2","data-id":"qd3pjh6ml","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("input",{type:"number",className:"flex-1 px-3 py-2 border rounded-md",defaultValue:"70","data-id":"dwtmqvqxo","data-path":"src/pages/Admin/DatabaseMonitoring.tsx"}),t.jsx("span",{className:"text-sm text-muted-foreground","data-id":"zuqeqdl89","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"%"})]})]}),t.jsxs("div",{className:"space-y-2","data-id":"o5qp63wf8","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("label",{className:"text-sm font-medium","data-id":"j82edwzqt","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Critical Threshold"}),t.jsxs("div",{className:"flex items-center space-x-2","data-id":"00jqtuv9d","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("input",{type:"number",className:"flex-1 px-3 py-2 border rounded-md",defaultValue:"85","data-id":"a84hg4w40","data-path":"src/pages/Admin/DatabaseMonitoring.tsx"}),t.jsx("span",{className:"text-sm text-muted-foreground","data-id":"bwqbb5z2m","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"%"})]})]})]}),t.jsxs("div",{className:"space-y-2","data-id":"or76mjfza","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("label",{className:"text-sm font-medium","data-id":"m6h8gbuxf","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Alert Methods"}),t.jsxs("div",{className:"space-y-2","data-id":"uotyrapa7","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsxs("label",{className:"flex items-center space-x-2","data-id":"gunx0l3gi","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("input",{type:"checkbox",defaultChecked:!0,"data-id":"5f0s6ecvf","data-path":"src/pages/Admin/DatabaseMonitoring.tsx"}),t.jsx("span",{className:"text-sm","data-id":"a5o7c06sl","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Browser notifications"})]}),t.jsxs("label",{className:"flex items-center space-x-2","data-id":"80tf1gtm2","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("input",{type:"checkbox",defaultChecked:!0,"data-id":"wtk0msedq","data-path":"src/pages/Admin/DatabaseMonitoring.tsx"}),t.jsx("span",{className:"text-sm","data-id":"51zc74nl6","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Email alerts"})]}),t.jsxs("label",{className:"flex items-center space-x-2","data-id":"yxctcp00q","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:[t.jsx("input",{type:"checkbox","data-id":"vm7be213o","data-path":"src/pages/Admin/DatabaseMonitoring.tsx"}),t.jsx("span",{className:"text-sm","data-id":"vne2oaxwu","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"SMS alerts"})]})]})]}),t.jsx(b,{className:"w-full","data-id":"4m745tikj","data-path":"src/pages/Admin/DatabaseMonitoring.tsx",children:"Save Alert Settings"})]})]})})]})]}):t.jsx(ft,{feature:"Database Monitoring System",requiredRole:"Administrator","data-id":"2h47n0ljp","data-path":"src/pages/Admin/DatabaseMonitoring.tsx"})},Sa=Object.freeze(Object.defineProperty({__proto__:null,default:fa},Symbol.toStringTag,{value:"Module"})),va=()=>{const[o,a]=u.useState({totalEvents:0,failedAttempts:0,suspiciousActivity:0,securityScore:100}),[e,s]=u.useState([]),[m,h]=u.useState(!0),[d,j]=u.useState(!1),{toast:S}=it(),M=async()=>{h(!0);try{const{data:g,error:O}=await window.ezsite.apis.tablePage(12706,{PageNo:1,PageSize:100,OrderByField:"event_timestamp",IsAsc:!1,Filters:[]});if(O)throw console.error("Error fetching audit logs:",O),new Error(O);const E=(g==null?void 0:g.List)||[],v=E.length,n=E.filter(T=>T.event_status==="Failed"||T.event_status==="Blocked").length,l=E.filter(T=>T.risk_level==="High"||T.risk_level==="Critical").length,k=E.filter(T=>T.event_status==="Success").length,C=v>0?Math.round(k/v*100):100;a({totalEvents:v,failedAttempts:n,suspiciousActivity:l,securityScore:C}),s(E.slice(0,10))}catch(g){console.error("Error fetching audit data:",g),S({title:"Error Loading Audit Data",description:"Failed to fetch audit log information. Please try again.",variant:"destructive"}),a({totalEvents:0,failedAttempts:0,suspiciousActivity:0,securityScore:100}),s([])}finally{h(!1)}},A=async()=>{j(!0),await M(),j(!1),S({title:"Data Refreshed",description:"Audit log data has been updated with latest information."})};u.useEffect(()=>{M()},[]);const q=g=>{if(!g)return"unknown time";const O=new Date,E=new Date(g),v=Math.floor((O.getTime()-E.getTime())/(1e3*60));return v<1?"just now":v<60?`${v} minutes ago`:v<1440?`${Math.floor(v/60)} hours ago`:`${Math.floor(v/1440)} days ago`},U=g=>{switch(g.toLowerCase()){case"success":return"bg-green-500 text-white";case"failed":case"blocked":return"bg-red-500 text-white";case"suspicious":return"bg-orange-500 text-white";default:return"bg-blue-500 text-white"}},Q=g=>{switch(g.toLowerCase()){case"login":case"logout":return t.jsx(kt,{className:"h-4 w-4","data-id":"0a3690c00","data-path":"src/components/AuditLogDashboard.tsx"});case"data access":case"data modification":return t.jsx(jt,{className:"h-4 w-4","data-id":"b9r7um42s","data-path":"src/components/AuditLogDashboard.tsx"});default:return t.jsx(J,{className:"h-4 w-4","data-id":"sq8twpucg","data-path":"src/components/AuditLogDashboard.tsx"})}};return m?t.jsx("div",{className:"flex items-center justify-center p-8","data-id":"hify41ayy","data-path":"src/components/AuditLogDashboard.tsx",children:t.jsxs("div",{className:"text-center","data-id":"p566pt8ji","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsx(K,{className:"h-8 w-8 animate-spin mx-auto mb-4","data-id":"289uaepv8","data-path":"src/components/AuditLogDashboard.tsx"}),t.jsx("p",{className:"text-sm text-muted-foreground","data-id":"5mb0u5op0","data-path":"src/components/AuditLogDashboard.tsx",children:"Loading real-time audit data..."})]})}):t.jsxs("div",{className:"space-y-6","data-id":"r2pnqw7te","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between","data-id":"xxg4ajmqx","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsxs("div",{"data-id":"3zifu7u9c","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight","data-id":"jt75dnfwk","data-path":"src/components/AuditLogDashboard.tsx",children:"Audit Log Dashboard"}),t.jsx("p",{className:"text-muted-foreground","data-id":"e3jywcgsq","data-path":"src/components/AuditLogDashboard.tsx",children:"Real-time security monitoring and audit trail analysis"})]}),t.jsxs(b,{onClick:A,disabled:d,variant:"outline",size:"sm","data-id":"f5maulso4","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsx(K,{className:`w-4 h-4 mr-2 ${d?"animate-spin":""}`,"data-id":"ry5bo743u","data-path":"src/components/AuditLogDashboard.tsx"}),"Refresh"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6","data-id":"ht2wng9tr","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsx(c,{"data-id":"3emdkbnr5","data-path":"src/components/AuditLogDashboard.tsx",children:t.jsxs(r,{className:"p-6","data-id":"8qaavbrvn","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between","data-id":"ul1otx129","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsxs("div",{"data-id":"7mn2tazzg","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground","data-id":"mf0n4mqrl","data-path":"src/components/AuditLogDashboard.tsx",children:"Total Events"}),t.jsx("p",{className:"text-3xl font-bold","data-id":"fgicf3s6j","data-path":"src/components/AuditLogDashboard.tsx",children:o.totalEvents.toLocaleString()})]}),t.jsx(I,{className:"h-8 w-8 text-blue-600","data-id":"487e9n5cj","data-path":"src/components/AuditLogDashboard.tsx"})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-2","data-id":"0ueojg1ks","data-path":"src/components/AuditLogDashboard.tsx",children:"All recorded events"})]})}),t.jsx(c,{"data-id":"5bcsk31r1","data-path":"src/components/AuditLogDashboard.tsx",children:t.jsxs(r,{className:"p-6","data-id":"di3zexgo8","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between","data-id":"j4l8aid0l","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsxs("div",{"data-id":"16dqxc7xr","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground","data-id":"1s12axy1a","data-path":"src/components/AuditLogDashboard.tsx",children:"Failed Attempts"}),t.jsx("p",{className:"text-3xl font-bold text-red-600","data-id":"1wihcsj7t","data-path":"src/components/AuditLogDashboard.tsx",children:o.failedAttempts})]}),t.jsx(z,{className:"h-8 w-8 text-red-600","data-id":"pxgrtgn1m","data-path":"src/components/AuditLogDashboard.tsx"})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-2","data-id":"natwcsang","data-path":"src/components/AuditLogDashboard.tsx",children:o.totalEvents>0?`${(o.failedAttempts/o.totalEvents*100).toFixed(1)}% of total events`:"No events recorded"})]})}),t.jsx(c,{"data-id":"ayp8eozto","data-path":"src/components/AuditLogDashboard.tsx",children:t.jsxs(r,{className:"p-6","data-id":"tx2gtubwg","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between","data-id":"6rnq3fnr4","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsxs("div",{"data-id":"f0e5f36jr","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground","data-id":"nrn0wiaae","data-path":"src/components/AuditLogDashboard.tsx",children:"Suspicious Activity"}),t.jsx("p",{className:"text-3xl font-bold text-orange-600","data-id":"nuhb5cs7j","data-path":"src/components/AuditLogDashboard.tsx",children:o.suspiciousActivity})]}),t.jsx(jt,{className:"h-8 w-8 text-orange-600","data-id":"70v59bdml","data-path":"src/components/AuditLogDashboard.tsx"})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-2","data-id":"50wszmwdg","data-path":"src/components/AuditLogDashboard.tsx",children:o.suspiciousActivity>0?"Requires attention":"All clear"})]})}),t.jsx(c,{"data-id":"w6fqigzga","data-path":"src/components/AuditLogDashboard.tsx",children:t.jsxs(r,{className:"p-6","data-id":"eszjf2hsg","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between","data-id":"4elfc5paw","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsxs("div",{"data-id":"10txq5bqe","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground","data-id":"zhwcioqm2","data-path":"src/components/AuditLogDashboard.tsx",children:"Security Score"}),t.jsxs("p",{className:`text-3xl font-bold ${o.securityScore>=95?"text-green-600":o.securityScore>=80?"text-yellow-600":"text-red-600"}`,"data-id":"6d4swc7v1","data-path":"src/components/AuditLogDashboard.tsx",children:[o.securityScore,"%"]})]}),t.jsx(ht,{className:`h-8 w-8 ${o.securityScore>=95?"text-green-600":o.securityScore>=80?"text-yellow-600":"text-red-600"}`,"data-id":"jyt7kv3v9","data-path":"src/components/AuditLogDashboard.tsx"})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-2","data-id":"1vdt8dc28","data-path":"src/components/AuditLogDashboard.tsx",children:"Based on security events"})]})})]}),o.suspiciousActivity>0&&t.jsxs(V,{className:"border-orange-500 bg-orange-50","data-id":"axroxzppr","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsx(z,{className:"h-4 w-4 text-orange-600","data-id":"dobl2ezdj","data-path":"src/components/AuditLogDashboard.tsx"}),t.jsxs($,{"data-id":"6jd5n4ibc","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsx("strong",{"data-id":"lapnalaty","data-path":"src/components/AuditLogDashboard.tsx",children:"Security Alert:"})," ",o.suspiciousActivity," suspicious activities detected. Review the recent events below for more details."]})]}),o.securityScore<80&&t.jsxs(V,{className:"border-red-500 bg-red-50","data-id":"ni3d6khyj","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsx(z,{className:"h-4 w-4 text-red-600","data-id":"2ofarw3d0","data-path":"src/components/AuditLogDashboard.tsx"}),t.jsxs($,{"data-id":"s3360y3tb","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsx("strong",{"data-id":"v2zu9wp0c","data-path":"src/components/AuditLogDashboard.tsx",children:"Low Security Score:"})," Your system security score is ",o.securityScore,"%. This indicates a high number of failed or blocked events that require investigation."]})]}),t.jsxs(c,{"data-id":"mtap99zn9","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsx(x,{"data-id":"12s96qkdz","data-path":"src/components/AuditLogDashboard.tsx",children:t.jsx(y,{"data-id":"7pb6o1rl3","data-path":"src/components/AuditLogDashboard.tsx",children:"Recent Security Events"})}),t.jsx(r,{"data-id":"bsmf5rmw4","data-path":"src/components/AuditLogDashboard.tsx",children:e.length===0?t.jsxs("div",{className:"text-center py-8 text-gray-500","data-id":"5cdm99ez6","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsx(I,{className:"h-12 w-12 mx-auto mb-4 text-gray-400","data-id":"z7v9zpnmg","data-path":"src/components/AuditLogDashboard.tsx"}),t.jsx("p",{"data-id":"oa4k82bjs","data-path":"src/components/AuditLogDashboard.tsx",children:"No audit events recorded yet."}),t.jsx("p",{className:"text-sm mt-1","data-id":"ej3iv5ztw","data-path":"src/components/AuditLogDashboard.tsx",children:"Security events will appear here as they occur."})]}):t.jsx("div",{className:"space-y-3","data-id":"7u0wuanng","data-path":"src/components/AuditLogDashboard.tsx",children:e.map(g=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg","data-id":"yxf0qffqw","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsxs("div",{className:"flex items-center space-x-3","data-id":"zyyn4ch08","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsxs(p,{className:U(g.event_status),"data-id":"ptd5m8cn9","data-path":"src/components/AuditLogDashboard.tsx",children:[Q(g.event_type),t.jsx("span",{className:"ml-1","data-id":"4ufk1zqs8","data-path":"src/components/AuditLogDashboard.tsx",children:g.event_status})]}),t.jsxs("div",{"data-id":"6rj3wlkzt","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsxs("p",{className:"text-sm font-medium","data-id":"b7uidzl5p","data-path":"src/components/AuditLogDashboard.tsx",children:[g.event_type,": ",g.action_performed||g.resource_accessed||"System action"]}),t.jsxs("p",{className:"text-xs text-muted-foreground","data-id":"do6p2e2b8","data-path":"src/components/AuditLogDashboard.tsx",children:[g.username||"Unknown user"," from ",g.ip_address||"unknown IP",g.station&&` â€¢ Station: ${g.station}`,g.failure_reason&&` â€¢ Reason: ${g.failure_reason}`]})]})]}),t.jsxs("div",{className:"text-right","data-id":"s0pw98620","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsxs("span",{className:"text-xs text-muted-foreground flex items-center","data-id":"rxm6br0hc","data-path":"src/components/AuditLogDashboard.tsx",children:[t.jsx(Ot,{className:"w-3 h-3 mr-1","data-id":"12wvleia0","data-path":"src/components/AuditLogDashboard.tsx"}),q(g.event_timestamp)]}),g.risk_level&&g.risk_level!=="Low"&&t.jsxs(p,{variant:g.risk_level==="Critical"?"destructive":"secondary",className:"mt-1 text-xs","data-id":"wic1c9mrm","data-path":"src/components/AuditLogDashboard.tsx",children:[g.risk_level," Risk"]})]})]},g.id))})})]})]})},Ma=()=>{const[o,a]=u.useState(!1),e=[{id:1,timestamp:"2024-01-15 14:30:22",eventType:"Login",user:"admin@dfsmanager.com",status:"Success",riskLevel:"Low",resource:"/dashboard",action:"View",station:"MOBIL",ipAddress:"192.168.1.100"},{id:2,timestamp:"2024-01-15 14:25:15",eventType:"Failed Login",user:"unknown",status:"Failed",riskLevel:"Medium",resource:"/login",action:"Authenticate",station:"N/A",ipAddress:"203.0.113.10"},{id:3,timestamp:"2024-01-15 14:20:08",eventType:"Data Access",user:"manager@dfsmanager.com",status:"Success",riskLevel:"Low",resource:"/sales/reports",action:"View",station:"AMOCO ROSEDALE",ipAddress:"192.168.1.150"}],s=d=>{switch(d){case"Critical":return"bg-red-500 hover:bg-red-600";case"High":return"bg-orange-500 hover:bg-orange-600";case"Medium":return"bg-yellow-500 hover:bg-yellow-600";case"Low":return"bg-green-500 hover:bg-green-600";default:return"bg-gray-500 hover:bg-gray-600"}},m=d=>{switch(d){case"Success":return"bg-green-500 hover:bg-green-600";case"Failed":return"bg-red-500 hover:bg-red-600";case"Blocked":return"bg-orange-500 hover:bg-orange-600";case"Suspicious":return"bg-purple-500 hover:bg-purple-600";default:return"bg-gray-500 hover:bg-gray-600"}},h=()=>{const d=["Timestamp,Event Type,User,Status,Risk Level,Resource,Action,Station,IP Address",...e.map(A=>`"${A.timestamp}","${A.eventType}","${A.user}","${A.status}","${A.riskLevel}","${A.resource}","${A.action}","${A.station}","${A.ipAddress}"`)].join(`
`),j=new Blob([d],{type:"text/csv"}),S=window.URL.createObjectURL(j),M=document.createElement("a");M.href=S,M.download=`audit-logs-${new Date().toISOString().split("T")[0]}.csv`,M.click(),window.URL.revokeObjectURL(S)};return t.jsx("div",{className:"space-y-6","data-id":"zjh88nkoy","data-path":"src/components/AuditLogViewer.tsx",children:t.jsxs(c,{"data-id":"0zzq47j8j","data-path":"src/components/AuditLogViewer.tsx",children:[t.jsx(x,{"data-id":"y15y2dv3b","data-path":"src/components/AuditLogViewer.tsx",children:t.jsxs("div",{className:"flex items-center justify-between","data-id":"wr5p8dj2b","data-path":"src/components/AuditLogViewer.tsx",children:[t.jsxs("div",{className:"flex items-center space-x-2","data-id":"8totejbsp","data-path":"src/components/AuditLogViewer.tsx",children:[t.jsx(I,{className:"h-5 w-5 text-blue-600","data-id":"62hydt0ab","data-path":"src/components/AuditLogViewer.tsx"}),t.jsx(y,{"data-id":"qzxatmyr6","data-path":"src/components/AuditLogViewer.tsx",children:"Audit Log Viewer"})]}),t.jsxs("div",{className:"flex items-center space-x-2","data-id":"m09f2t7pr","data-path":"src/components/AuditLogViewer.tsx",children:[t.jsxs(b,{variant:"outline",size:"sm",onClick:()=>a(!o),"data-id":"cykriaptw","data-path":"src/components/AuditLogViewer.tsx",children:[t.jsx(ma,{className:"h-4 w-4 mr-2","data-id":"d9vw9h0xp","data-path":"src/components/AuditLogViewer.tsx"}),"Filters"]}),t.jsxs(b,{variant:"outline",size:"sm",onClick:h,"data-id":"vy5zt25uf","data-path":"src/components/AuditLogViewer.tsx",children:[t.jsx(st,{className:"h-4 w-4 mr-2","data-id":"geql21rs4","data-path":"src/components/AuditLogViewer.tsx"}),"Export"]})]})]})}),o&&t.jsx(r,{className:"border-t","data-id":"u402kfsha","data-path":"src/components/AuditLogViewer.tsx",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-4","data-id":"zof5jrc1j","data-path":"src/components/AuditLogViewer.tsx",children:[t.jsxs("div",{"data-id":"hcmcae8r3","data-path":"src/components/AuditLogViewer.tsx",children:[t.jsx("label",{className:"text-sm font-medium mb-1 block","data-id":"pdtw0e75t","data-path":"src/components/AuditLogViewer.tsx",children:"Event Type"}),t.jsxs(Z,{"data-id":"wjm9tipb0","data-path":"src/components/AuditLogViewer.tsx",children:[t.jsx(tt,{"data-id":"0l1gf9ium","data-path":"src/components/AuditLogViewer.tsx",children:t.jsx(at,{placeholder:"All events","data-id":"neslsgxvs","data-path":"src/components/AuditLogViewer.tsx"})}),t.jsxs(et,{"data-id":"jkrxf8e2y","data-path":"src/components/AuditLogViewer.tsx",children:[t.jsx(N,{value:"","data-id":"au1blpgju","data-path":"src/components/AuditLogViewer.tsx",children:"All Events"}),t.jsx(N,{value:"Login","data-id":"mtwasko7a","data-path":"src/components/AuditLogViewer.tsx",children:"Login"}),t.jsx(N,{value:"Logout","data-id":"pbql2s7fx","data-path":"src/components/AuditLogViewer.tsx",children:"Logout"}),t.jsx(N,{value:"Failed Login","data-id":"m8pnj42r5","data-path":"src/components/AuditLogViewer.tsx",children:"Failed Login"}),t.jsx(N,{value:"Data Access","data-id":"f6scpjvld","data-path":"src/components/AuditLogViewer.tsx",children:"Data Access"})]})]})]}),t.jsxs("div",{"data-id":"rb98owkvx","data-path":"src/components/AuditLogViewer.tsx",children:[t.jsx("label",{className:"text-sm font-medium mb-1 block","data-id":"023stavyq","data-path":"src/components/AuditLogViewer.tsx",children:"Status"}),t.jsxs(Z,{"data-id":"skyl9ntzf","data-path":"src/components/AuditLogViewer.tsx",children:[t.jsx(tt,{"data-id":"mcaliz4c7","data-path":"src/components/AuditLogViewer.tsx",children:t.jsx(at,{placeholder:"All statuses","data-id":"saeprc8fk","data-path":"src/components/AuditLogViewer.tsx"})}),t.jsxs(et,{"data-id":"41510hper","data-path":"src/components/AuditLogViewer.tsx",children:[t.jsx(N,{value:"","data-id":"85b94lzkg","data-path":"src/components/AuditLogViewer.tsx",children:"All Statuses"}),t.jsx(N,{value:"Success","data-id":"dmnn9eveq","data-path":"src/components/AuditLogViewer.tsx",children:"Success"}),t.jsx(N,{value:"Failed","data-id":"ch23swhd5","data-path":"src/components/AuditLogViewer.tsx",children:"Failed"}),t.jsx(N,{value:"Blocked","data-id":"cnqp1p6na","data-path":"src/components/AuditLogViewer.tsx",children:"Blocked"})]})]})]}),t.jsxs("div",{"data-id":"48zunsb5o","data-path":"src/components/AuditLogViewer.tsx",children:[t.jsx("label",{className:"text-sm font-medium mb-1 block","data-id":"n561fuxi6","data-path":"src/components/AuditLogViewer.tsx",children:"Risk Level"}),t.jsxs(Z,{"data-id":"kw28cgytf","data-path":"src/components/AuditLogViewer.tsx",children:[t.jsx(tt,{"data-id":"x9c6k0fgl","data-path":"src/components/AuditLogViewer.tsx",children:t.jsx(at,{placeholder:"All risk levels","data-id":"r1y5zr1vx","data-path":"src/components/AuditLogViewer.tsx"})}),t.jsxs(et,{"data-id":"ydbie7dg0","data-path":"src/components/AuditLogViewer.tsx",children:[t.jsx(N,{value:"","data-id":"4w6q5l10w","data-path":"src/components/AuditLogViewer.tsx",children:"All Risk Levels"}),t.jsx(N,{value:"Low","data-id":"zspsl206w","data-path":"src/components/AuditLogViewer.tsx",children:"Low"}),t.jsx(N,{value:"Medium","data-id":"oc1i81ymv","data-path":"src/components/AuditLogViewer.tsx",children:"Medium"}),t.jsx(N,{value:"High","data-id":"1lp8eun8l","data-path":"src/components/AuditLogViewer.tsx",children:"High"}),t.jsx(N,{value:"Critical","data-id":"hctuawidu","data-path":"src/components/AuditLogViewer.tsx",children:"Critical"})]})]})]}),t.jsxs("div",{"data-id":"r8ucv5en4","data-path":"src/components/AuditLogViewer.tsx",children:[t.jsx("label",{className:"text-sm font-medium mb-1 block","data-id":"s8kxgdor7","data-path":"src/components/AuditLogViewer.tsx",children:"Username"}),t.jsx(Pt,{placeholder:"Search username...","data-id":"kn0m7lblc","data-path":"src/components/AuditLogViewer.tsx"})]})]})}),t.jsx(r,{"data-id":"sivwcauac","data-path":"src/components/AuditLogViewer.tsx",children:t.jsx("div",{className:"rounded-md border","data-id":"m28c3roaz","data-path":"src/components/AuditLogViewer.tsx",children:t.jsxs(Rt,{"data-id":"xmxd6v5om","data-path":"src/components/AuditLogViewer.tsx",children:[t.jsx(Et,{"data-id":"8vfj6jwxf","data-path":"src/components/AuditLogViewer.tsx",children:t.jsxs(gt,{"data-id":"16rg2qjtk","data-path":"src/components/AuditLogViewer.tsx",children:[t.jsx(P,{"data-id":"7eq4om1i2","data-path":"src/components/AuditLogViewer.tsx",children:"Timestamp"}),t.jsx(P,{"data-id":"dxxzdpfn4","data-path":"src/components/AuditLogViewer.tsx",children:"Event Type"}),t.jsx(P,{"data-id":"lu5fp66l8","data-path":"src/components/AuditLogViewer.tsx",children:"User"}),t.jsx(P,{"data-id":"ee0v4tqgr","data-path":"src/components/AuditLogViewer.tsx",children:"Status"}),t.jsx(P,{"data-id":"oxt40fim9","data-path":"src/components/AuditLogViewer.tsx",children:"Risk Level"}),t.jsx(P,{"data-id":"wo8aku71h","data-path":"src/components/AuditLogViewer.tsx",children:"Resource"}),t.jsx(P,{"data-id":"e8kia8wvk","data-path":"src/components/AuditLogViewer.tsx",children:"Action"}),t.jsx(P,{"data-id":"mlesf66zd","data-path":"src/components/AuditLogViewer.tsx",children:"Station"}),t.jsx(P,{"data-id":"5nkdqscsa","data-path":"src/components/AuditLogViewer.tsx",children:"IP Address"})]})}),t.jsx(Gt,{"data-id":"ry8dwf13h","data-path":"src/components/AuditLogViewer.tsx",children:e.map(d=>t.jsxs(gt,{"data-id":"09lb7h43l","data-path":"src/components/AuditLogViewer.tsx",children:[t.jsx(R,{className:"text-sm","data-id":"f8r0norka","data-path":"src/components/AuditLogViewer.tsx",children:d.timestamp}),t.jsx(R,{"data-id":"jvh6t4yxi","data-path":"src/components/AuditLogViewer.tsx",children:t.jsx(p,{variant:"outline","data-id":"gvyslnmoh","data-path":"src/components/AuditLogViewer.tsx",children:d.eventType})}),t.jsx(R,{"data-id":"elx3v6ncb","data-path":"src/components/AuditLogViewer.tsx",children:d.user}),t.jsx(R,{"data-id":"4pgfy5eb5","data-path":"src/components/AuditLogViewer.tsx",children:t.jsx(p,{className:`text-white ${m(d.status)}`,"data-id":"ndy0vcgxv","data-path":"src/components/AuditLogViewer.tsx",children:d.status})}),t.jsx(R,{"data-id":"6zp2urptn","data-path":"src/components/AuditLogViewer.tsx",children:t.jsx(p,{className:`text-white ${s(d.riskLevel)}`,"data-id":"nfb24hlbu","data-path":"src/components/AuditLogViewer.tsx",children:d.riskLevel})}),t.jsx(R,{className:"text-sm","data-id":"gqv702xtx","data-path":"src/components/AuditLogViewer.tsx",children:d.resource}),t.jsx(R,{className:"text-sm","data-id":"mpguejzac","data-path":"src/components/AuditLogViewer.tsx",children:d.action}),t.jsx(R,{"data-id":"f9lcwh5gr","data-path":"src/components/AuditLogViewer.tsx",children:d.station}),t.jsx(R,{className:"text-sm","data-id":"wnhvhi1hg","data-path":"src/components/AuditLogViewer.tsx",children:d.ipAddress})]},d.id))})]})})})]})})},Aa=()=>{const{isAdmin:o}=bt(),[a,e]=u.useState("dashboard");return o?t.jsxs("div",{className:"space-y-6","data-id":"z56dbhol1","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between","data-id":"dyrwudr4b","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsxs("div",{className:"flex items-center space-x-2","data-id":"aifr4w2v3","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx(I,{className:"h-6 w-6 text-blue-600","data-id":"jx6c8tihm","data-path":"src/pages/Admin/AuditMonitoring.tsx"}),t.jsx("h1",{className:"text-2xl font-bold","data-id":"fndcmjzdw","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Audit & Security Monitoring"})]}),t.jsx("div",{className:"flex items-center space-x-2","data-id":"4iyjydzde","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:t.jsxs(p,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200","data-id":"8flc9ejrb","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx(I,{className:"h-3 w-3 mr-1","data-id":"wyrbb2sct","data-path":"src/pages/Admin/AuditMonitoring.tsx"}),"Active Monitoring"]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6","data-id":"5ehtw5ced","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx(c,{className:"border-blue-200 bg-blue-50","data-id":"njo7y8xym","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:t.jsxs(r,{className:"p-6","data-id":"47y4txb1y","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between","data-id":"v78or33d9","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsxs("div",{"data-id":"s32ybwo9b","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx("p",{className:"text-sm font-medium text-blue-700","data-id":"koxy7mb9q","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Monitoring Status"}),t.jsx("p",{className:"text-2xl font-bold text-blue-800","data-id":"yaxj2cc6m","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Active"})]}),t.jsx(I,{className:"h-8 w-8 text-blue-600","data-id":"o7tkbqime","data-path":"src/pages/Admin/AuditMonitoring.tsx"})]}),t.jsx("p",{className:"text-xs text-blue-600 mt-2","data-id":"mxc60moxl","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"All access attempts are being logged"})]})}),t.jsx(c,{className:"border-orange-200 bg-orange-50","data-id":"wvo5l3dob","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:t.jsxs(r,{className:"p-6","data-id":"ui1zdeqg7","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between","data-id":"575ksbl4j","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsxs("div",{"data-id":"u939zlusk","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx("p",{className:"text-sm font-medium text-orange-700","data-id":"xi1eq3lxa","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Security Level"}),t.jsx("p",{className:"text-2xl font-bold text-orange-800","data-id":"ocw6anxzh","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"High"})]}),t.jsx(jt,{className:"h-8 w-8 text-orange-600","data-id":"5krtjxwhf","data-path":"src/pages/Admin/AuditMonitoring.tsx"})]}),t.jsx("p",{className:"text-xs text-orange-600 mt-2","data-id":"faws9f74x","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Enhanced monitoring enabled"})]})}),t.jsx(c,{className:"border-green-200 bg-green-50","data-id":"q6j4ih6d8","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:t.jsxs(r,{className:"p-6","data-id":"nnpj9lnx3","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between","data-id":"nvl6ty23i","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsxs("div",{"data-id":"uyq2spmc0","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx("p",{className:"text-sm font-medium text-green-700","data-id":"6t9f5rrhg","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Compliance"}),t.jsx("p",{className:"text-2xl font-bold text-green-800","data-id":"3o47wtw2w","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"100%"})]}),t.jsx(qt,{className:"h-8 w-8 text-green-600","data-id":"k1dg6hvfl","data-path":"src/pages/Admin/AuditMonitoring.tsx"})]}),t.jsx("p",{className:"text-xs text-green-600 mt-2","data-id":"4xjbnjezu","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Meeting security standards"})]})})]}),t.jsxs(ot,{value:a,onValueChange:e,className:"space-y-6","data-id":"6gxcz7ruf","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsxs(dt,{className:"grid w-full grid-cols-4","data-id":"t40r9us6p","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsxs(L,{value:"dashboard",className:"flex items-center space-x-2","data-id":"b77ft84er","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx(qt,{className:"h-4 w-4","data-id":"1b0bhtzlx","data-path":"src/pages/Admin/AuditMonitoring.tsx"}),t.jsx("span",{"data-id":"kf06cgjeb","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Dashboard"})]}),t.jsxs(L,{value:"logs",className:"flex items-center space-x-2","data-id":"uhbbtr6st","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx(jt,{className:"h-4 w-4","data-id":"w76p5ey71","data-path":"src/pages/Admin/AuditMonitoring.tsx"}),t.jsx("span",{"data-id":"jhc13p97z","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Audit Logs"})]}),t.jsxs(L,{value:"alerts",className:"flex items-center space-x-2","data-id":"pkoby6tqm","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx(z,{className:"h-4 w-4","data-id":"e2145h9z3","data-path":"src/pages/Admin/AuditMonitoring.tsx"}),t.jsx("span",{"data-id":"zl3nuu10j","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Security Alerts"})]}),t.jsxs(L,{value:"settings",className:"flex items-center space-x-2","data-id":"8jdcf3dek","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx(yt,{className:"h-4 w-4","data-id":"5w9qnvtl3","data-path":"src/pages/Admin/AuditMonitoring.tsx"}),t.jsx("span",{"data-id":"2tzqoqaiq","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Settings"})]})]}),t.jsx(D,{value:"dashboard","data-id":"wdp6i9qya","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:t.jsx(va,{"data-id":"kkswq7gsk","data-path":"src/pages/Admin/AuditMonitoring.tsx"})}),t.jsx(D,{value:"logs","data-id":"2y3rddkqa","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:t.jsx(Ma,{"data-id":"zrsihviti","data-path":"src/pages/Admin/AuditMonitoring.tsx"})}),t.jsx(D,{value:"alerts","data-id":"zl5j47o14","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:t.jsxs(c,{"data-id":"wn2e0fam1","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx(x,{"data-id":"uy9c3noj7","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:t.jsxs(y,{className:"flex items-center space-x-2","data-id":"2dkdpbfaz","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx(z,{className:"h-5 w-5 text-orange-500","data-id":"06v7zye44","data-path":"src/pages/Admin/AuditMonitoring.tsx"}),t.jsx("span",{"data-id":"6i23z9s4b","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Security Alerts Configuration"})]})}),t.jsx(r,{"data-id":"y5u6gnn2j","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:t.jsx("div",{className:"space-y-4","data-id":"flb2f20lt","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4","data-id":"7yjvl8mva","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx(c,{className:"border-yellow-200","data-id":"us2blkk4b","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:t.jsxs(r,{className:"p-4","data-id":"1e7errnmw","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2","data-id":"t5sexfxuq","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx("h4",{className:"font-medium","data-id":"rjwiaovf3","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Failed Login Threshold"}),t.jsx(p,{className:"bg-yellow-500 text-white","data-id":"zryamk6gk","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Active"})]}),t.jsx("p",{className:"text-sm text-muted-foreground","data-id":"pmyqmsvgz","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Alert when more than 5 failed login attempts occur within 15 minutes"})]})}),t.jsx(c,{className:"border-red-200","data-id":"vmsxr4v70","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:t.jsxs(r,{className:"p-4","data-id":"c26hgf2ke","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2","data-id":"2qk5eb37i","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx("h4",{className:"font-medium","data-id":"bgzv3tv08","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Suspicious Activity Detection"}),t.jsx(p,{className:"bg-red-500 text-white","data-id":"ce7nv2cmk","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Active"})]}),t.jsx("p",{className:"text-sm text-muted-foreground","data-id":"3nkpjfvrg","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Monitor for unusual access patterns and data modification attempts"})]})}),t.jsx(c,{className:"border-blue-200","data-id":"el00mz1gw","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:t.jsxs(r,{className:"p-4","data-id":"2lnkkyrga","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2","data-id":"n8ev66o9i","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx("h4",{className:"font-medium","data-id":"50t1t1y0e","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Data Access Monitoring"}),t.jsx(p,{className:"bg-blue-500 text-white","data-id":"0igdohkbn","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Active"})]}),t.jsx("p",{className:"text-sm text-muted-foreground","data-id":"a0hcenjz2","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Track all sensitive data access and modifications"})]})}),t.jsx(c,{className:"border-purple-200","data-id":"u1go49ohp","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:t.jsxs(r,{className:"p-4","data-id":"fvsg6fuo9","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2","data-id":"9qqcnefsm","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx("h4",{className:"font-medium","data-id":"n5e0i2tuj","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Permission Changes"}),t.jsx(p,{className:"bg-purple-500 text-white","data-id":"rn8ge4bfj","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Active"})]}),t.jsx("p",{className:"text-sm text-muted-foreground","data-id":"os1fvsa2f","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Monitor all user permission and role modifications"})]})})]})})})]})}),t.jsx(D,{value:"settings","data-id":"gjvk0dn1d","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:t.jsxs(c,{"data-id":"itmc5azwn","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx(x,{"data-id":"myq2ieevf","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:t.jsxs(y,{className:"flex items-center space-x-2","data-id":"o3u31u2mt","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx(yt,{className:"h-5 w-5","data-id":"2b48bb8ga","data-path":"src/pages/Admin/AuditMonitoring.tsx"}),t.jsx("span",{"data-id":"slne5mehg","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Audit Logging Settings"})]})}),t.jsx(r,{"data-id":"xnng59c5n","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:t.jsxs("div",{className:"space-y-6","data-id":"ctowd7nt4","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsxs("div",{"data-id":"dv75nspr5","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx("h4",{className:"font-medium mb-3","data-id":"ck4xz72ca","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Logging Configuration"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4","data-id":"hpzt89llo","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsxs("div",{className:"space-y-2","data-id":"p85fsalt3","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx("label",{className:"text-sm font-medium","data-id":"7sto30w28","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Log Retention Period"}),t.jsx("div",{className:"p-3 border rounded-md bg-gray-50","data-id":"kg9m8m8dg","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:t.jsx("span",{className:"text-sm","data-id":"60a1g8dwm","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"90 days (recommended)"})})]}),t.jsxs("div",{className:"space-y-2","data-id":"4o8udvk1j","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx("label",{className:"text-sm font-medium","data-id":"n1hr1vrbg","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Log Level"}),t.jsx("div",{className:"p-3 border rounded-md bg-gray-50","data-id":"b5q96h37q","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:t.jsx("span",{className:"text-sm","data-id":"5830ontwb","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Detailed (All Events)"})})]})]})]}),t.jsxs("div",{"data-id":"2rjc6w73d","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx("h4",{className:"font-medium mb-3","data-id":"flv9rnx7k","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Monitored Events"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2","data-id":"mz0z28v0u","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:["Login Attempts","Logout Events","Registration","Password Resets","Data Access","Data Modifications","Permission Changes","Admin Actions","File Uploads","Report Generation","System Errors","Suspicious Activity"].map(s=>t.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded-md","data-id":"3ifp6jr6d","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full","data-id":"7tl7psqcu","data-path":"src/pages/Admin/AuditMonitoring.tsx"}),t.jsx("span",{className:"text-xs","data-id":"fsy0x13p7","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:s})]},s))})]}),t.jsxs("div",{"data-id":"j0dzjgumm","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx("h4",{className:"font-medium mb-3","data-id":"12iqp0f2r","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Export & Compliance"}),t.jsxs("div",{className:"flex flex-wrap gap-2","data-id":"64k8qhs8v","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsxs(b,{variant:"outline",size:"sm","data-id":"l1jcgitfp","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx(st,{className:"h-4 w-4 mr-2","data-id":"h5j1m62fb","data-path":"src/pages/Admin/AuditMonitoring.tsx"}),"Export Weekly Report"]}),t.jsxs(b,{variant:"outline",size:"sm","data-id":"olmm77890","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx(st,{className:"h-4 w-4 mr-2","data-id":"qmad1f9ln","data-path":"src/pages/Admin/AuditMonitoring.tsx"}),"Export Monthly Report"]}),t.jsxs(b,{variant:"outline",size:"sm","data-id":"1zchwvp5c","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx(st,{className:"h-4 w-4 mr-2","data-id":"qh6wioxvy","data-path":"src/pages/Admin/AuditMonitoring.tsx"}),"Compliance Report"]})]})]}),t.jsx("div",{className:"border-t pt-4","data-id":"h64e2zgax","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:t.jsxs("div",{className:"flex items-center justify-between","data-id":"eu33fbfzg","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsxs("div",{"data-id":"9vqov3ix3","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx("h4",{className:"font-medium","data-id":"kvduo06an","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"Audit Logging Status"}),t.jsx("p",{className:"text-sm text-muted-foreground","data-id":"52vzq4n6c","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:"All security events are being monitored and logged"})]}),t.jsxs(p,{className:"bg-green-500 text-white","data-id":"ltju3gj6l","data-path":"src/pages/Admin/AuditMonitoring.tsx",children:[t.jsx(I,{className:"h-3 w-3 mr-1","data-id":"vaogdiewb","data-path":"src/pages/Admin/AuditMonitoring.tsx"}),"Active"]})]})})]})})]})})]})]}):t.jsx(ft,{feature:"Audit Monitoring System",requiredRole:"Administrator","data-id":"13qwurzrr","data-path":"src/pages/Admin/AuditMonitoring.tsx"})},za=Object.freeze(Object.defineProperty({__proto__:null,default:Aa},Symbol.toStringTag,{value:"Module"}));export{za as A,Sa as D,Ca as M,Na as S};
