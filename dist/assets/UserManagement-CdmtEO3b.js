import{j as e}from"./ui-D8yO-OxE.js";import{r as g,R as ra}from"./vendor-XhsmhKu1.js";import{c as ce,h as f,B as x,u as Re,s as ea,S as B,C as _,b as fe,d as ye,f as S,k as Ua,A as wa,g as Ma,m as we,j as Ca,R as aa,T as Aa,n as Pa,o as Te,p as re,q as Na,r as se}from"./index-DRBMqcxT.js";import{I as D}from"./input-O-h5M17i.js";import{D as Se,a as ze,b as qe,c as Oe,d as ka,e as Da,f as ia}from"./dialog--irBdw-G.js";import{S as _e,P as Ea}from"./scroll-area-Gx4_QwVO.js";import{S as Ve}from"./separator-CZaaJG51.js";import{L as v}from"./label-ByQLJlol.js";import{S as F,a as $,b as L,c as I,d as j}from"./select-D0pEHiDr.js";import{T as We,a as Qe,b as Ne,c as ke,A as _a}from"./tabs-DvoIQ_jF.js";import{u as Sa,a as za,B as qa,C as He,b as Oa}from"./use-admin-access-DB076FtM.js";import{S as Fe}from"./square-pen-CBuslv3A.js";import{S as Le}from"./switch-Cl93K1DX.js";import{S as De}from"./settings-DomtpyA4.js";import{U as $e}from"./user-check-BZAs6qns.js";import{B as ge}from"./building-2-7eB0amfx.js";import{F as be}from"./file-text-Btezo_YE.js";import{D as da,X as Pe}from"./use-smart-auth-CvYh4qtq.js";import{U as he}from"./users-B0SoK6Bo.js";import{D as oa}from"./dollar-sign-OBnb8nXG.js";import{B as ca}from"./bar-chart-3-ClOB5LKJ.js";import{P as la}from"./package-qSLSIT0P.js";import{E as Ee}from"./eye-ql1YC_No.js";import{P as Ye}from"./plus-BGEVx4a3.js";import{T as Xe}from"./trash-2-MkbbqPap.js";import{L as Je}from"./loader-2-_jRFAYkw.js";import{R as sa}from"./rotate-ccw-DV9cG8Qf.js";import{S as Ie}from"./search-CuZ6-xMH.js";import{S as ma}from"./save-C9ClsOGX.js";import{C as xe}from"./check-circle-2-DB0FZP1x.js";import{D as Ae}from"./databaseService-De-l3oBE.js";import{C as Fa}from"./calendar-QZkL-AVB.js";import{D as $a}from"./download-CAI3Hb-E.js";import{P as La}from"./printer-DWU32MN3.js";import{U as Ge}from"./user-g6VkGec-.js";import{M as Ia}from"./mail-eUojE_yv.js";import{E as Ba}from"./eye-off-CBf48i3l.js";import"./AuthContext-Bo8HSNc2.js";import{U as ta}from"./user-plus-ByoW7wQ7.js";import{C as Ra}from"./clock-BDUEMJJR.js";import{A as Ta}from"./alert-circle-BtBhanmN.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=ce("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=ce("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=ce("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=ce("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=ce("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=ce("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=ce("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=ce("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Za=({isOpen:V,onClose:H,onSave:p,selectedCount:C,isLoading:l=!1,itemName:N="items",children:E})=>e.jsx(Se,{open:V,onOpenChange:H,"data-id":"33dxiz55a","data-path":"src/components/BatchEditDialog.tsx",children:e.jsxs(ze,{className:"max-w-2xl max-h-[90vh] overflow-y-auto","data-id":"7s33n6491","data-path":"src/components/BatchEditDialog.tsx",children:[e.jsxs(qe,{"data-id":"rakbtj1bb","data-path":"src/components/BatchEditDialog.tsx",children:[e.jsxs(Oe,{className:"flex items-center gap-2","data-id":"2ujf26grh","data-path":"src/components/BatchEditDialog.tsx",children:[e.jsx(Fe,{className:"h-5 w-5","data-id":"aw7s8gcm1","data-path":"src/components/BatchEditDialog.tsx"}),"Batch Edit ",N]}),e.jsxs(ka,{"data-id":"p0vyfnq7j","data-path":"src/components/BatchEditDialog.tsx",children:["Editing"," ",e.jsx(f,{variant:"secondary",className:"mx-1","data-id":"an1h1m5ym","data-path":"src/components/BatchEditDialog.tsx",children:C}),N,". Changes will be applied to all selected items."]})]}),e.jsx("div",{className:"py-4","data-id":"6qcaejntg","data-path":"src/components/BatchEditDialog.tsx",children:E}),e.jsxs(Da,{"data-id":"a27fh47gb","data-path":"src/components/BatchEditDialog.tsx",children:[e.jsx(x,{variant:"outline",onClick:H,disabled:l,"data-id":"077umshvg","data-path":"src/components/BatchEditDialog.tsx",children:"Cancel"}),e.jsx(x,{onClick:p,disabled:l,"data-id":"skgmuchp3","data-path":"src/components/BatchEditDialog.tsx",children:l?"Saving...":`Update ${C} ${N}`})]})]})}),je={view:!1,create:!1,edit:!1,delete:!1,export:!1,print:!1},ie={"Core Operations":[{key:"dashboard",label:"Dashboard",icon:ca,color:"text-blue-600",description:"Main overview and analytics dashboard"},{key:"products",label:"Products Management",icon:la,color:"text-green-600",description:"Manage inventory, pricing, and product information"},{key:"sales_reports",label:"Sales Reports",icon:be,color:"text-orange-600",description:"Daily sales reporting and analytics"}],"Human Resources":[{key:"employees",label:"Employee Management",icon:he,color:"text-purple-600",description:"Manage employee records and information"},{key:"salary",label:"Salary Management",icon:oa,color:"text-yellow-600",description:"Payroll processing and salary records"}],"Business Operations":[{key:"vendors",label:"Vendor Management",icon:ge,color:"text-teal-600",description:"Manage supplier relationships and contacts"},{key:"orders",label:"Order Management",icon:Be,color:"text-indigo-600",description:"Purchase orders and inventory ordering"},{key:"delivery",label:"Delivery Management",icon:Be,color:"text-pink-600",description:"Fuel delivery tracking and management"}],"Compliance & Licensing":[{key:"licenses",label:"Licenses & Certificates",icon:B,color:"text-red-600",description:"Business licenses and regulatory compliance"}],"Inventory & Operations":[{key:"inventory",label:"Inventory Management",icon:da,color:"text-cyan-600",description:"Stock levels, alerts, and gas tank monitoring"}],"System Administration":[{key:"settings",label:"App Settings",icon:De,color:"text-gray-600",description:"Application configuration and preferences"},{key:"user_management",label:"User Management",icon:$e,color:"text-red-600",description:"User accounts and access control"},{key:"site_management",label:"Site Management",icon:ge,color:"text-blue-600",description:"Multi-station configuration and management"},{key:"system_logs",label:"System Logs",icon:be,color:"text-gray-600",description:"System activity and audit trails"},{key:"security_settings",label:"Security Settings",icon:B,color:"text-red-600",description:"Security policies and authentication settings"}]},de=[{key:"view",label:"View",icon:Ee,description:"Can view and access the content",color:"text-blue-600"},{key:"create",label:"Create/Add",icon:Ye,description:"Can create new records using Add buttons",color:"text-green-600"},{key:"edit",label:"Edit",icon:Fe,description:"Can modify existing records using Edit buttons",color:"text-yellow-600"},{key:"delete",label:"Delete",icon:Xe,description:"Can delete records",color:"text-red-600"},{key:"export",label:"Export",icon:be,description:"Can export data to files",color:"text-purple-600"},{key:"print",label:"Print",icon:be,description:"Can print reports and documents",color:"text-indigo-600"}],Ka={Administrator:"Full access to all pages and actions including system administration",Management:"Access to operational pages with limited system administration",Employee:"Basic access to daily operational pages and reports","Station Manager":"Full access to station operations with limited system access",Cashier:"Access to sales reporting and basic inventory viewing",Custom:"Manually configure specific permissions per page"},es=()=>{const[V,H]=g.useState([]),[p,C]=g.useState(null),[l,N]=g.useState({}),[E,R]=g.useState(!0),[d,X]=g.useState(!1),[G,ee]=g.useState(""),[T,te]=g.useState("All"),[y,J]=g.useState("Custom"),[W,Q]=g.useState(!1),{toast:c}=Re();g.useEffect(()=>{w()},[]),g.useEffect(()=>{p&&A(p)},[p]);const w=async()=>{try{R(!0),console.log("Fetching user profiles from database...");const{data:t,error:s}=await ea.from("user_profiles").select("*").eq("is_active",!0).order("id",{ascending:!1}).limit(100);if(s)throw s;const n=t||[];console.log(`Loaded ${n.length} active user profiles`),H(n),n.forEach(i=>{try{const r=i.detailed_permissions?JSON.parse(i.detailed_permissions):{},m=Object.keys(r).length;console.log(`User ${i.employee_id} (${i.role}): ${m} page permissions configured`)}catch{console.log(`User ${i.employee_id} (${i.role}): No valid permissions configured`)}})}catch(t){console.error("Error fetching user profiles:",t),c({title:"Database Error",description:`Failed to fetch user profiles: ${t}`,variant:"destructive"})}finally{R(!1)}},A=t=>{try{if(t.detailed_permissions){const s=JSON.parse(t.detailed_permissions);N(s),J("Custom")}else b(t.role,!1)}catch(s){console.error("Error parsing permissions:",s),b(t.role,!1)}},z=t=>{const s=V.find(n=>n.id.toString()===t);s&&C(s)},Z=(t,s,n)=>{N(i=>({...i,[t]:{...i[t]||je,[s]:n}})),J("Custom")},h=(t,s)=>{const n={...je};switch(s){case"grant_all":de.forEach(i=>{n[i.key]=!0});break;case"view_only":n.view=!0;break}N(i=>({...i,[t]:n})),J("Custom")},Y=(t,s)=>{const n=ie[t]||[],i={...l};n.forEach(r=>{const m={...je};switch(s){case"grant_all":de.forEach(O=>{m[O.key]=!0});break;case"view_only":m.view=!0;break}i[r.key]=m}),N(i),J("Custom")},b=(t,s=!0)=>{const n={};switch(Object.values(ie).flat().forEach(i=>{n[i.key]={...je}}),t){case"Administrator":{Object.keys(n).forEach(i=>{de.forEach(r=>{n[i][r.key]=!0})});break}case"Management":{["dashboard","products","employees","sales_reports","vendors","orders","delivery","licenses","inventory","salary"].forEach(m=>{n[m]&&de.forEach(O=>{n[m][O.key]=!0})}),["settings","user_management"].forEach(m=>{n[m]&&(n[m].view=!0,n[m].edit=!0)});break}case"Station Manager":{["dashboard","products","sales_reports","delivery","inventory"].forEach(m=>{n[m]&&de.forEach(O=>{n[m][O.key]=!0})}),["employees","vendors","orders","licenses","salary"].forEach(m=>{n[m]&&(n[m].view=!0,n[m].export=!0,n[m].print=!0)});break}case"Employee":{["dashboard","sales_reports","delivery"].forEach(m=>{n[m]&&(n[m].view=!0,n[m].create=!0,n[m].edit=!0)}),["products","inventory"].forEach(m=>{n[m]&&(n[m].view=!0)});break}case"Cashier":{n.dashboard.view=!0,n.sales_reports.view=!0,n.sales_reports.create=!0,n.sales_reports.edit=!0,n.sales_reports.print=!0,n.products.view=!0,n.inventory.view=!0;break}default:{n.dashboard.view=!0;break}}N(n),J(t),s&&c({title:"Template Applied",description:`${t} permission template has been applied`})},q=async t=>{const s=V.find(n=>n.id===t);if(s&&s.detailed_permissions)try{const n=JSON.parse(s.detailed_permissions);N(n),J("Custom"),c({title:"Permissions Copied",description:`Permissions copied from ${s.employee_id}`})}catch{c({title:"Error",description:"Failed to copy permissions",variant:"destructive"})}},ne=()=>{const t={};Object.values(ie).flat().forEach(s=>{t[s.key]={...je}}),N(t),J("Custom"),c({title:"Permissions Reset",description:"All permissions have been reset to default (no access)"})},ue=async()=>{if(!p){c({title:"No User Selected",description:"Please select a user first",variant:"destructive"});return}X(!0);try{console.log(`Saving permissions for user ${p.employee_id} (ID: ${p.id})`),console.log("Permissions to save:",l);const t=Object.keys(l).length,s=Object.values(l).filter(r=>r.view).length,n=JSON.stringify(l),{error:i}=await ea.from("user_profiles").update({detailed_permissions:n}).eq("id",p.id);if(i)throw i;console.log(`Successfully saved permissions: ${s}/${t} pages accessible`),c({title:"Permissions Saved",description:`Updated permissions for ${p.employee_id}: ${s}/${t} pages accessible`,variant:"default"}),H(r=>r.map(m=>m.id===p.id?{...m,detailed_permissions:n}:m)),C(r=>r?{...r,detailed_permissions:n}:null)}catch(t){console.error("Error saving permissions:",t),c({title:"Save Failed",description:`Failed to save permissions: ${t}`,variant:"destructive"})}finally{X(!1)}},U=t=>{try{const s=t.detailed_permissions?JSON.parse(t.detailed_permissions):{},n=Object.values(ie).flat().length,i=Object.values(ie).flat().filter(O=>{var ae;return(ae=s[O.key])==null?void 0:ae.view}).length,r=Object.values(ie).flat().filter(O=>{var ae;return(ae=s[O.key])==null?void 0:ae.edit}).length,m=Object.values(ie).flat().filter(O=>{var ae;return(ae=s[O.key])==null?void 0:ae.create}).length;return{summary:`${i}/${n} pages`,details:`View: ${i}, Edit: ${r}, Create: ${m}`,hasAccess:i>0}}catch{return{summary:"No permissions",details:"Invalid permission data",hasAccess:!1}}},P=async()=>{Q(!0);try{await w(),c({title:"Data Refreshed",description:"User profiles and permissions have been refreshed"})}catch{c({title:"Refresh Failed",description:"Failed to refresh user data",variant:"destructive"})}finally{Q(!1)}},o=V.filter(t=>{const s=t.employee_id.toLowerCase().includes(G.toLowerCase())||t.phone.toLowerCase().includes(G.toLowerCase())||t.role.toLowerCase().includes(G.toLowerCase()),n=T==="All"||t.role===T;return s&&n});return E?e.jsx("div",{className:"flex items-center justify-center min-h-64","data-id":"6fnjevpc9","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsx("div",{className:"text-lg","data-id":"1n1bi5i59","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Loading permission management..."})}):e.jsxs("div",{className:"space-y-6","data-id":"10w8r9gms","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsxs("div",{className:"flex items-center justify-between","data-id":"padav1k3k","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsxs("div",{className:"flex items-center space-x-3","data-id":"vdeg5u18n","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(B,{className:"w-8 h-8 text-blue-600","data-id":"51kvokg2n","data-path":"src/components/EnhancedUserPermissionManager.tsx"}),e.jsxs("div",{"data-id":"umktar53m","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-id":"kpk9aj264","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Real-time User Permission Management"}),e.jsx("p",{className:"text-gray-600","data-id":"u2nqa0g4n","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Production-level permission management with database integration"}),e.jsxs("p",{className:"text-sm text-green-600 font-medium","data-id":"wnzpptzk2","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:["✓ Connected to live database - ",V.length," active users"]})]})]}),e.jsx("div",{className:"flex items-center space-x-2","data-id":"xou9lvqty","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsxs(x,{onClick:P,disabled:W,variant:"outline",size:"sm","data-id":"s0joddxtz","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[W?e.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin","data-id":"ovcvadyyi","data-path":"src/components/EnhancedUserPermissionManager.tsx"}):e.jsx(sa,{className:"w-4 h-4 mr-2","data-id":"ceyr6gd0p","data-path":"src/components/EnhancedUserPermissionManager.tsx"}),W?"Refreshing...":"Refresh Data"]})})]}),e.jsxs(_,{"data-id":"n1jdm9k5f","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(fe,{"data-id":"ar1wwrpjt","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsxs(ye,{className:"flex items-center space-x-2","data-id":"qv49bs5rm","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(he,{className:"w-5 h-5","data-id":"08xqgbdov","data-path":"src/components/EnhancedUserPermissionManager.tsx"}),e.jsx("span",{"data-id":"rblwgrduz","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Select User & Apply Templates"})]})}),e.jsxs(S,{className:"space-y-4","data-id":"8i68cb2kv","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4","data-id":"b1bkba8bd","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsxs("div",{className:"relative","data-id":"8h5fpixkm","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(Ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4","data-id":"1e0dsr6n4","data-path":"src/components/EnhancedUserPermissionManager.tsx"}),e.jsx(D,{placeholder:"Search users...",value:G,onChange:t=>ee(t.target.value),className:"pl-10","data-id":"adv8sglcj","data-path":"src/components/EnhancedUserPermissionManager.tsx"})]}),e.jsxs(F,{value:T,onValueChange:te,"data-id":"75rwvxxg4","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx($,{"data-id":"gd8hwxw8l","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsx(L,{placeholder:"Filter by role","data-id":"zae5im0x9","data-path":"src/components/EnhancedUserPermissionManager.tsx"})}),e.jsxs(I,{"data-id":"q2jq592yr","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(j,{value:"All","data-id":"g9xawfmks","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"All Roles"}),e.jsx(j,{value:"Administrator","data-id":"zykvysf17","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Administrator"}),e.jsx(j,{value:"Management","data-id":"wzsgpgz1d","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Management"}),e.jsx(j,{value:"Employee","data-id":"i0uykngwi","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Employee"}),e.jsx(j,{value:"Station Manager","data-id":"a7iu8uppv","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Station Manager"}),e.jsx(j,{value:"Cashier","data-id":"78zop09aq","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Cashier"})]})]}),e.jsxs(F,{onValueChange:z,value:(p==null?void 0:p.id.toString())||"","data-id":"kkffvz7fa","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx($,{"data-id":"h7agem55l","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsx(L,{placeholder:"Select a user to manage permissions","data-id":"ski5mdhu3","data-path":"src/components/EnhancedUserPermissionManager.tsx"})}),e.jsx(I,{"data-id":"z8hpnejs6","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:o.map(t=>{const s=U(t);return e.jsx(j,{value:t.id.toString(),"data-id":"3183hh3bj","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsxs("div",{className:"flex items-center justify-between w-full","data-id":"k5a68otuy","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsxs("div",{className:"flex flex-col","data-id":"u8pyviyfl","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsxs("span",{"data-id":"sshos9mux","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[t.employee_id," - ",t.role]}),e.jsx("span",{className:"text-xs text-gray-500","data-id":"4r5z1kr5y","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:t.station})]}),e.jsxs("div",{className:"flex flex-col items-end","data-id":"8f275sa5u","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(f,{variant:s.hasAccess?"default":"secondary",className:"ml-2","data-id":"3iwchrmbm","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:s.summary}),e.jsx("span",{className:"text-xs text-gray-400 mt-1","data-id":"kvo4a2zo3","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:s.details})]})]})},t.id)})})]})]}),p&&e.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border","data-id":"clw98lmuz","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsxs("div",{className:"flex items-center justify-between","data-id":"af0zp01ss","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsxs("div",{"data-id":"z056rsvz9","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx("h3",{className:"font-semibold text-lg","data-id":"scjm207ld","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:p.employee_id}),e.jsxs("p",{className:"text-sm text-gray-600","data-id":"dtg6sul0s","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:["Role: ",p.role," | Station: ",p.station]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1","data-id":"rf8bqup0e","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:["User ID: ",p.user_id," | Phone: ",p.phone]})]}),e.jsxs("div",{className:"text-right space-y-2","data-id":"ep3n5r7cl","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(f,{className:p.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800","data-id":"dv9vcz2oz","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:p.is_active?"Active":"Inactive"}),e.jsxs("div",{className:"text-xs text-gray-500","data-id":"omqnavwp4","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:["Current: ",y]})]})]})}),p&&e.jsxs("div",{className:"space-y-3","data-id":"1ddkxgsxh","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(v,{className:"text-sm font-medium","data-id":"3g1b1mal9","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Quick Permission Templates"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2","data-id":"ewpwmt7y5","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:Object.entries(Ka).map(([t,s])=>e.jsx(x,{variant:y===t?"default":"outline",size:"sm",onClick:()=>b(t),className:"text-xs h-auto py-2 px-3 flex flex-col items-center space-y-1",title:s,"data-id":"rvhcrc6r8","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsx("span",{className:"font-medium","data-id":"rjtb1t1r7","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:t})},t))}),e.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t","data-id":"qu33p9gib","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsxs(F,{onValueChange:t=>q(parseInt(t)),"data-id":"fg2vunbxy","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsxs($,{className:"w-auto","data-id":"ej26wwbla","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(Ja,{className:"w-4 h-4 mr-2","data-id":"g5nu4jfgy","data-path":"src/components/EnhancedUserPermissionManager.tsx"}),e.jsx(L,{placeholder:"Copy from user...","data-id":"3se1rzkvb","data-path":"src/components/EnhancedUserPermissionManager.tsx"})]}),e.jsx(I,{"data-id":"1uzf6w13b","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:V.filter(t=>t.id!==p.id).map(t=>e.jsxs(j,{value:t.id.toString(),"data-id":"q5et0urd1","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[t.employee_id," (",t.role,")"]},t.id))})]}),e.jsxs(x,{variant:"outline",size:"sm",onClick:ne,className:"text-red-600 hover:text-red-700","data-id":"igi764bpw","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(sa,{className:"w-4 h-4 mr-2","data-id":"lkxosp1dl","data-path":"src/components/EnhancedUserPermissionManager.tsx"}),"Reset All"]})]})]})]})]}),p&&e.jsxs(_,{"data-id":"1dvuxm8a7","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(fe,{"data-id":"qrw9e2lb2","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsxs("div",{className:"flex items-center justify-between","data-id":"xnijrxd9r","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsxs(ye,{className:"flex items-center space-x-2","data-id":"qb27bupt5","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(B,{className:"w-5 h-5","data-id":"cbpqzsmvf","data-path":"src/components/EnhancedUserPermissionManager.tsx"}),e.jsxs("span",{"data-id":"vjbojnuga","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:["Page-Based Permissions for ",p.employee_id]})]}),e.jsxs(x,{onClick:ue,disabled:d||!p,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400","data-id":"809hvi7j2","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[d?e.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin","data-id":"mc3qfpe6x","data-path":"src/components/EnhancedUserPermissionManager.tsx"}):e.jsx(ma,{className:"w-4 h-4 mr-2","data-id":"wz1el6h25","data-path":"src/components/EnhancedUserPermissionManager.tsx"}),d?"Saving to Database...":"Apply & Save Permissions"]})]})}),e.jsxs(S,{"data-id":"p17oa87eq","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsxs(We,{defaultValue:"by-groups",className:"w-full","data-id":"opdz1cm5b","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsxs(Qe,{className:"grid w-full grid-cols-2","data-id":"i2itlzw24","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(Ne,{value:"by-groups","data-id":"nnkko7gsd","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"By Page Groups"}),e.jsx(Ne,{value:"matrix-view","data-id":"a4i9op90g","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Matrix View"})]}),e.jsx(ke,{value:"by-groups",className:"space-y-6","data-id":"pao2tdj0c","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:Object.entries(ie).map(([t,s])=>e.jsxs(_,{className:"border-l-4 border-l-blue-500","data-id":"fy95pn12k","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(fe,{className:"pb-3","data-id":"8xgc9ymhl","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsxs("div",{className:"flex items-center justify-between","data-id":"n1ij3zwfo","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(ye,{className:"text-lg","data-id":"gmoyb64h7","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:t}),e.jsxs("div",{className:"flex space-x-2","data-id":"vnn030err","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsxs(x,{size:"sm",variant:"outline",onClick:()=>Y(t,"view_only"),className:"text-blue-600","data-id":"2tm8n1nto","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(Ee,{className:"w-3 h-3 mr-1","data-id":"xty9ioqrj","data-path":"src/components/EnhancedUserPermissionManager.tsx"}),"View Only"]}),e.jsxs(x,{size:"sm",variant:"outline",onClick:()=>Y(t,"grant_all"),className:"text-green-600","data-id":"78buarcqd","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(xe,{className:"w-3 h-3 mr-1","data-id":"hwpj4xprb","data-path":"src/components/EnhancedUserPermissionManager.tsx"}),"Full Access"]}),e.jsxs(x,{size:"sm",variant:"outline",onClick:()=>Y(t,"revoke_all"),className:"text-red-600","data-id":"v75fnlr25","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(Pe,{className:"w-3 h-3 mr-1","data-id":"zvod5jdx9","data-path":"src/components/EnhancedUserPermissionManager.tsx"}),"No Access"]})]})]})}),e.jsx(S,{"data-id":"d21wl6dzs","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsx("div",{className:"space-y-4","data-id":"21a61yren","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:s.map(n=>{const i=l[n.key]||je;return e.jsxs("div",{className:"border rounded-lg p-4","data-id":"21fxmi61n","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3","data-id":"duasnmbqs","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsxs("div",{className:"flex items-center space-x-3","data-id":"8gkagaawu","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(n.icon,{className:`w-5 h-5 ${n.color}`,"data-id":"huzaadpj7","data-path":"src/components/EnhancedUserPermissionManager.tsx"}),e.jsxs("div",{"data-id":"ipbhkbkdd","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx("h4",{className:"font-medium","data-id":"xzwl0xqrp","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:n.label}),e.jsx("p",{className:"text-xs text-gray-500","data-id":"b7z3qxg6m","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:n.description})]})]}),e.jsxs("div",{className:"flex space-x-2","data-id":"s8hfilisx","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(x,{size:"sm",variant:"outline",onClick:()=>h(n.key,"view_only"),className:"text-blue-600 text-xs px-2 py-1","data-id":"xc0crrn72","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"View Only"}),e.jsx(x,{size:"sm",variant:"outline",onClick:()=>h(n.key,"grant_all"),className:"text-green-600 text-xs px-2 py-1","data-id":"ll5fbw4rz","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsx(xe,{className:"w-3 h-3","data-id":"cvgtp7dxm","data-path":"src/components/EnhancedUserPermissionManager.tsx"})}),e.jsx(x,{size:"sm",variant:"outline",onClick:()=>h(n.key,"revoke_all"),className:"text-red-600 text-xs px-2 py-1","data-id":"32ikpo11g","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsx(Pe,{className:"w-3 h-3","data-id":"rw0wpv64k","data-path":"src/components/EnhancedUserPermissionManager.tsx"})})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3","data-id":"ts6wgbh9a","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:de.map(r=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded","data-id":"hisoja0eg","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(Le,{checked:i[r.key],onCheckedChange:m=>Z(n.key,r.key,m),id:`${n.key}-${r.key}`,"data-id":"mgi5g9h05","data-path":"src/components/EnhancedUserPermissionManager.tsx"}),e.jsxs(v,{htmlFor:`${n.key}-${r.key}`,className:"text-xs cursor-pointer flex items-center space-x-1","data-id":"uz6syb1s4","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(r.icon,{className:`w-3 h-3 ${r.color}`,"data-id":"3q9xcejdu","data-path":"src/components/EnhancedUserPermissionManager.tsx"}),e.jsx("span",{"data-id":"20mwbwuig","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:r.label})]})]},r.key))})]},n.key)})})})]},t))}),e.jsx(ke,{value:"matrix-view","data-id":"8wu1en64l","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsx("div",{className:"overflow-x-auto","data-id":"kr8ml6n2a","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsxs("table",{className:"w-full border-collapse border","data-id":"hgnqoxn9m","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx("thead",{className:"sticky top-0 bg-white z-10","data-id":"uj4rvjdyb","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsxs("tr",{className:"border-b","data-id":"7o752nmgl","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx("th",{className:"text-left p-3 font-semibold bg-white border","data-id":"dze59nl6l","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Page"}),de.map(t=>e.jsx("th",{className:"text-center p-3 font-semibold min-w-20 bg-white border","data-id":"kvgcru78t","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsxs("div",{className:"flex flex-col items-center space-y-1","data-id":"utr1l7vtj","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(t.icon,{className:`w-4 h-4 ${t.color}`,"data-id":"w89jq4kwo","data-path":"src/components/EnhancedUserPermissionManager.tsx"}),e.jsx("span",{className:"text-xs","data-id":"m2cputfa5","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:t.label})]})},t.key)),e.jsx("th",{className:"text-center p-3 font-semibold bg-white border","data-id":"3dzr73pe3","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Quick Actions"})]})}),e.jsx("tbody",{"data-id":"swzjp4sxu","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:Object.entries(ie).map(([t,s])=>e.jsxs(ra.Fragment,{"data-id":"736c6gb39","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx("tr",{className:"bg-gray-100","data-id":"koktuu9ze","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsx("td",{colSpan:de.length+2,className:"p-2 font-semibold text-sm border","data-id":"m7ql1puop","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:t})}),s.map(n=>{const i=l[n.key]||je;return e.jsxs("tr",{className:"border-b hover:bg-gray-50","data-id":"wson7ysnu","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx("td",{className:"p-3 border","data-id":"8y8evko3u","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsxs("div",{className:"flex items-center space-x-3","data-id":"niiq2ke0d","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(n.icon,{className:`w-4 h-4 ${n.color}`,"data-id":"76s377sqe","data-path":"src/components/EnhancedUserPermissionManager.tsx"}),e.jsxs("div",{"data-id":"nyyo2dvlc","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx("span",{className:"font-medium text-sm","data-id":"75es75djg","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:n.label}),e.jsx("p",{className:"text-xs text-gray-500","data-id":"swv94siap","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:n.description})]})]})}),de.map(r=>e.jsx("td",{className:"text-center p-3 border","data-id":"ysow3myla","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsx(Le,{checked:i[r.key],onCheckedChange:m=>Z(n.key,r.key,m),"data-id":"zgt53qv12","data-path":"src/components/EnhancedUserPermissionManager.tsx"})},r.key)),e.jsx("td",{className:"text-center p-3 border","data-id":"6pa4pswm5","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsxs("div",{className:"flex space-x-1 justify-center","data-id":"g6a59hbfm","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(x,{size:"sm",variant:"outline",onClick:()=>h(n.key,"grant_all"),className:"text-green-600 hover:text-green-700",title:"Grant all permissions","data-id":"gsjoimdvz","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsx(xe,{className:"w-3 h-3","data-id":"qxr82eth3","data-path":"src/components/EnhancedUserPermissionManager.tsx"})}),e.jsx(x,{size:"sm",variant:"outline",onClick:()=>h(n.key,"revoke_all"),className:"text-red-600 hover:text-red-700",title:"Revoke all permissions","data-id":"zzs54gnyn","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsx(Pe,{className:"w-3 h-3","data-id":"dow5i2bho","data-path":"src/components/EnhancedUserPermissionManager.tsx"})})]})})]},n.key)})]},t))})]})})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200","data-id":"5xv2y8uk5","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsxs("h4",{className:"font-semibold mb-3 flex items-center","data-id":"9e91fspzk","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(xe,{className:"w-4 h-4 mr-2 text-green-600","data-id":"hlsrnqef7","data-path":"src/components/EnhancedUserPermissionManager.tsx"}),"Live Permission Management Status"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm","data-id":"o2c127mv9","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsxs("div",{"data-id":"45g1eojbi","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx("p",{className:"font-medium mb-2 text-green-700","data-id":"utsji1o28","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Real-time Features:"}),e.jsxs("ul",{className:"space-y-1 text-gray-600","data-id":"o45hosy0n","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsxs("li",{"data-id":"0qyip4n8c","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:["✓ ",e.jsx("strong",{"data-id":"un5jls8u6","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Live Database:"})," Direct integration with user_profiles table"]}),e.jsxs("li",{"data-id":"cuuigosg3","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:["✓ ",e.jsx("strong",{"data-id":"pp4xc83v5","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Instant Updates:"})," Changes applied immediately"]}),e.jsxs("li",{"data-id":"8nk8s5txu","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:["✓ ",e.jsx("strong",{"data-id":"p9gftmcr4","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Production Ready:"})," No fake data or mock content"]})]})]}),e.jsxs("div",{"data-id":"n8ddzcz1o","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx("p",{className:"font-medium mb-2 text-blue-700","data-id":"4cytg8ai6","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Current User:"}),p?e.jsxs("div",{className:"space-y-1","data-id":"znugouu3d","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(f,{variant:"default",className:"mb-1","data-id":"7pho6k29t","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:p.employee_id}),e.jsxs("p",{className:"text-xs text-gray-600","data-id":"iine48raj","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:["Role: ",p.role]}),e.jsxs("p",{className:"text-xs text-gray-600","data-id":"rg6zd37g9","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:["Station: ",p.station]}),e.jsxs("p",{className:"text-xs text-gray-600","data-id":"sl5fg4va2","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:["Template: ",y]})]}):e.jsx("p",{className:"text-gray-500 text-xs","data-id":"mr64qja8x","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"No user selected"})]}),e.jsxs("div",{"data-id":"94v5cevd8","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx("p",{className:"font-medium mb-2 text-purple-700","data-id":"rs8ypygtu","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Permission Stats:"}),p?e.jsx("div",{className:"space-y-1","data-id":"so1yufab8","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:(()=>{const t=U(p);return e.jsxs("div",{"data-id":"7rx17hmdd","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx(f,{variant:"outline",className:"mb-1","data-id":"rpujmmfh5","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:t.summary}),e.jsx("p",{className:"text-xs text-gray-600","data-id":"higpvnm7y","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:t.details}),e.jsx("p",{className:"text-xs text-green-600 mt-1","data-id":"5zxfqslen","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"✓ Permissions loaded from database"})]})})()}):e.jsx("p",{className:"text-gray-500 text-xs","data-id":"bpv99edfn","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Select a user to view permission stats"})]})]}),e.jsx("div",{className:"mt-4 pt-3 border-t border-green-200","data-id":"kxo2fzg11","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:e.jsxs("p",{className:"text-xs text-gray-600","data-id":"pkx8mnd25","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:[e.jsx("strong",{"data-id":"2ytwsqt8w","data-path":"src/components/EnhancedUserPermissionManager.tsx",children:"Important:"}),' All permission changes are saved directly to the production database. Make sure to click "Apply & Save Permissions" to commit your changes.']})})]})]})]})]})},Me={view:!1,create:!1,edit:!1,delete:!1,export:!1,print:!1,approve:!1,bulk_operations:!1,advanced_features:!1},Ce={"Core Operations":[{key:"dashboard",label:"Dashboard",icon:ca,color:"text-blue-600",description:"Main overview, analytics, quick access toolbar",features:["View reports","Quick actions","Analytics widgets"]},{key:"products",label:"Products Management",icon:la,color:"text-green-600",description:"Product inventory, pricing, barcode scanning",features:["Add/Edit products","Barcode scanning","Price management","Stock tracking"]},{key:"product_form",label:"Product Form",icon:Fe,color:"text-green-500",description:"Add and edit individual product records",features:["Product creation","Information editing","File uploads"]}],"Sales & Reporting":[{key:"sales_reports",label:"Sales Reports List",icon:be,color:"text-orange-600",description:"Daily sales reporting, enhanced print dialogs",features:["View sales reports","Print enhanced reports","Export data"]},{key:"sales_report_form",label:"Sales Report Form",icon:Fe,color:"text-orange-500",description:"Create and edit daily sales reports",features:["Gas/grocery sales","Lottery sales","Expenses","Document uploads","Cash collection"]}],"Human Resources":[{key:"employees",label:"Employee List",icon:he,color:"text-purple-600",description:"Employee records and information management",features:["View employees","Add/Edit employees","Search/Filter"]},{key:"employee_form",label:"Employee Form",icon:$e,color:"text-purple-500",description:"Add and edit employee records with file uploads",features:["Employee creation","Document uploads","Contact management"]},{key:"salary",label:"Salary List",icon:oa,color:"text-yellow-600",description:"Payroll processing and salary records",features:["View salary records","Pay period management","Export reports"]},{key:"salary_form",label:"Salary Form",icon:Fa,color:"text-yellow-500",description:"Create and edit salary records",features:["Payroll processing","Deduction calculations","Pay period setup"]}],"Business Operations":[{key:"vendors",label:"Vendor List",icon:ge,color:"text-teal-600",description:"Supplier relationships and vendor contacts",features:["View vendors","Add/Edit vendors","Contact management"]},{key:"vendor_form",label:"Vendor Form",icon:ge,color:"text-teal-500",description:"Add and edit vendor information",features:["Vendor creation","Contact details","Payment terms"]},{key:"orders",label:"Order List",icon:Be,color:"text-indigo-600",description:"Purchase orders and inventory ordering",features:["View orders","Order tracking","Status management"]},{key:"order_form",label:"Order Form",icon:Va,color:"text-indigo-500",description:"Create and edit purchase orders",features:["Order creation","Item selection","Vendor management"]}],"Delivery & Inventory":[{key:"delivery",label:"Delivery List",icon:Be,color:"text-pink-600",description:"Fuel delivery tracking with enhanced print dialogs",features:["View deliveries","Enhanced print reports","BOL tracking"]},{key:"delivery_form",label:"Delivery Form",icon:Wa,color:"text-pink-500",description:"Create and edit delivery records",features:["Delivery creation","Tank volume tracking","BOL management"]},{key:"inventory_alerts",label:"Inventory Alerts",icon:Ha,color:"text-red-600",description:"Stock level alerts and notifications",features:["View alerts","Stock monitoring","Alert management"]},{key:"alert_settings",label:"Alert Settings",icon:De,color:"text-red-500",description:"Configure inventory alert thresholds",features:["Alert configuration","Threshold settings","Notification preferences"]},{key:"gas_delivery_inventory",label:"Gas Delivery Inventory",icon:da,color:"text-cyan-600",description:"Gas tank monitoring and delivery tracking",features:["Tank levels","Delivery tracking","Volume calculations"]}],"Compliance & Licensing":[{key:"licenses",label:"License List",icon:B,color:"text-red-600",description:"Business licenses and regulatory compliance with enhanced print",features:["View licenses","Enhanced print dialogs","Expiry tracking"]},{key:"license_form",label:"License Form",icon:Ga,color:"text-red-500",description:"Add and edit license records with file uploads",features:["License creation","Document uploads","Expiry management"]}],"System Administration":[{key:"settings",label:"App Settings",icon:De,color:"text-gray-600",description:"Application configuration, image compression, demo features",features:["App configuration","Image compression settings","System preferences"]},{key:"user_management",label:"User Management",icon:$e,color:"text-red-600",description:"User accounts, permission management, enhanced controls",features:["User accounts","Permission management","Enhanced controls"]},{key:"site_management",label:"Site Management",icon:ge,color:"text-blue-600",description:"Multi-station configuration and management",features:["Station configuration","Site settings","Multi-location management"]},{key:"system_logs",label:"System Logs",icon:be,color:"text-gray-600",description:"System activity and audit trails",features:["Activity logs","Audit trails","System monitoring"]},{key:"security_settings",label:"Security Settings",icon:B,color:"text-red-600",description:"Security policies and authentication settings",features:["Security policies","Authentication settings","Access controls"]}]},oe=[{key:"view",label:"View",icon:Ee,description:"Can view and access the page/content",color:"text-blue-600"},{key:"create",label:"Add/Create",icon:Ye,description:"Can use Add buttons and create new records",color:"text-green-600"},{key:"edit",label:"Edit/Modify",icon:Fe,description:"Can use Edit buttons and modify existing records",color:"text-yellow-600"},{key:"delete",label:"Delete",icon:Xe,description:"Can delete records and use delete buttons",color:"text-red-600"},{key:"export",label:"Export",icon:$a,description:"Can export data to files (CSV, Excel, etc.)",color:"text-purple-600"},{key:"print",label:"Print",icon:La,description:"Can print reports and use enhanced print dialogs",color:"text-indigo-600"},{key:"approve",label:"Approve",icon:xe,description:"Can approve transactions and records",color:"text-green-700"},{key:"bulk_operations",label:"Bulk Ops",icon:Qa,description:"Can perform bulk operations on multiple records",color:"text-orange-600"},{key:"advanced_features",label:"Advanced",icon:De,description:"Can access advanced features and configurations",color:"text-gray-700"}],na={Administrator:"Full system access including all pages, buttons, and administrative functions",Management:"Full operational access with limited system administration capabilities","Station Manager":"Complete station operations with inventory, sales, and delivery management",Employee:"Basic operational access to daily tasks and reporting",Cashier:"Sales reporting and basic inventory viewing with limited editing",Custom:"Manually configured permissions for specific business needs"},as=({trigger:V,selectedUserId:H})=>{const[p,C]=g.useState([]),[l,N]=g.useState(null),[E,R]=g.useState({}),[d,X]=g.useState(!0),[G,ee]=g.useState(!1),[T,te]=g.useState(""),[y,J]=g.useState("All"),[W,Q]=g.useState("Custom"),[c,w]=g.useState(!1),{toast:A}=Re();g.useEffect(()=>{c&&z()},[c]),g.useEffect(()=>{l&&Z(l)},[l]),g.useEffect(()=>{if(H&&p.length>0){const o=p.find(t=>t.id===H);o&&N(o)}},[H,p]);const z=async()=>{try{X(!0);const{data:o,error:t}=await Ae.tablePage(11725,{PageNo:1,PageSize:100,OrderByField:"id",IsAsc:!1,Filters:[]});if(t)throw t;C((o==null?void 0:o.List)||[])}catch(o){console.error("Error fetching user profiles:",o),A({title:"Error",description:`Failed to fetch user profiles: ${o}`,variant:"destructive"})}finally{X(!1)}},Z=o=>{try{if(o.detailed_permissions){const t=JSON.parse(o.detailed_permissions);R(t),Q("Custom")}else ne(o.role,!1)}catch(t){console.error("Error parsing permissions:",t),ne(o.role,!1)}},h=o=>{const t=p.find(s=>s.id.toString()===o);t&&N(t)},Y=(o,t,s)=>{R(n=>({...n,[o]:{...n[o]||Me,[t]:s}})),Q("Custom")},b=(o,t)=>{const s={...Me};switch(t){case"grant_all":oe.forEach(n=>{s[n.key]=!0});break;case"operational":s.view=!0,s.create=!0,s.edit=!0,s.export=!0,s.print=!0;break;case"view_only":s.view=!0,s.export=!0;break}R(n=>({...n,[o]:s})),Q("Custom")},q=(o,t)=>{const s=Ce[o]||[],n={...E};s.forEach(i=>{const r={...Me};switch(t){case"grant_all":oe.forEach(m=>{r[m.key]=!0});break;case"operational":r.view=!0,r.create=!0,r.edit=!0,r.export=!0,r.print=!0;break;case"view_only":r.view=!0,r.export=!0;break}n[i.key]=r}),R(n),Q("Custom")},ne=(o,t=!0)=>{const s={};switch(Object.values(Ce).flat().forEach(n=>{s[n.key]={...Me}}),o){case"Administrator":Object.keys(s).forEach(n=>{oe.forEach(i=>{s[n][i.key]=!0})});break;case"Management":{["dashboard","products","product_form","employees","employee_form","sales_reports","sales_report_form","vendors","vendor_form","orders","order_form","delivery","delivery_form","licenses","license_form","inventory_alerts","alert_settings","gas_delivery_inventory","salary","salary_form"].forEach(r=>{s[r]&&oe.forEach(m=>{s[r][m.key]=!0})}),["settings","user_management"].forEach(r=>{s[r]&&(s[r].view=!0,s[r].edit=!0,s[r].export=!0)});break}case"Station Manager":{["dashboard","products","product_form","sales_reports","sales_report_form","delivery","delivery_form","inventory_alerts","alert_settings","gas_delivery_inventory"].forEach(r=>{s[r]&&oe.slice(0,6).forEach(m=>{s[r][m.key]=!0})}),["employees","employee_form","vendors","vendor_form","orders","order_form","licenses","license_form","salary"].forEach(r=>{s[r]&&(s[r].view=!0,s[r].export=!0,s[r].print=!0)});break}case"Employee":{["dashboard","sales_reports","sales_report_form","delivery","delivery_form"].forEach(r=>{s[r]&&(s[r].view=!0,s[r].create=!0,s[r].edit=!0,s[r].print=!0)}),["products","inventory_alerts","gas_delivery_inventory"].forEach(r=>{s[r]&&(s[r].view=!0)});break}case"Cashier":{s.dashboard.view=!0,s.sales_reports.view=!0,s.sales_reports.export=!0,s.sales_reports.print=!0,s.sales_report_form.view=!0,s.sales_report_form.create=!0,s.sales_report_form.edit=!0,s.products.view=!0,s.inventory_alerts.view=!0,s.gas_delivery_inventory.view=!0;break}default:{s.dashboard.view=!0;break}}R(s),Q(o),t&&A({title:"Template Applied",description:`${o} permission template has been applied`})},ue=async()=>{if(l){ee(!0);try{const{error:o}=await Ae.tableUpdate(11725,{id:l.id,detailed_permissions:JSON.stringify(E)});if(o)throw o;A({title:"Success",description:"User permissions updated successfully"}),C(t=>t.map(s=>s.id===l.id?{...s,detailed_permissions:JSON.stringify(E)}:s))}catch(o){console.error("Error saving permissions:",o),A({title:"Error",description:`Failed to save permissions: ${o}`,variant:"destructive"})}finally{ee(!1)}}},U=o=>{try{const t=o.detailed_permissions?JSON.parse(o.detailed_permissions):{},s=Object.values(Ce).flat().length;return`${Object.values(Ce).flat().filter(i=>{var r;return(r=t[i.key])==null?void 0:r.view}).length}/${s}`}catch{return"0"}},P=p.filter(o=>{const t=o.employee_id.toLowerCase().includes(T.toLowerCase())||o.phone.toLowerCase().includes(T.toLowerCase())||o.role.toLowerCase().includes(T.toLowerCase()),s=y==="All"||o.role===y;return t&&s});return e.jsxs(Se,{open:c,onOpenChange:w,"data-id":"65ijpc519","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(ia,{asChild:!0,"data-id":"w0p2pa39c","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:V}),e.jsxs(ze,{className:"max-w-7xl h-[90vh] overflow-hidden","data-id":"57swavewo","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(qe,{"data-id":"3q72qb9qv","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsxs(Oe,{className:"flex items-center space-x-2","data-id":"miwd1ea8c","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(B,{className:"w-6 h-6 text-blue-600","data-id":"17al0u436","data-path":"src/components/ComprehensivePermissionDialog.tsx"}),e.jsx("span",{"data-id":"jruh2d8ww","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"Comprehensive User Permission Management"})]})}),e.jsx("div",{className:"flex-1 overflow-hidden","data-id":"2sjgfn073","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsx(_e,{className:"h-full","data-id":"d42nlfv1b","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsxs("div",{className:"space-y-6 pr-4","data-id":"rdfabz9dm","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsxs(_,{"data-id":"t64xa0b1n","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(fe,{"data-id":"dhcxbs3ge","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsxs(ye,{className:"flex items-center space-x-2","data-id":"kkrzm8l67","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(he,{className:"w-5 h-5","data-id":"a1aotr2ha","data-path":"src/components/ComprehensivePermissionDialog.tsx"}),e.jsx("span",{"data-id":"0ayes67ja","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"Select User & Apply Templates"})]})}),e.jsx(S,{className:"space-y-4","data-id":"xjkuoqmy1","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:d?e.jsx("div",{className:"text-center py-4","data-id":"i81u1xj05","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"Loading users..."}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4","data-id":"cx8swhnw9","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsxs("div",{className:"relative","data-id":"oo6z6tn8s","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(Ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4","data-id":"tf16uj5b5","data-path":"src/components/ComprehensivePermissionDialog.tsx"}),e.jsx(D,{placeholder:"Search users...",value:T,onChange:o=>te(o.target.value),className:"pl-10","data-id":"m1qq0gdib","data-path":"src/components/ComprehensivePermissionDialog.tsx"})]}),e.jsxs(F,{value:y,onValueChange:J,"data-id":"7uph4xx10","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx($,{"data-id":"j2ezsex0m","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsx(L,{placeholder:"Filter by role","data-id":"ibg5dgg8z","data-path":"src/components/ComprehensivePermissionDialog.tsx"})}),e.jsxs(I,{"data-id":"hmdfkprmq","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(j,{value:"All","data-id":"8ajr5gqng","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"All Roles"}),e.jsx(j,{value:"Administrator","data-id":"10qhcjbcr","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"Administrator"}),e.jsx(j,{value:"Management","data-id":"540yf0ibw","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"Management"}),e.jsx(j,{value:"Station Manager","data-id":"vfq0gv00q","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"Station Manager"}),e.jsx(j,{value:"Employee","data-id":"sqiw8k60h","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"Employee"}),e.jsx(j,{value:"Cashier","data-id":"m1ismj212","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"Cashier"})]})]}),e.jsxs(F,{onValueChange:h,value:(l==null?void 0:l.id.toString())||"","data-id":"1z0d2krv5","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx($,{"data-id":"bpoyr3pkf","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsx(L,{placeholder:"Select user to manage","data-id":"e05ckscra","data-path":"src/components/ComprehensivePermissionDialog.tsx"})}),e.jsx(I,{"data-id":"89ugdlkz6","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:P.map(o=>e.jsx(j,{value:o.id.toString(),"data-id":"r9v6xw1f9","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsxs("div",{className:"flex items-center justify-between w-full","data-id":"i7kxkslmq","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsxs("span",{"data-id":"7ufhbumdf","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[o.employee_id," - ",o.role]}),e.jsx(f,{variant:"outline",className:"ml-2","data-id":"bzw0hdu9q","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:U(o)})]})},o.id))})]})]}),l&&e.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border","data-id":"vrmad2njy","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsxs("div",{className:"flex items-center justify-between","data-id":"3qatnapuy","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsxs("div",{"data-id":"23a415qib","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx("h3",{className:"font-semibold text-lg","data-id":"3bzgl6siv","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:l.employee_id}),e.jsxs("p",{className:"text-sm text-gray-600","data-id":"a54ozgoag","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:["Role: ",l.role," | Station: ",l.station]})]}),e.jsxs("div",{className:"text-right space-y-2","data-id":"gwc6gfbor","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(f,{className:l.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800","data-id":"aqq4duvno","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:l.is_active?"Active":"Inactive"}),e.jsxs("div",{className:"text-xs text-gray-500","data-id":"ji6s5oo5e","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:["Template: ",W]})]})]})}),l&&e.jsxs("div",{className:"space-y-3","data-id":"rpfkktohg","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(v,{className:"text-sm font-medium","data-id":"ztjbw2uz4","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"Quick Permission Templates"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2","data-id":"ijl9kw5mn","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:Object.entries(na).map(([o,t])=>e.jsx(x,{variant:W===o?"default":"outline",size:"sm",onClick:()=>ne(o),className:"text-xs h-auto py-2 px-3 flex flex-col items-center space-y-1",title:t,"data-id":"lcb8g35zr","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsx("span",{className:"font-medium","data-id":"0r23yrq60","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:o})},o))})]})]})})]}),l&&e.jsxs(_,{"data-id":"m50cf9ils","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(fe,{"data-id":"1nyq616tl","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsxs("div",{className:"flex items-center justify-between","data-id":"v194dmy7d","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsxs(ye,{className:"flex items-center space-x-2","data-id":"mmtj50py7","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(B,{className:"w-5 h-5","data-id":"2pkyq4epm","data-path":"src/components/ComprehensivePermissionDialog.tsx"}),e.jsxs("span",{"data-id":"42qpmtixd","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:["Detailed Permissions for ",l.employee_id]})]}),e.jsxs(x,{onClick:ue,disabled:G,className:"bg-blue-600 hover:bg-blue-700","data-id":"ih2t9uox4","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(ma,{className:"w-4 h-4 mr-2","data-id":"rv3ebknf7","data-path":"src/components/ComprehensivePermissionDialog.tsx"}),G?"Saving...":"Save Permissions"]})]})}),e.jsxs(S,{"data-id":"5xbl3su13","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsxs(We,{defaultValue:"by-groups",className:"w-full","data-id":"z2owbua49","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsxs(Qe,{className:"grid w-full grid-cols-2","data-id":"tulwshqgk","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(Ne,{value:"by-groups","data-id":"g8bs793wa","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"By Page Groups"}),e.jsx(Ne,{value:"matrix-view","data-id":"ljq0qswwu","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"Matrix View"})]}),e.jsx(ke,{value:"by-groups",className:"space-y-6","data-id":"rwjh785eb","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:Object.entries(Ce).map(([o,t])=>e.jsxs(_,{className:"border-l-4 border-l-blue-500","data-id":"na9jpmpg4","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(fe,{className:"pb-3","data-id":"bkev4dcl5","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsxs("div",{className:"flex items-center justify-between","data-id":"vjouhlp6a","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(ye,{className:"text-lg","data-id":"fd0j4qppm","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:o}),e.jsxs("div",{className:"flex space-x-2","data-id":"b7m3lb4f0","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsxs(x,{size:"sm",variant:"outline",onClick:()=>q(o,"view_only"),className:"text-blue-600","data-id":"0eoiyw2pn","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(Ee,{className:"w-3 h-3 mr-1","data-id":"p4m33kjzb","data-path":"src/components/ComprehensivePermissionDialog.tsx"}),"View Only"]}),e.jsxs(x,{size:"sm",variant:"outline",onClick:()=>q(o,"operational"),className:"text-orange-600","data-id":"1jl677xrm","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(De,{className:"w-3 h-3 mr-1","data-id":"63er8dh1i","data-path":"src/components/ComprehensivePermissionDialog.tsx"}),"Operational"]}),e.jsxs(x,{size:"sm",variant:"outline",onClick:()=>q(o,"grant_all"),className:"text-green-600","data-id":"2ywtbeiwj","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(xe,{className:"w-3 h-3 mr-1","data-id":"t1khxcta1","data-path":"src/components/ComprehensivePermissionDialog.tsx"}),"Full Access"]}),e.jsxs(x,{size:"sm",variant:"outline",onClick:()=>q(o,"revoke_all"),className:"text-red-600","data-id":"mjo6qnoyc","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(Pe,{className:"w-3 h-3 mr-1","data-id":"ek7vo82yj","data-path":"src/components/ComprehensivePermissionDialog.tsx"}),"No Access"]})]})]})}),e.jsx(S,{"data-id":"b9qt7grgh","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsx("div",{className:"space-y-4","data-id":"d9p2qu1t2","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:t.map(s=>{const n=E[s.key]||Me;return e.jsxs("div",{className:"border rounded-lg p-4","data-id":"amfgv2emn","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3","data-id":"vwu5vr6dt","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsxs("div",{className:"flex items-center space-x-3","data-id":"5h6m5331o","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(s.icon,{className:`w-5 h-5 ${s.color}`,"data-id":"425c757qk","data-path":"src/components/ComprehensivePermissionDialog.tsx"}),e.jsxs("div",{"data-id":"9gklx3f6c","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx("h4",{className:"font-medium","data-id":"fkdwkjvjp","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:s.label}),e.jsx("p",{className:"text-xs text-gray-500","data-id":"7t2womzw1","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:s.description}),s.features&&e.jsx("div",{className:"mt-1","data-id":"x929q0kqd","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:s.features.map((i,r)=>e.jsx(f,{variant:"outline",className:"text-xs mr-1 mb-1","data-id":"nocf6qsat","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:i},r))})]})]}),e.jsxs("div",{className:"flex space-x-1","data-id":"uttldrycc","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(x,{size:"sm",variant:"outline",onClick:()=>b(s.key,"view_only"),className:"text-blue-600 text-xs px-2 py-1","data-id":"drea5ej0p","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"View"}),e.jsx(x,{size:"sm",variant:"outline",onClick:()=>b(s.key,"operational"),className:"text-orange-600 text-xs px-2 py-1","data-id":"hiteu6adm","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"Ops"}),e.jsx(x,{size:"sm",variant:"outline",onClick:()=>b(s.key,"grant_all"),className:"text-green-600 text-xs px-2 py-1","data-id":"zezd2358l","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsx(xe,{className:"w-3 h-3","data-id":"wjnc3u6s8","data-path":"src/components/ComprehensivePermissionDialog.tsx"})}),e.jsx(x,{size:"sm",variant:"outline",onClick:()=>b(s.key,"revoke_all"),className:"text-red-600 text-xs px-2 py-1","data-id":"459fs5oxp","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsx(Pe,{className:"w-3 h-3","data-id":"y646avx3x","data-path":"src/components/ComprehensivePermissionDialog.tsx"})})]})]}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-9 gap-3","data-id":"r2aksgd4v","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:oe.map(i=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded","data-id":"97lela3ds","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(Le,{checked:n[i.key]||!1,onCheckedChange:r=>Y(s.key,i.key,r),id:`${s.key}-${i.key}`,"data-id":"7yntyt1zu","data-path":"src/components/ComprehensivePermissionDialog.tsx"}),e.jsxs(v,{htmlFor:`${s.key}-${i.key}`,className:"text-xs cursor-pointer flex items-center space-x-1","data-id":"hbth1zjx7","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(i.icon,{className:`w-3 h-3 ${i.color}`,"data-id":"52115gmps","data-path":"src/components/ComprehensivePermissionDialog.tsx"}),e.jsx("span",{"data-id":"1ke0hot6s","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:i.label})]})]},i.key))})]},s.key)})})})]},o))}),e.jsx(ke,{value:"matrix-view","data-id":"2m4m8h65q","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsx("div",{className:"overflow-x-auto","data-id":"gm1jgog86","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsxs("table",{className:"w-full border-collapse border","data-id":"oclvx4nvd","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx("thead",{className:"sticky top-0 bg-white z-10","data-id":"l97e6jtm6","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsxs("tr",{className:"border-b","data-id":"vhg1dacuc","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx("th",{className:"text-left p-3 font-semibold bg-white border min-w-48","data-id":"ilea1axjs","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"Page"}),oe.map(o=>e.jsx("th",{className:"text-center p-3 font-semibold min-w-20 bg-white border","data-id":"buwz8ws85","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsxs("div",{className:"flex flex-col items-center space-y-1","data-id":"6n4ljevv7","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(o.icon,{className:`w-4 h-4 ${o.color}`,"data-id":"jxmk61pl0","data-path":"src/components/ComprehensivePermissionDialog.tsx"}),e.jsx("span",{className:"text-xs","data-id":"u01sfky5w","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:o.label})]})},o.key)),e.jsx("th",{className:"text-center p-3 font-semibold bg-white border","data-id":"z44dq8444","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"Quick Actions"})]})}),e.jsx("tbody",{"data-id":"jiyb20u9g","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:Object.entries(Ce).map(([o,t])=>e.jsxs(ra.Fragment,{"data-id":"9ifr6svyw","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx("tr",{className:"bg-gray-100","data-id":"ame0uo5lj","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsx("td",{colSpan:oe.length+2,className:"p-2 font-semibold text-sm border","data-id":"5ycrcryrk","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:o})}),t.map(s=>{const n=E[s.key]||Me;return e.jsxs("tr",{className:"border-b hover:bg-gray-50","data-id":"nvvxoe8jm","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx("td",{className:"p-3 border","data-id":"we88sfb8s","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsxs("div",{className:"flex items-center space-x-3","data-id":"9foxjqckw","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(s.icon,{className:`w-4 h-4 ${s.color}`,"data-id":"3w6vgxh8w","data-path":"src/components/ComprehensivePermissionDialog.tsx"}),e.jsxs("div",{"data-id":"aavaiv7nk","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx("span",{className:"font-medium text-sm","data-id":"p3yz4wlxk","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:s.label}),e.jsx("p",{className:"text-xs text-gray-500","data-id":"o3hxwrc6j","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:s.description})]})]})}),oe.map(i=>e.jsx("td",{className:"text-center p-3 border","data-id":"hd295cxad","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsx(Le,{checked:n[i.key]||!1,onCheckedChange:r=>Y(s.key,i.key,r),"data-id":"tvu9zocux","data-path":"src/components/ComprehensivePermissionDialog.tsx"})},i.key)),e.jsx("td",{className:"text-center p-3 border","data-id":"d5sdjeo3s","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsxs("div",{className:"flex space-x-1 justify-center","data-id":"vt741ur4x","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(x,{size:"sm",variant:"outline",onClick:()=>b(s.key,"grant_all"),className:"text-green-600 hover:text-green-700",title:"Grant all permissions","data-id":"zx1txtzki","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsx(xe,{className:"w-3 h-3","data-id":"nitlki05w","data-path":"src/components/ComprehensivePermissionDialog.tsx"})}),e.jsx(x,{size:"sm",variant:"outline",onClick:()=>b(s.key,"revoke_all"),className:"text-red-600 hover:text-red-700",title:"Revoke all permissions","data-id":"dgzg4e49t","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:e.jsx(Pe,{className:"w-3 h-3","data-id":"z9z3k64lt","data-path":"src/components/ComprehensivePermissionDialog.tsx"})})]})})]},s.key)})]},o))})]})})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg","data-id":"romfo2syl","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsxs("h4",{className:"font-semibold mb-3 flex items-center","data-id":"ocpgwi9k8","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx(Ua,{className:"w-4 h-4 mr-2 text-blue-600","data-id":"nc6feid33","data-path":"src/components/ComprehensivePermissionDialog.tsx"}),"Permission Summary & Add/Edit Button Controls"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm","data-id":"pwwle4ecx","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsxs("div",{"data-id":"k5mes00mw","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx("p",{className:"font-medium mb-2","data-id":"ekez0lf4s","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"Button Controls:"}),e.jsxs("ul",{className:"space-y-1 text-gray-600","data-id":"s5batcs6o","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsxs("li",{"data-id":"fv0r1ve3m","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:["• ",e.jsx("strong",{"data-id":"k35kp52ld","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"Add/Create:"}),' Controls "Add" buttons throughout the system']}),e.jsxs("li",{"data-id":"y754em1vx","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:["• ",e.jsx("strong",{"data-id":"y6sn00lcq","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"Edit/Modify:"}),' Controls "Edit" buttons and modification features']}),e.jsxs("li",{"data-id":"9uc9syvwq","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:["• ",e.jsx("strong",{"data-id":"ao9qwaphl","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"Delete:"})," Controls delete actions and buttons"]}),e.jsxs("li",{"data-id":"mrvdrmbtu","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:["• ",e.jsx("strong",{"data-id":"v8dvsc207","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"Print:"})," Controls enhanced print dialogs and report printing"]})]})]}),e.jsxs("div",{"data-id":"wqwqyp7vf","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:[e.jsx("p",{className:"font-medium mb-2","data-id":"1h43a9kvy","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:"Current Configuration:"}),e.jsx(f,{variant:"outline",className:"mb-2","data-id":"8jugrerrk","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:W}),e.jsx("p",{className:"text-gray-600 text-xs","data-id":"u5nw4ctt5","data-path":"src/components/ComprehensivePermissionDialog.tsx",children:na[W]||"Custom permissions configured"})]})]})]})]})]})]})})})]})]})},ss=({isOpen:V,onClose:H,onUserCreated:p})=>{const{toast:C}=Re(),[l,N]=g.useState(!1),[E,R]=g.useState(!1),[d,X]=g.useState({email:"",password:"",firstName:"",lastName:"",phone:"",role:"Employee",station:"MOBIL",employee_id:"",hire_date:new Date().toISOString().split("T")[0]}),G=["Administrator","Management","Employee"],ee=["MOBIL","AMOCO ROSEDALE","AMOCO BROOKLYN"],T=()=>{const c=d.station.split(" ")[0].substring(0,3).toUpperCase(),w=Date.now().toString().slice(-6);return`${c}-${w}`},te=()=>{const w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let A="";for(let z=0;z<12;z++)A+=w.charAt(Math.floor(Math.random()*w.length));return A},y=(c,w)=>{X(A=>({...A,[c]:w}))},J=()=>!d.email||!d.email.includes("@")?"Please enter a valid email address":!d.password||d.password.length<8?"Password must be at least 8 characters long":d.firstName.trim()?d.lastName.trim()?d.phone.trim()?d.employee_id.trim()?null:"Employee ID is required":"Phone number is required":"Last name is required":"First name is required",W=async()=>{const c=J();if(c){C({title:"Validation Error",description:c,variant:"destructive"});return}N(!0);try{console.warn("Starting user creation process..."),console.warn("Registering user with email:",d.email);const{error:w}=await Ae.register({email:d.email,password:d.password});if(w)throw console.error("Authentication registration failed:",w),new Error(`Failed to create user account: ${w}`);console.warn("User authentication account created successfully");let A,z=0;const Z=5;for(;z<Z;)try{const{data:b,error:q}=await Ae.getUserInfo();if(!q&&b){A=b;break}z++,z<Z&&await new Promise(ne=>setTimeout(ne,1e3))}catch(b){console.warn(`Retry ${z+1} failed:`,b),z++,z<Z&&await new Promise(q=>setTimeout(q,1e3))}if(!A)throw console.error("Failed to get user info after registration"),new Error("User was created but profile setup failed. Please try to create the profile manually.");console.warn("Retrieved user info:",A);const h={user_id:A.ID,role:d.role,station:d.station,employee_id:d.employee_id,phone:d.phone,hire_date:d.hire_date,is_active:!0,detailed_permissions:JSON.stringify({dashboard:{view:!0,create:!1,edit:!1,delete:!1},products:{view:d.role!=="Employee",create:!1,edit:!1,delete:!1},employees:{view:d.role==="Administrator",create:!1,edit:!1,delete:!1},sales_reports:{view:!0,create:d.role!=="Employee",edit:d.role!=="Employee",delete:!1},vendors:{view:d.role!=="Employee",create:!1,edit:!1,delete:!1},orders:{view:d.role!=="Employee",create:d.role!=="Employee",edit:d.role!=="Employee",delete:!1},licenses:{view:d.role!=="Employee",create:!1,edit:!1,delete:!1},salary:{view:d.role==="Administrator",create:d.role==="Administrator",edit:d.role==="Administrator",delete:!1},inventory:{view:!0,create:d.role!=="Employee",edit:d.role!=="Employee",delete:!1},delivery:{view:d.role!=="Employee",create:d.role!=="Employee",edit:d.role!=="Employee",delete:!1},settings:{view:d.role==="Administrator",create:!1,edit:d.role==="Administrator",delete:!1},user_management:{view:d.role==="Administrator",create:d.role==="Administrator",edit:d.role==="Administrator",delete:d.role==="Administrator"},site_management:{view:d.role==="Administrator",create:d.role==="Administrator",edit:d.role==="Administrator",delete:d.role==="Administrator"},system_logs:{view:d.role==="Administrator",create:!1,edit:!1,delete:!1},security_settings:{view:d.role==="Administrator",create:!1,edit:d.role==="Administrator",delete:!1}})};console.warn("Creating user profile with data:",h);const{error:Y}=await Ae.tableCreate(11725,h);if(Y)throw console.error("Profile creation failed:",Y),new Error(`Failed to create user profile: ${Y}`);console.warn("User profile created successfully");try{const b=`
          <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
            <h2 style="color: #1f2937;">Welcome to DFS Manager Portal</h2>
            <p>Hello ${d.firstName} ${d.lastName},</p>
            <p>Your account has been successfully created for the DFS Manager Portal.</p>
            
            <div style="background-color: #f3f4f6; padding: 20px; border-radius: 8px; margin: 20px 0;">
              <h3 style="color: #374151; margin-top: 0;">Account Details:</h3>
              <p><strong>Email:</strong> ${d.email}</p>
              <p><strong>Employee ID:</strong> ${d.employee_id}</p>
              <p><strong>Role:</strong> ${d.role}</p>
              <p><strong>Station:</strong> ${d.station}</p>
              <p><strong>Hire Date:</strong> ${new Date(d.hire_date).toLocaleDateString()}</p>
            </div>
            
            <div style="background-color: #fef3c7; padding: 15px; border-radius: 8px; border-left: 4px solid #f59e0b;">
              <h4 style="color: #92400e; margin-top: 0;">Login Information:</h4>
              <p style="color: #92400e; margin-bottom: 0;"><strong>Temporary Password:</strong> ${d.password}</p>
              <p style="color: #92400e; font-size: 14px;"><em>Please change your password after your first login for security purposes.</em></p>
            </div>
            
            <p>You can access the portal at: <a href="${window.location.origin}" style="color: #2563eb;">${window.location.origin}</a></p>
            
            <p>If you have any questions or need assistance, please contact your administrator.</p>
            
            <p>Best regards,<br>DFS Manager Portal Team</p>
          </div>
        `;await Ae.sendEmail({from:"support@dfsportal.com",to:[d.email],subject:"Welcome to DFS Manager Portal - Account Created",html:b}),console.warn("Welcome email sent successfully")}catch(b){console.warn("Failed to send welcome email:",b)}C({title:"Success",description:`User account created successfully for ${d.firstName} ${d.lastName}. Welcome email sent to ${d.email}.`}),X({email:"",password:"",firstName:"",lastName:"",phone:"",role:"Employee",station:"MOBIL",employee_id:"",hire_date:new Date().toISOString().split("T")[0]}),p(),H()}catch(w){console.error("Error creating user:",w),C({title:"Error",description:w instanceof Error?w.message:"Failed to create user account",variant:"destructive"})}finally{N(!1)}},Q=()=>{l||H()};return e.jsx(Se,{open:V,onOpenChange:Q,"data-id":"km3gduqdr","data-path":"src/components/CreateUserDialog.tsx",children:e.jsxs(ze,{className:"max-w-2xl max-h-[90vh] overflow-y-auto","data-id":"walnpz9pa","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(qe,{"data-id":"i6yjwrf14","data-path":"src/components/CreateUserDialog.tsx",children:e.jsxs(Oe,{className:"flex items-center space-x-2","data-id":"9yqv0sv4y","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(Ge,{className:"w-5 h-5 text-blue-600","data-id":"tqpppjzl3","data-path":"src/components/CreateUserDialog.tsx"}),e.jsx("span",{"data-id":"pzncp6w5m","data-path":"src/components/CreateUserDialog.tsx",children:"Create New User"})]})}),e.jsxs("div",{className:"space-y-6","data-id":"bwqfjiswa","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(_,{"data-id":"c4urb32v3","data-path":"src/components/CreateUserDialog.tsx",children:e.jsxs(S,{className:"p-4","data-id":"twlth15i0","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4","data-id":"rh2h78y06","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(Ia,{className:"w-4 h-4 text-blue-600","data-id":"oemknr39k","data-path":"src/components/CreateUserDialog.tsx"}),e.jsx("h3",{className:"font-semibold","data-id":"svfs3r66c","data-path":"src/components/CreateUserDialog.tsx",children:"Account Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4","data-id":"rg2l0qreg","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsxs("div",{"data-id":"hmhxyctjb","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(v,{htmlFor:"email","data-id":"ucbh5m6og","data-path":"src/components/CreateUserDialog.tsx",children:"Email Address *"}),e.jsx(D,{id:"email",type:"email",value:d.email,onChange:c=>y("email",c.target.value),placeholder:"user@example.com",required:!0,disabled:l,"data-id":"kekulnv4w","data-path":"src/components/CreateUserDialog.tsx"})]}),e.jsxs("div",{"data-id":"vj1auf2q1","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(v,{htmlFor:"password","data-id":"mhw3ttq36","data-path":"src/components/CreateUserDialog.tsx",children:"Password *"}),e.jsxs("div",{className:"relative","data-id":"rd4jc1nyu","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(D,{id:"password",type:E?"text":"password",value:d.password,onChange:c=>y("password",c.target.value),placeholder:"Enter password",required:!0,disabled:l,"data-id":"aeqerz2rs","data-path":"src/components/CreateUserDialog.tsx"}),e.jsx(x,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>R(!E),disabled:l,"data-id":"1s5co5wq3","data-path":"src/components/CreateUserDialog.tsx",children:E?e.jsx(Ba,{className:"w-4 h-4","data-id":"y2gfvyrq1","data-path":"src/components/CreateUserDialog.tsx"}):e.jsx(Ee,{className:"w-4 h-4","data-id":"qa1cwiycx","data-path":"src/components/CreateUserDialog.tsx"})})]}),e.jsx("div",{className:"flex space-x-2 mt-2","data-id":"pydn71uks","data-path":"src/components/CreateUserDialog.tsx",children:e.jsx(x,{type:"button",variant:"outline",size:"sm",onClick:()=>y("password",te()),disabled:l,"data-id":"oftfsi1dc","data-path":"src/components/CreateUserDialog.tsx",children:"Generate Password"})})]})]})]})}),e.jsx(_,{"data-id":"21owqm65d","data-path":"src/components/CreateUserDialog.tsx",children:e.jsxs(S,{className:"p-4","data-id":"c4k8xe17k","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4","data-id":"j3q11eb15","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(Ge,{className:"w-4 h-4 text-green-600","data-id":"pyz15q2zf","data-path":"src/components/CreateUserDialog.tsx"}),e.jsx("h3",{className:"font-semibold","data-id":"azgqr1hrq","data-path":"src/components/CreateUserDialog.tsx",children:"Personal Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4","data-id":"cqwoqeako","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsxs("div",{"data-id":"y3gtlqx0o","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(v,{htmlFor:"firstName","data-id":"zh4tae56a","data-path":"src/components/CreateUserDialog.tsx",children:"First Name *"}),e.jsx(D,{id:"firstName",value:d.firstName,onChange:c=>y("firstName",c.target.value),placeholder:"John",required:!0,disabled:l,"data-id":"rh293ncct","data-path":"src/components/CreateUserDialog.tsx"})]}),e.jsxs("div",{"data-id":"fgxurblql","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(v,{htmlFor:"lastName","data-id":"sgq2ck4bc","data-path":"src/components/CreateUserDialog.tsx",children:"Last Name *"}),e.jsx(D,{id:"lastName",value:d.lastName,onChange:c=>y("lastName",c.target.value),placeholder:"Doe",required:!0,disabled:l,"data-id":"4nuig9esw","data-path":"src/components/CreateUserDialog.tsx"})]}),e.jsxs("div",{"data-id":"plpprojvp","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(v,{htmlFor:"phone","data-id":"4cuve2h42","data-path":"src/components/CreateUserDialog.tsx",children:"Phone Number *"}),e.jsx(D,{id:"phone",type:"tel",value:d.phone,onChange:c=>y("phone",c.target.value),placeholder:"(555) 123-4567",required:!0,disabled:l,"data-id":"jy2318zb3","data-path":"src/components/CreateUserDialog.tsx"})]}),e.jsxs("div",{"data-id":"r0s47fne2","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(v,{htmlFor:"hire_date","data-id":"sni834hm0","data-path":"src/components/CreateUserDialog.tsx",children:"Hire Date"}),e.jsx(D,{id:"hire_date",type:"date",value:d.hire_date,onChange:c=>y("hire_date",c.target.value),disabled:l,"data-id":"aah2duhbt","data-path":"src/components/CreateUserDialog.tsx"})]})]})]})}),e.jsx(_,{"data-id":"416tr1uza","data-path":"src/components/CreateUserDialog.tsx",children:e.jsxs(S,{className:"p-4","data-id":"hkkna6u17","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4","data-id":"v2e4xm6se","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(ge,{className:"w-4 h-4 text-purple-600","data-id":"zb1nzua2g","data-path":"src/components/CreateUserDialog.tsx"}),e.jsx("h3",{className:"font-semibold","data-id":"2mu2gqlk8","data-path":"src/components/CreateUserDialog.tsx",children:"Work Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4","data-id":"g5xvk75tg","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsxs("div",{"data-id":"hhitevevl","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(v,{htmlFor:"role","data-id":"t1sjey12n","data-path":"src/components/CreateUserDialog.tsx",children:"Role *"}),e.jsxs(F,{value:d.role,onValueChange:c=>y("role",c),disabled:l,"data-id":"woyjgrury","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx($,{"data-id":"4se6lhp6e","data-path":"src/components/CreateUserDialog.tsx",children:e.jsx(L,{placeholder:"Select role","data-id":"5g2tljgma","data-path":"src/components/CreateUserDialog.tsx"})}),e.jsx(I,{"data-id":"ufpi7864f","data-path":"src/components/CreateUserDialog.tsx",children:G.map(c=>e.jsx(j,{value:c,"data-id":"0dsd5g89u","data-path":"src/components/CreateUserDialog.tsx",children:e.jsxs("div",{className:"flex items-center space-x-2","data-id":"yyxq1tivo","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(B,{className:"w-4 h-4","data-id":"s09uo4fx0","data-path":"src/components/CreateUserDialog.tsx"}),e.jsx("span",{"data-id":"08h3u4qcb","data-path":"src/components/CreateUserDialog.tsx",children:c})]})},c))})]})]}),e.jsxs("div",{"data-id":"96acp30ck","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(v,{htmlFor:"station","data-id":"do3kxwxzm","data-path":"src/components/CreateUserDialog.tsx",children:"Station *"}),e.jsxs(F,{value:d.station,onValueChange:c=>y("station",c),disabled:l,"data-id":"1f8cpxdyi","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx($,{"data-id":"o2efe4vbe","data-path":"src/components/CreateUserDialog.tsx",children:e.jsx(L,{placeholder:"Select station","data-id":"z8jzr6ik1","data-path":"src/components/CreateUserDialog.tsx"})}),e.jsx(I,{"data-id":"itdmpjmpc","data-path":"src/components/CreateUserDialog.tsx",children:ee.map(c=>e.jsx(j,{value:c,"data-id":"gwyw5iiqf","data-path":"src/components/CreateUserDialog.tsx",children:e.jsxs("div",{className:"flex items-center space-x-2","data-id":"pb0l8621t","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(ge,{className:"w-4 h-4","data-id":"jxlfdqft7","data-path":"src/components/CreateUserDialog.tsx"}),e.jsx("span",{"data-id":"yjro0ecdj","data-path":"src/components/CreateUserDialog.tsx",children:c})]})},c))})]})]}),e.jsxs("div",{className:"md:col-span-2","data-id":"jc0arhrkf","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(v,{htmlFor:"employee_id","data-id":"qrya6sf2c","data-path":"src/components/CreateUserDialog.tsx",children:"Employee ID *"}),e.jsxs("div",{className:"flex space-x-2","data-id":"zgph5pifg","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(D,{id:"employee_id",value:d.employee_id,onChange:c=>y("employee_id",c.target.value),placeholder:"EMP-123456",required:!0,disabled:l,"data-id":"zuujtffey","data-path":"src/components/CreateUserDialog.tsx"}),e.jsx(x,{type:"button",variant:"outline",onClick:()=>y("employee_id",T()),disabled:l,"data-id":"fyobwrhui","data-path":"src/components/CreateUserDialog.tsx",children:"Generate"})]})]})]})]})}),e.jsx(_,{"data-id":"vytev6wl5","data-path":"src/components/CreateUserDialog.tsx",children:e.jsxs(S,{className:"p-4","data-id":"6ueuwyesn","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4","data-id":"b7xejz6e2","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(B,{className:"w-4 h-4 text-orange-600","data-id":"0vvvwi73a","data-path":"src/components/CreateUserDialog.tsx"}),e.jsx("h3",{className:"font-semibold","data-id":"kq78ppwm7","data-path":"src/components/CreateUserDialog.tsx",children:"Permissions Preview"})]}),e.jsxs("div",{className:"space-y-2","data-id":"eznimjmhi","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsxs("div",{className:"flex items-center justify-between","data-id":"4xnbn6l7b","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx("span",{className:"text-sm","data-id":"bqz1aisvh","data-path":"src/components/CreateUserDialog.tsx",children:"Dashboard Access"}),e.jsx(f,{variant:"default","data-id":"ppwrzg6zv","data-path":"src/components/CreateUserDialog.tsx",children:"Granted"})]}),e.jsxs("div",{className:"flex items-center justify-between","data-id":"nqaneqg68","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx("span",{className:"text-sm","data-id":"sw31aaccd","data-path":"src/components/CreateUserDialog.tsx",children:"Sales Reports"}),e.jsx(f,{variant:d.role!=="Employee"?"default":"secondary","data-id":"jms6idu4p","data-path":"src/components/CreateUserDialog.tsx",children:d.role!=="Employee"?"Full Access":"View Only"})]}),e.jsxs("div",{className:"flex items-center justify-between","data-id":"o2gib9hal","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx("span",{className:"text-sm","data-id":"qigohkpc4","data-path":"src/components/CreateUserDialog.tsx",children:"User Management"}),e.jsx(f,{variant:d.role==="Administrator"?"default":"secondary","data-id":"fx4j18lgp","data-path":"src/components/CreateUserDialog.tsx",children:d.role==="Administrator"?"Full Access":"No Access"})]}),e.jsxs("div",{className:"flex items-center justify-between","data-id":"qvgrv15x8","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx("span",{className:"text-sm","data-id":"sorg0pmox","data-path":"src/components/CreateUserDialog.tsx",children:"System Administration"}),e.jsx(f,{variant:d.role==="Administrator"?"default":"secondary","data-id":"dftnuqtd1","data-path":"src/components/CreateUserDialog.tsx",children:d.role==="Administrator"?"Full Access":"No Access"})]})]}),e.jsx(wa,{className:"mt-4","data-id":"h6x2vgo5w","data-path":"src/components/CreateUserDialog.tsx",children:e.jsx(Ma,{className:"text-sm","data-id":"dp2ezf46d","data-path":"src/components/CreateUserDialog.tsx",children:"Permissions can be customized after user creation through the User Management interface."})})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t","data-id":"ce49ctu65","data-path":"src/components/CreateUserDialog.tsx",children:[e.jsx(x,{variant:"outline",onClick:Q,disabled:l,"data-id":"g08rd8yae","data-path":"src/components/CreateUserDialog.tsx",children:"Cancel"}),e.jsx(x,{onClick:W,disabled:l,className:"bg-blue-600 hover:bg-blue-700","data-id":"fhce543e0","data-path":"src/components/CreateUserDialog.tsx",children:l?e.jsxs(e.Fragment,{children:[e.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin","data-id":"k1vvppmjq","data-path":"src/components/CreateUserDialog.tsx"}),"Creating User..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ge,{className:"w-4 h-4 mr-2","data-id":"oq0o86uzt","data-path":"src/components/CreateUserDialog.tsx"}),"Create User Account"]})})]})]})]})})},Vs=()=>{const{isAdmin:V}=Sa(),[H,p]=g.useState([]),[C,l]=g.useState([]),[N,E]=g.useState(!0),[R,d]=g.useState(!1),[X,G]=g.useState(""),[ee,T]=g.useState("All"),[te,y]=g.useState("All"),[J,W]=g.useState(!1),[Q,c]=g.useState(!1),[w,A]=g.useState(!1),[z,Z]=g.useState(!1),[h,Y]=g.useState(null),[b,q]=g.useState(!1),[ne,ue]=g.useState(!1),{toast:U}=Re(),P=za(),[o,t]=g.useState({role:"",station:"",is_active:!0}),s=["Administrator","Management","Employee"],n=["MOBIL","AMOCO ROSEDALE","AMOCO BROOKLYN"],[i,r]=g.useState({user_id:0,role:"Employee",station:"MOBIL",employee_id:"",phone:"",hire_date:"",is_active:!0}),m=()=>Math.floor(Math.random()*1e6)+1e5;g.useEffect(()=>{O()},[]);const O=async()=>{E(!0),await Promise.all([Ue(),pa()]),E(!1)},ae=async()=>{d(!0),await O(),d(!1),U({title:"Success",description:"Data refreshed successfully"})},pa=async()=>{try{console.log("User info now managed through Supabase user profiles"),p([])}catch(a){console.error("Error fetching current user info:",a),p([])}},Ue=async()=>{try{console.log("Fetching user profiles from user_profiles table");const{data:a,error:u}=await we.from("user_profiles").select("*").order("id",{ascending:!1});if(u)throw console.error("API returned error:",u),u;console.log("User profiles data received:",a),l(a||[])}catch(a){console.error("Error fetching user profiles:",a),U({title:"Error",description:`Failed to fetch user profiles: ${a}`,variant:"destructive"}),l([])}},ha=async()=>{if(!i.employee_id||!i.phone){U({title:"Validation Error",description:"Employee ID and Phone are required fields",variant:"destructive"});return}try{const{error:a}=await we.from("user_profiles").insert(i);if(a)throw a;U({title:"Success",description:"User profile created successfully"}),W(!1),r({user_id:m(),role:"Employee",station:"MOBIL",employee_id:"",phone:"",hire_date:"",is_active:!0}),Ue()}catch(a){console.error("Error creating profile:",a),U({title:"Error",description:`Failed to create user profile: ${a}`,variant:"destructive"})}},xa=async()=>{if(h){if(!i.employee_id||!i.phone){U({title:"Validation Error",description:"Employee ID and Phone are required fields",variant:"destructive"});return}try{const{error:a}=await we.from("user_profiles").update(i).eq("id",h.id);if(a)throw a;U({title:"Success",description:"User profile updated successfully"}),c(!1),Y(null),Ue()}catch(a){console.error("Error updating profile:",a),U({title:"Error",description:`Failed to update user profile: ${a}`,variant:"destructive"})}}},ga=async a=>{if(confirm("Are you sure you want to delete this user profile? This action cannot be undone."))try{const{error:u}=await we.from("user_profiles").delete().eq("id",a);if(u)throw u;U({title:"Success",description:"User profile deleted successfully"}),Ue()}catch(u){console.error("Error deleting profile:",u),U({title:"Error",description:`Failed to delete user profile: ${u}`,variant:"destructive"})}},ua=()=>{if(P.getSelectedData(K,u=>u.id).length===0){U({title:"No Selection",description:"Please select profiles to edit",variant:"destructive"});return}A(!0)},va=()=>{if(P.getSelectedData(K,u=>u.id).length===0){U({title:"No Selection",description:"Please select profiles to delete",variant:"destructive"});return}Z(!0)},ja=async()=>{q(!0);try{const a=P.getSelectedData(K,M=>M.id),u=a.map(M=>({id:M.id,...o.role&&{role:o.role},...o.station&&{station:o.station},is_active:o.is_active}));for(const M of u){const{id:k,...ve}=M,{error:le}=await we.from("user_profiles").update(ve).eq("id",k);if(le)throw le}U({title:"Success",description:`Updated ${a.length} user profiles successfully`}),A(!1),P.clearSelection(),Ue()}catch(a){console.error("Error in batch edit:",a),U({title:"Error",description:`Failed to update profiles: ${a}`,variant:"destructive"})}finally{q(!1)}},fa=async()=>{q(!0);try{const a=P.getSelectedData(K,u=>u.id);for(const u of a){const{error:M}=await we.from("user_profiles").delete().eq("id",u.id);if(M)throw M}U({title:"Success",description:`Deleted ${a.length} user profiles successfully`}),Z(!1),P.clearSelection(),Ue()}catch(a){console.error("Error in batch delete:",a),U({title:"Error",description:`Failed to delete profiles: ${a}`,variant:"destructive"})}finally{q(!1)}},ya=a=>{Y(a),r({user_id:a.user_id,role:a.role,station:a.station,employee_id:a.employee_id,phone:a.phone,hire_date:a.hire_date||"",is_active:a.is_active}),c(!0)},K=C.filter(a=>{const u=a.employee_id.toLowerCase().includes(X.toLowerCase())||a.phone.toLowerCase().includes(X.toLowerCase()),M=ee==="All"||a.role===ee,k=te==="All"||a.station===te;return u&&M&&k}),Ze=a=>{switch(a){case"Administrator":return"bg-red-100 text-red-800";case"Management":return"bg-blue-100 text-blue-800";case"Employee":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},Ke=a=>{switch(a){case"MOBIL":return"bg-purple-100 text-purple-800";case"AMOCO ROSEDALE":return"bg-orange-100 text-orange-800";case"AMOCO BROOKLYN":return"bg-teal-100 text-teal-800";default:return"bg-gray-100 text-gray-800"}},ba=a=>{try{if(!a.detailed_permissions)return{summary:"No permissions set",details:"Permissions not configured",hasAccess:!1,viewCount:0,editCount:0,createCount:0};const u=JSON.parse(a.detailed_permissions),M=["dashboard","products","employees","sales_reports","vendors","orders","licenses","salary","inventory","delivery","settings","user_management","site_management","system_logs","security_settings"],k=M.filter(me=>{var pe;return(pe=u[me])==null?void 0:pe.view}).length,ve=M.filter(me=>{var pe;return(pe=u[me])==null?void 0:pe.edit}).length,le=M.filter(me=>{var pe;return(pe=u[me])==null?void 0:pe.create}).length;return{summary:`${k}/${M.length} areas`,details:`View: ${k}, Edit: ${ve}, Create: ${le}`,hasAccess:k>0,viewCount:k,editCount:ve,createCount:le}}catch{return{summary:"Invalid permissions",details:"Permission data corrupted",hasAccess:!1,viewCount:0,editCount:0,createCount:0}}};return V?N?e.jsx("div",{className:"flex items-center justify-center min-h-64","data-id":"4odhdzois","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx("div",{className:"text-lg","data-id":"wp1fpcaja","data-path":"src/pages/Admin/UserManagement.tsx",children:"Loading user management..."})}):e.jsxs("div",{className:"space-y-6","data-id":"nkyl8if0t","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsxs("div",{className:"flex items-center justify-between","data-id":"691ou28mp","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsxs("div",{className:"flex items-center space-x-3","data-id":"uepgmow91","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(he,{className:"w-8 h-8 text-blue-600","data-id":"yr5i1qka1","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsxs("div",{"data-id":"yzg2jc8di","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900","data-id":"g9qdvnxp2","data-path":"src/pages/Admin/UserManagement.tsx",children:"Real-time User Management"}),e.jsx("p",{className:"text-sm text-green-600 font-medium","data-id":"csh3upxp2","data-path":"src/pages/Admin/UserManagement.tsx",children:"✓ Production Database Connected - Live User Data"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2","data-id":"r0u67gvqx","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsxs(f,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200","data-id":"kwzxet06g","data-path":"src/pages/Admin/UserManagement.tsx",children:[C.length," Users"]}),e.jsxs(x,{onClick:ae,disabled:R,variant:"outline",className:"flex items-center space-x-2","data-id":"0gwxcz5t1","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(aa,{className:`w-4 h-4 ${R?"animate-spin":""}`,"data-id":"mllr40r1p","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsx("span",{"data-id":"jfij4soz6","data-path":"src/pages/Admin/UserManagement.tsx",children:R?"Refreshing...":"Refresh Data"})]})]})]}),e.jsxs(We,{defaultValue:"profiles",className:"w-full","data-id":"oqlxxlsu3","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsxs(Qe,{className:"grid w-full grid-cols-2","data-id":"bv1u4da2t","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsxs(Ne,{value:"profiles",className:"flex items-center space-x-2","data-id":"q47ndxfet","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(he,{className:"w-4 h-4","data-id":"ehkxpvyn6","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsx("span",{"data-id":"cqzn7zuvm","data-path":"src/pages/Admin/UserManagement.tsx",children:"User Profiles"})]}),e.jsxs(Ne,{value:"permissions",className:"flex items-center space-x-2","data-id":"e3p9zqryy","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(B,{className:"w-4 h-4","data-id":"24fer7wrp","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsx("span",{"data-id":"84mlt2091","data-path":"src/pages/Admin/UserManagement.tsx",children:"Permission Management"})]})]}),e.jsxs(ke,{value:"profiles",className:"space-y-6","data-id":"ck1onn9zl","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsxs("div",{className:"flex items-center justify-end space-x-3","data-id":"61uhhpjbn","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsxs(x,{onClick:()=>ue(!0),className:"bg-green-600 hover:bg-green-700","data-id":"nmh54rak7","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(ta,{className:"w-4 h-4 mr-2","data-id":"dt6apyr4g","data-path":"src/pages/Admin/UserManagement.tsx"}),"Create New User"]}),e.jsxs(Se,{open:J,onOpenChange:a=>{if(a){const u=m();r(M=>({...M,user_id:u}))}W(a)},"data-id":"pjsyzqgiw","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(ia,{asChild:!0,"data-id":"05m56bcr1","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsxs(x,{variant:"outline",className:"border-blue-600 text-blue-600 hover:bg-blue-50","data-id":"nzkwqsj1k","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(Ye,{className:"w-4 h-4 mr-2","data-id":"nzznx53nw","data-path":"src/pages/Admin/UserManagement.tsx"}),"Add User Profile Only"]})}),e.jsxs(ze,{className:"max-w-lg max-h-[85vh]","data-id":"xoott60b8","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(qe,{"data-id":"d5ag8o875","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(Oe,{"data-id":"1lqvr6j6n","data-path":"src/pages/Admin/UserManagement.tsx",children:"Create User Profile"})}),e.jsx(_e,{className:"max-h-[calc(85vh-120px)] pr-4","data-id":"91bhy23l9","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsxs("div",{className:"space-y-4","data-id":"7fehrpv7v","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsxs("div",{"data-id":"66g7u4e4f","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(v,{htmlFor:"user_id","data-id":"7d34bh0io","data-path":"src/pages/Admin/UserManagement.tsx",children:"User ID (Auto-generated)"}),e.jsxs("div",{className:"relative","data-id":"7rdl7ei8t","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(D,{id:"user_id",type:"number",value:i.user_id,readOnly:!0,disabled:!0,className:"bg-gray-50 text-gray-700 cursor-not-allowed",placeholder:"Auto-generated ID","data-id":"cdvcm31sx","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsx(x,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0 hover:bg-gray-200",onClick:()=>{const a=m();r(u=>({...u,user_id:a})),U({title:"Success",description:`New User ID generated: ${a}`})},title:"Generate new random User ID","data-id":"27fc6ahjv","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(aa,{className:"w-3 h-3","data-id":"y1dtpho5p","data-path":"src/pages/Admin/UserManagement.tsx"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1","data-id":"ghb6rklnt","data-path":"src/pages/Admin/UserManagement.tsx",children:"User ID is automatically generated. Click the refresh icon to generate a new one."})]}),e.jsxs("div",{"data-id":"icc1175p6","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(v,{htmlFor:"role","data-id":"ps4tbuzs7","data-path":"src/pages/Admin/UserManagement.tsx",children:"Role"}),e.jsxs(F,{value:i.role,onValueChange:a=>r({...i,role:a}),"data-id":"wvn8xvw9e","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx($,{"data-id":"r6c4dy4y7","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(L,{"data-id":"zbea79y5w","data-path":"src/pages/Admin/UserManagement.tsx"})}),e.jsx(I,{"data-id":"rvz1bzvou","data-path":"src/pages/Admin/UserManagement.tsx",children:s.map(a=>e.jsx(j,{value:a,"data-id":"6yq33nfkc","data-path":"src/pages/Admin/UserManagement.tsx",children:a},a))})]})]}),e.jsxs("div",{"data-id":"lud54xgr2","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(v,{htmlFor:"station","data-id":"t2p3v5qd5","data-path":"src/pages/Admin/UserManagement.tsx",children:"Station"}),e.jsxs(F,{value:i.station,onValueChange:a=>r({...i,station:a}),"data-id":"a6lowa8er","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx($,{"data-id":"7z2jkfy4w","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(L,{"data-id":"sgfuzzhxf","data-path":"src/pages/Admin/UserManagement.tsx"})}),e.jsx(I,{"data-id":"ev6u0ui8c","data-path":"src/pages/Admin/UserManagement.tsx",children:n.map(a=>e.jsx(j,{value:a,"data-id":"9ug7af0oy","data-path":"src/pages/Admin/UserManagement.tsx",children:a},a))})]})]}),e.jsxs("div",{"data-id":"tj1la3m88","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(v,{htmlFor:"employee_id","data-id":"98uyx2ltr","data-path":"src/pages/Admin/UserManagement.tsx",children:"Employee ID *"}),e.jsx(D,{id:"employee_id",value:i.employee_id,onChange:a=>r({...i,employee_id:a.target.value}),placeholder:"Enter employee ID",required:!0,"data-id":"vq4m64cd2","data-path":"src/pages/Admin/UserManagement.tsx"})]}),e.jsxs("div",{"data-id":"ahl1b4q28","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(v,{htmlFor:"phone","data-id":"vdyes21vt","data-path":"src/pages/Admin/UserManagement.tsx",children:"Phone *"}),e.jsx(D,{id:"phone",value:i.phone,onChange:a=>r({...i,phone:a.target.value}),placeholder:"Enter phone number",required:!0,"data-id":"umgh5irns","data-path":"src/pages/Admin/UserManagement.tsx"})]}),e.jsxs("div",{"data-id":"7gwxir2lp","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(v,{htmlFor:"hire_date","data-id":"1usit424l","data-path":"src/pages/Admin/UserManagement.tsx",children:"Hire Date"}),e.jsx(D,{id:"hire_date",type:"date",value:i.hire_date,onChange:a=>r({...i,hire_date:a.target.value}),"data-id":"a603on6jl","data-path":"src/pages/Admin/UserManagement.tsx"})]}),e.jsxs("div",{className:"flex items-center space-x-2","data-id":"xqb0iodxo","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:i.is_active,onChange:a=>r({...i,is_active:a.target.checked}),"data-id":"k0efnvkz7","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsx(v,{htmlFor:"is_active","data-id":"wjhkpb37h","data-path":"src/pages/Admin/UserManagement.tsx",children:"Active User"})]}),e.jsx(x,{onClick:ha,className:"w-full","data-id":"i7i0qtwvn","data-path":"src/pages/Admin/UserManagement.tsx",children:"Create Profile"})]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4","data-id":"1txbg5pfz","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(_,{"data-id":"oio01n61q","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(S,{className:"p-4","data-id":"f4vvmqmt0","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsxs("div",{className:"flex items-center space-x-3","data-id":"iwfz2rfev","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(he,{className:"w-8 h-8 text-blue-600","data-id":"5pvhabm5j","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsxs("div",{"data-id":"gtdyjs91m","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("p",{className:"text-sm text-gray-600","data-id":"r5oy2a1ym","data-path":"src/pages/Admin/UserManagement.tsx",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold","data-id":"74ygayxpo","data-path":"src/pages/Admin/UserManagement.tsx",children:C.length})]})]})})}),e.jsx(_,{"data-id":"7v3i5xhcr","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(S,{className:"p-4","data-id":"l9a3y30p2","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsxs("div",{className:"flex items-center space-x-3","data-id":"8o8fivv0e","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(B,{className:"w-8 h-8 text-green-600","data-id":"b2r31nkjx","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsxs("div",{"data-id":"t3iucc8a5","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("p",{className:"text-sm text-gray-600","data-id":"kxb75hn5s","data-path":"src/pages/Admin/UserManagement.tsx",children:"Administrators"}),e.jsx("p",{className:"text-2xl font-bold","data-id":"hc9njbfmm","data-path":"src/pages/Admin/UserManagement.tsx",children:C.filter(a=>a.role==="Administrator").length})]})]})})}),e.jsx(_,{"data-id":"1a3bcr513","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(S,{className:"p-4","data-id":"lal4x5y82","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsxs("div",{className:"flex items-center space-x-3","data-id":"kxa2wdc3s","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx($e,{className:"w-8 h-8 text-green-600","data-id":"pm8pt4x7v","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsxs("div",{"data-id":"zyoknaug9","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("p",{className:"text-sm text-gray-600","data-id":"jtw32h1cr","data-path":"src/pages/Admin/UserManagement.tsx",children:"Active Users"}),e.jsx("p",{className:"text-2xl font-bold","data-id":"j1viyf1jd","data-path":"src/pages/Admin/UserManagement.tsx",children:C.filter(a=>a.is_active).length})]})]})})}),e.jsx(_,{"data-id":"f6dv557pf","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(S,{className:"p-4","data-id":"6t29dyq4a","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsxs("div",{className:"flex items-center space-x-3","data-id":"rfz32iemf","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(Xa,{className:"w-8 h-8 text-red-600","data-id":"zka3fn3t8","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsxs("div",{"data-id":"jw54y1otv","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("p",{className:"text-sm text-gray-600","data-id":"ivl6601z8","data-path":"src/pages/Admin/UserManagement.tsx",children:"Inactive Users"}),e.jsx("p",{className:"text-2xl font-bold","data-id":"yzfdbw7ut","data-path":"src/pages/Admin/UserManagement.tsx",children:C.filter(a=>!a.is_active).length})]})]})})})]}),e.jsx(_,{"data-id":"vf7u24nal","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(S,{className:"p-4","data-id":"08zsrzkmd","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4","data-id":"lmumbnm7q","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsxs("div",{className:"relative","data-id":"13prktmzs","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(Ie,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4","data-id":"611azm7yl","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsx(D,{placeholder:"Search by employee ID or phone...",value:X,onChange:a=>G(a.target.value),className:"pl-10","data-id":"prr3n5iyb","data-path":"src/pages/Admin/UserManagement.tsx"})]}),e.jsxs(F,{value:ee,onValueChange:T,"data-id":"5w25wy8pt","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx($,{"data-id":"6hehwqmo0","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(L,{placeholder:"Filter by role","data-id":"1n82dnavt","data-path":"src/pages/Admin/UserManagement.tsx"})}),e.jsxs(I,{"data-id":"pdqvyoyjk","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(j,{value:"All","data-id":"a81ss632j","data-path":"src/pages/Admin/UserManagement.tsx",children:"All Roles"}),s.map(a=>e.jsx(j,{value:a,"data-id":"e15hpx7yt","data-path":"src/pages/Admin/UserManagement.tsx",children:a},a))]})]}),e.jsxs(F,{value:te,onValueChange:y,"data-id":"hxc6z4bmf","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx($,{"data-id":"7tff7eg8h","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(L,{placeholder:"Filter by station","data-id":"bahzm0dxm","data-path":"src/pages/Admin/UserManagement.tsx"})}),e.jsxs(I,{"data-id":"zg5rbjz64","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(j,{value:"All","data-id":"bt4o0uuos","data-path":"src/pages/Admin/UserManagement.tsx",children:"All Stations"}),n.map(a=>e.jsx(j,{value:a,"data-id":"tbrbbycv6","data-path":"src/pages/Admin/UserManagement.tsx",children:a},a))]})]}),e.jsx(x,{variant:"outline",onClick:()=>{G(""),T("All"),y("All")},"data-id":"rdq0id4jc","data-path":"src/pages/Admin/UserManagement.tsx",children:"Clear Filters"})]})})}),e.jsx(qa,{selectedCount:P.selectedCount,onBatchEdit:ua,onBatchDelete:va,onClearSelection:P.clearSelection,isLoading:b,"data-id":"rrdol99j3","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsxs(_,{"data-id":"ioioxxxsl","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(fe,{"data-id":"3x2av8n52","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsxs(ye,{"data-id":"sudwwii51","data-path":"src/pages/Admin/UserManagement.tsx",children:["User Profiles (",K.length,")"]})}),e.jsx(S,{"data-id":"bf1zyh86z","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx("div",{className:"overflow-x-auto","data-id":"bpnvx3rbx","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsxs(Aa,{"data-id":"xbb11odls","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(Pa,{"data-id":"x80yxk15v","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsxs(Te,{"data-id":"9nem9ljan","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(re,{className:"w-12","data-id":"e93kz0m0o","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(He,{checked:K.length>0&&P.selectedCount===K.length,onCheckedChange:()=>P.toggleSelectAll(K,a=>a.id),"aria-label":"Select all profiles","data-id":"8kdm6ro8z","data-path":"src/pages/Admin/UserManagement.tsx"})}),e.jsx(re,{"data-id":"j0htpwx5t","data-path":"src/pages/Admin/UserManagement.tsx",children:"Employee ID"}),e.jsx(re,{"data-id":"jd2nkl5uv","data-path":"src/pages/Admin/UserManagement.tsx",children:"Role"}),e.jsx(re,{"data-id":"zvmj70ten","data-path":"src/pages/Admin/UserManagement.tsx",children:"Station"}),e.jsx(re,{"data-id":"gsg0c2u2k","data-path":"src/pages/Admin/UserManagement.tsx",children:"Phone"}),e.jsx(re,{"data-id":"fb9vsirp0","data-path":"src/pages/Admin/UserManagement.tsx",children:"Hire Date"}),e.jsx(re,{"data-id":"zcj1v8mgu","data-path":"src/pages/Admin/UserManagement.tsx",children:"Status"}),e.jsx(re,{"data-id":"rbvxfxiv7","data-path":"src/pages/Admin/UserManagement.tsx",children:"Permissions"}),e.jsx(re,{"data-id":"188i3ls14","data-path":"src/pages/Admin/UserManagement.tsx",children:"Actions"})]})}),e.jsx(Na,{"data-id":"j1egj4yyt","data-path":"src/pages/Admin/UserManagement.tsx",children:K.length===0?e.jsx(Te,{"data-id":"q5ovjdywd","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(se,{colSpan:9,className:"text-center py-8","data-id":"dzortyijn","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx("div",{className:"flex flex-col items-center space-y-3","data-id":"ooc5i1p8n","data-path":"src/pages/Admin/UserManagement.tsx",children:C.length===0?e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"w-12 h-12 text-gray-300","data-id":"7fyna6erk","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsxs("div",{"data-id":"iiegim614","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("p",{className:"text-gray-500 font-medium","data-id":"z28fi5wt7","data-path":"src/pages/Admin/UserManagement.tsx",children:"No User Profiles Found"}),e.jsx("p",{className:"text-sm text-gray-400","data-id":"qj61ju19a","data-path":"src/pages/Admin/UserManagement.tsx",children:"Create your first user profile to get started with the system"})]}),e.jsxs(x,{onClick:()=>ue(!0),className:"bg-blue-600 hover:bg-blue-700","data-id":"th4weppbp","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(ta,{className:"w-4 h-4 mr-2","data-id":"j1mo6r4fa","data-path":"src/pages/Admin/UserManagement.tsx"}),"Create First User"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ie,{className:"w-12 h-12 text-gray-300","data-id":"azomegurp","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsxs("div",{"data-id":"fy99r346j","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("p",{className:"text-gray-500 font-medium","data-id":"pvnhj0vp3","data-path":"src/pages/Admin/UserManagement.tsx",children:"No Profiles Match Current Filters"}),e.jsx("p",{className:"text-sm text-gray-400","data-id":"jdpwbrjqy","data-path":"src/pages/Admin/UserManagement.tsx",children:"Try adjusting your search criteria or clearing filters"})]}),e.jsx(x,{variant:"outline",onClick:()=>{G(""),T("All"),y("All")},"data-id":"z21eijd9v","data-path":"src/pages/Admin/UserManagement.tsx",children:"Clear All Filters"})]})})})}):K.map(a=>e.jsxs(Te,{className:P.isSelected(a.id)?"bg-blue-50":"","data-id":"a4mgfb0yc","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(se,{"data-id":"c0wukuoj6","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(He,{checked:P.isSelected(a.id),onCheckedChange:()=>P.toggleItem(a.id),"aria-label":`Select profile ${a.employee_id}`,"data-id":"3sc8hx002","data-path":"src/pages/Admin/UserManagement.tsx"})}),e.jsx(se,{className:"font-medium","data-id":"njc8d11h4","data-path":"src/pages/Admin/UserManagement.tsx",children:a.employee_id}),e.jsx(se,{"data-id":"ckfkwuryr","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(f,{className:Ze(a.role),"data-id":"yk8gcc6q4","data-path":"src/pages/Admin/UserManagement.tsx",children:a.role})}),e.jsx(se,{"data-id":"wqwowa8ct","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(f,{className:Ke(a.station),"data-id":"pb5osvn3g","data-path":"src/pages/Admin/UserManagement.tsx",children:a.station})}),e.jsx(se,{"data-id":"qo2cxnxvb","data-path":"src/pages/Admin/UserManagement.tsx",children:a.phone}),e.jsx(se,{"data-id":"bvrmr0ial","data-path":"src/pages/Admin/UserManagement.tsx",children:a.hire_date?new Date(a.hire_date).toLocaleDateString():"N/A"}),e.jsx(se,{"data-id":"qizee5cu6","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(f,{className:a.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800","data-id":"74ubejo46","data-path":"src/pages/Admin/UserManagement.tsx",children:a.is_active?"Active":"Inactive"})}),e.jsx(se,{"data-id":"akluwcb6g","data-path":"src/pages/Admin/UserManagement.tsx",children:(()=>{const u=ba(a);return e.jsxs("div",{className:"space-y-1","data-id":"ybe2ilbwn","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(f,{variant:u.hasAccess?"default":"secondary",className:u.hasAccess?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600","data-id":"y7zk3a5dv","data-path":"src/pages/Admin/UserManagement.tsx",children:u.summary}),e.jsx("p",{className:"text-xs text-gray-500","data-id":"jkneilpl0","data-path":"src/pages/Admin/UserManagement.tsx",children:u.details})]})})()}),e.jsx(se,{"data-id":"tf9kholys","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsxs("div",{className:"flex space-x-2","data-id":"lb513z80t","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(x,{size:"sm",variant:"outline",onClick:()=>ya(a),"data-id":"3oeilyg10","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(Ya,{className:"w-4 h-4","data-id":"9z6x009th","data-path":"src/pages/Admin/UserManagement.tsx"})}),e.jsx(as,{selectedUserId:a.id,trigger:e.jsx(x,{size:"sm",variant:"outline",className:"text-blue-600 hover:text-blue-700",title:"Comprehensive Permission Management","data-id":"iq16jjtpc","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(B,{className:"w-4 h-4","data-id":"0tn5yv54h","data-path":"src/pages/Admin/UserManagement.tsx"})}),"data-id":"oujdygdkz","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsx(x,{size:"sm",variant:"outline",onClick:()=>ga(a.id),className:"text-red-600 hover:text-red-700","data-id":"ropq6ge7r","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(Xe,{className:"w-4 h-4","data-id":"taytw0tam","data-path":"src/pages/Admin/UserManagement.tsx"})})]})})]},a.id))})]})})})]}),e.jsx(Se,{open:Q,onOpenChange:c,"data-id":"f6dwkfx64","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsxs(ze,{className:"max-w-6xl max-h-[90vh]","data-id":"k14a4ecx0","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(qe,{"data-id":"w4qdfhpmu","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(Oe,{"data-id":"06awhvuzs","data-path":"src/pages/Admin/UserManagement.tsx",children:"Edit User Profile & Permissions"})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(90vh-120px)]","data-id":"5d2q6dbqg","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("div",{className:"lg:col-span-1","data-id":"gdtxu7dih","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(_e,{className:"h-full pr-4","data-id":"wpibjkmlo","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsxs("div",{className:"space-y-4","data-id":"6i1o92139","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsxs("div",{"data-id":"840zv49cx","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(v,{htmlFor:"edit_role","data-id":"zdxsjbsd6","data-path":"src/pages/Admin/UserManagement.tsx",children:"Role"}),e.jsxs(F,{value:i.role,onValueChange:a=>r({...i,role:a}),"data-id":"jee1bd6ih","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx($,{"data-id":"nlgcfrm2z","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(L,{"data-id":"yj71l3i3v","data-path":"src/pages/Admin/UserManagement.tsx"})}),e.jsx(I,{"data-id":"s91152692","data-path":"src/pages/Admin/UserManagement.tsx",children:s.map(a=>e.jsx(j,{value:a,"data-id":"niwhntwg3","data-path":"src/pages/Admin/UserManagement.tsx",children:a},a))})]})]}),e.jsxs("div",{"data-id":"nr3zhtwyl","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(v,{htmlFor:"edit_station","data-id":"coki8wxqz","data-path":"src/pages/Admin/UserManagement.tsx",children:"Station"}),e.jsxs(F,{value:i.station,onValueChange:a=>r({...i,station:a}),"data-id":"cddqk0lwy","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx($,{"data-id":"08dmgfx0l","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(L,{"data-id":"07f7x1yq3","data-path":"src/pages/Admin/UserManagement.tsx"})}),e.jsx(I,{"data-id":"zp3zoi810","data-path":"src/pages/Admin/UserManagement.tsx",children:n.map(a=>e.jsx(j,{value:a,"data-id":"nkkp99p0b","data-path":"src/pages/Admin/UserManagement.tsx",children:a},a))})]})]}),e.jsxs("div",{"data-id":"exdtqwk34","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(v,{htmlFor:"edit_employee_id","data-id":"872ii7c5x","data-path":"src/pages/Admin/UserManagement.tsx",children:"Employee ID *"}),e.jsx(D,{id:"edit_employee_id",value:i.employee_id,onChange:a=>r({...i,employee_id:a.target.value}),required:!0,"data-id":"ctachhnol","data-path":"src/pages/Admin/UserManagement.tsx"})]}),e.jsxs("div",{"data-id":"0k6ozek0z","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(v,{htmlFor:"edit_phone","data-id":"a86f47ddu","data-path":"src/pages/Admin/UserManagement.tsx",children:"Phone *"}),e.jsx(D,{id:"edit_phone",value:i.phone,onChange:a=>r({...i,phone:a.target.value}),required:!0,"data-id":"qmdqoph0g","data-path":"src/pages/Admin/UserManagement.tsx"})]}),e.jsxs("div",{"data-id":"oiremmzsk","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(v,{htmlFor:"edit_hire_date","data-id":"jgji4do4f","data-path":"src/pages/Admin/UserManagement.tsx",children:"Hire Date"}),e.jsx(D,{id:"edit_hire_date",type:"date",value:i.hire_date,onChange:a=>r({...i,hire_date:a.target.value}),"data-id":"nceixyoay","data-path":"src/pages/Admin/UserManagement.tsx"})]}),e.jsxs("div",{className:"flex items-center space-x-2","data-id":"f5jnhup3u","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("input",{type:"checkbox",id:"edit_is_active",checked:i.is_active,onChange:a=>r({...i,is_active:a.target.checked}),"data-id":"o12jkuady","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsx(v,{htmlFor:"edit_is_active","data-id":"krzgeyhxw","data-path":"src/pages/Admin/UserManagement.tsx",children:"Active User"})]}),e.jsx(x,{onClick:xa,className:"w-full","data-id":"6o9t13gav","data-path":"src/pages/Admin/UserManagement.tsx",children:"Update Profile"}),e.jsx(Ve,{"data-id":"l8e6khxqz","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsxs("div",{className:"space-y-3","data-id":"10dgx1ufx","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsxs("h4",{className:"font-semibold text-sm flex items-center","data-id":"8nmf1izru","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(B,{className:"w-4 h-4 mr-2","data-id":"smlnnbudq","data-path":"src/pages/Admin/UserManagement.tsx"}),"Quick Actions"]}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>{const a=document.querySelector('[value="permissions"]');a&&a.click()},className:"w-full","data-id":"de0c3k61q","data-path":"src/pages/Admin/UserManagement.tsx",children:"Manage Detailed Permissions"})]})]})})}),e.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4","data-id":"bcsdov6u6","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("div",{"data-id":"2zytn19nt","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(_e,{className:"h-full","data-id":"zdbst3chi","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsxs("div",{className:"space-y-4","data-id":"rnvm4wyej","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsxs("h3",{className:"font-semibold text-lg mb-3 flex items-center","data-id":"t2gyg0uoe","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(Ee,{className:"w-5 h-5 mr-2 text-blue-600","data-id":"0t2lphpiv","data-path":"src/pages/Admin/UserManagement.tsx"}),"User Summary"]}),e.jsxs("div",{className:"space-y-3","data-id":"29ukm1v6k","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg","data-id":"zj46avv1z","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("p",{className:"text-sm text-gray-600","data-id":"enzqvwc0s","data-path":"src/pages/Admin/UserManagement.tsx",children:"Employee ID"}),e.jsx("p",{className:"font-medium","data-id":"r0nl0uuoa","data-path":"src/pages/Admin/UserManagement.tsx",children:(h==null?void 0:h.employee_id)||"N/A"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg","data-id":"c457iusd1","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("p",{className:"text-sm text-gray-600","data-id":"9eeuflj27","data-path":"src/pages/Admin/UserManagement.tsx",children:"Current Role"}),e.jsx(f,{className:Ze((h==null?void 0:h.role)||""),"data-id":"cq4fwvmsa","data-path":"src/pages/Admin/UserManagement.tsx",children:(h==null?void 0:h.role)||"N/A"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg","data-id":"9bdoi6uby","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("p",{className:"text-sm text-gray-600","data-id":"sn9c6q0ts","data-path":"src/pages/Admin/UserManagement.tsx",children:"Station Assignment"}),e.jsx(f,{className:Ke((h==null?void 0:h.station)||""),"data-id":"03alblvq1","data-path":"src/pages/Admin/UserManagement.tsx",children:(h==null?void 0:h.station)||"N/A"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg","data-id":"7jzgyu18n","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("p",{className:"text-sm text-gray-600","data-id":"7vmlea86x","data-path":"src/pages/Admin/UserManagement.tsx",children:"Status"}),e.jsx(f,{className:h!=null&&h.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800","data-id":"cznygp6kv","data-path":"src/pages/Admin/UserManagement.tsx",children:h!=null&&h.is_active?"Active":"Inactive"})]})]}),e.jsx(Ve,{"data-id":"o1ee52k1w","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsxs("h4",{className:"font-semibold text-md flex items-center","data-id":"778w3pm6d","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(B,{className:"w-4 h-4 mr-2 text-green-600","data-id":"nspkwzqiy","data-path":"src/pages/Admin/UserManagement.tsx"}),"Permissions Overview"]}),e.jsx("div",{className:"space-y-2","data-id":"crc6dmavr","data-path":"src/pages/Admin/UserManagement.tsx",children:(()=>{try{const a=h!=null&&h.detailed_permissions?JSON.parse(h.detailed_permissions):{},u=["dashboard","products","employees","sales_reports","vendors","orders","licenses","salary","inventory","delivery"];return Object.keys(a).length===0?e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-200","data-id":"iff916vts","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("p",{className:"text-sm text-yellow-800 font-medium","data-id":"r7jau2dei","data-path":"src/pages/Admin/UserManagement.tsx",children:"No Permissions Configured"}),e.jsx("p",{className:"text-xs text-yellow-700","data-id":"0sgpgnziz","data-path":"src/pages/Admin/UserManagement.tsx",children:"Use the Permissions tab to set up access levels"})]}):u.map(M=>{const k=a[M],ve=k==null?void 0:k.view,le=k==null?void 0:k.edit,me=k==null?void 0:k.create;return e.jsx("div",{className:"p-2 bg-gray-50 rounded-lg","data-id":"y5crtpfo2","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsxs("div",{className:"flex items-center justify-between mb-1","data-id":"q8gmlvcgi","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("span",{className:"text-sm font-medium capitalize","data-id":"clomrz10q","data-path":"src/pages/Admin/UserManagement.tsx",children:M.replace("_"," ")}),e.jsxs("div",{className:"flex space-x-1","data-id":"s6d2k22gt","data-path":"src/pages/Admin/UserManagement.tsx",children:[ve&&e.jsx(f,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700","data-id":"olu1hygzu","data-path":"src/pages/Admin/UserManagement.tsx",children:"View"}),le&&e.jsx(f,{variant:"outline",className:"text-xs bg-yellow-50 text-yellow-700","data-id":"lsq6uu80d","data-path":"src/pages/Admin/UserManagement.tsx",children:"Edit"}),me&&e.jsx(f,{variant:"outline",className:"text-xs bg-green-50 text-green-700","data-id":"2092gja52","data-path":"src/pages/Admin/UserManagement.tsx",children:"Create"}),!ve&&!le&&!me&&e.jsx(f,{variant:"secondary",className:"text-xs","data-id":"b5ukyqzq7","data-path":"src/pages/Admin/UserManagement.tsx",children:"No Access"})]})]})},M)})}catch{return e.jsxs("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200","data-id":"jqhwwxy6b","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("p",{className:"text-sm text-red-800 font-medium","data-id":"xoczz6gtd","data-path":"src/pages/Admin/UserManagement.tsx",children:"Permission Data Error"}),e.jsx("p",{className:"text-xs text-red-700","data-id":"4j6wlejb6","data-path":"src/pages/Admin/UserManagement.tsx",children:"Invalid permission format detected"})]})}})()})]})})}),e.jsx("div",{"data-id":"2jfd7pi4s","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(_e,{className:"h-full","data-id":"8owel5fam","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsxs("div",{className:"space-y-4","data-id":"fkndyvfzw","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsxs("h3",{className:"font-semibold text-lg mb-3 flex items-center","data-id":"ffkcj8r6p","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(_a,{className:"w-5 h-5 mr-2 text-orange-600","data-id":"i2t3098qa","data-path":"src/pages/Admin/UserManagement.tsx"}),"Recent Activity"]}),e.jsxs("div",{className:"space-y-3","data-id":"40k6p3ssm","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 rounded-lg","data-id":"iiym5398c","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(Ra,{className:"w-4 h-4 text-blue-600 mt-1","data-id":"ry68f73wn","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsxs("div",{"data-id":"09lgvplvi","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("p",{className:"text-sm font-medium","data-id":"g6w6z1zb0","data-path":"src/pages/Admin/UserManagement.tsx",children:"Profile Updated"}),e.jsx("p",{className:"text-xs text-gray-600","data-id":"42paxbxvx","data-path":"src/pages/Admin/UserManagement.tsx",children:"Last modified today"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-50 rounded-lg","data-id":"q60zjznbv","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx($e,{className:"w-4 h-4 text-green-600 mt-1","data-id":"8b9vkxafw","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsxs("div",{"data-id":"kk725pw7n","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("p",{className:"text-sm font-medium","data-id":"i69f6x7bj","data-path":"src/pages/Admin/UserManagement.tsx",children:"Account Status"}),e.jsxs("p",{className:"text-xs text-gray-600","data-id":"cshws307t","data-path":"src/pages/Admin/UserManagement.tsx",children:["Currently ",h!=null&&h.is_active?"active":"inactive"]})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-purple-50 rounded-lg","data-id":"moiblym6a","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(ge,{className:"w-4 h-4 text-purple-600 mt-1","data-id":"ziemose1p","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsxs("div",{"data-id":"9o8z2crmw","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("p",{className:"text-sm font-medium","data-id":"tr191nr97","data-path":"src/pages/Admin/UserManagement.tsx",children:"Station Assignment"}),e.jsxs("p",{className:"text-xs text-gray-600","data-id":"kbebpl5nk","data-path":"src/pages/Admin/UserManagement.tsx",children:["Assigned to ",h==null?void 0:h.station]})]})]})]}),e.jsx(Ve,{"data-id":"w96b1wmqt","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsxs("h4",{className:"font-semibold text-md mb-3 flex items-center","data-id":"7itw4pcxk","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(be,{className:"w-4 h-4 mr-2 text-indigo-600","data-id":"iuuik3hhv","data-path":"src/pages/Admin/UserManagement.tsx"}),"Tips & Help"]}),e.jsxs("div",{className:"space-y-3","data-id":"5z4rdubfp","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-200","data-id":"3gbmo1jmj","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsxs("div",{className:"flex items-start space-x-2","data-id":"6l876n7c8","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(Ta,{className:"w-4 h-4 text-yellow-600 mt-1","data-id":"ayxekkg84","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsxs("div",{"data-id":"qpotp9gxn","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800","data-id":"gcj4kubel","data-path":"src/pages/Admin/UserManagement.tsx",children:"Role Changes"}),e.jsx("p",{className:"text-xs text-yellow-700","data-id":"euxkng15h","data-path":"src/pages/Admin/UserManagement.tsx",children:"Changing roles will affect user permissions immediately"})]})]})}),e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200","data-id":"navsrhltm","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsxs("div",{className:"flex items-start space-x-2","data-id":"gi0ynf1ps","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(De,{className:"w-4 h-4 text-blue-600 mt-1","data-id":"i3tmumzgi","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsxs("div",{"data-id":"tn09pet14","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("p",{className:"text-sm font-medium text-blue-800","data-id":"8txmm9c5u","data-path":"src/pages/Admin/UserManagement.tsx",children:"Station Assignment"}),e.jsx("p",{className:"text-xs text-blue-700","data-id":"739yx3f3z","data-path":"src/pages/Admin/UserManagement.tsx",children:"Users can only access data for their assigned station"})]})]})}),e.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200","data-id":"q84ge8exe","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsxs("div",{className:"flex items-start space-x-2","data-id":"6hnzvxh4c","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(Ea,{className:"w-4 h-4 text-green-600 mt-1","data-id":"8s5f24ley","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsxs("div",{"data-id":"5z3u2mauz","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx("p",{className:"text-sm font-medium text-green-800","data-id":"hn0dp146b","data-path":"src/pages/Admin/UserManagement.tsx",children:"Contact Information"}),e.jsx("p",{className:"text-xs text-green-700","data-id":"ejm80vb59","data-path":"src/pages/Admin/UserManagement.tsx",children:"Keep phone numbers updated for important notifications"})]})]})})]})]})})})]})]})]})})]}),e.jsx(ke,{value:"permissions","data-id":"bp34661vk","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(es,{"data-id":"y1loupfje","data-path":"src/pages/Admin/UserManagement.tsx"})})]}),e.jsx(Za,{isOpen:w,onClose:()=>A(!1),onSave:ja,selectedCount:P.selectedCount,isLoading:b,itemName:"user profiles","data-id":"081ka6in2","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsxs("div",{className:"space-y-4","data-id":"5ht9bbq6i","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsxs("div",{"data-id":"75lrkatb9","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(v,{htmlFor:"batch_role","data-id":"yssfey41a","data-path":"src/pages/Admin/UserManagement.tsx",children:"Role"}),e.jsxs(F,{value:o.role,onValueChange:a=>t({...o,role:a}),"data-id":"jn5xqsg3w","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx($,{"data-id":"0y8rr0ddw","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(L,{placeholder:"Select role to update","data-id":"4w8ryhdl8","data-path":"src/pages/Admin/UserManagement.tsx"})}),e.jsxs(I,{"data-id":"yhyxzji2m","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(j,{value:"","data-id":"51b30htwl","data-path":"src/pages/Admin/UserManagement.tsx",children:"Keep existing roles"}),s.map(a=>e.jsx(j,{value:a,"data-id":"zoyb33mh8","data-path":"src/pages/Admin/UserManagement.tsx",children:a},a))]})]})]}),e.jsxs("div",{"data-id":"hqyap7tc6","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(v,{htmlFor:"batch_station","data-id":"46hiw7cft","data-path":"src/pages/Admin/UserManagement.tsx",children:"Station"}),e.jsxs(F,{value:o.station,onValueChange:a=>t({...o,station:a}),"data-id":"vshz1qn6q","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx($,{"data-id":"6q3tgf7cy","data-path":"src/pages/Admin/UserManagement.tsx",children:e.jsx(L,{placeholder:"Select station to update","data-id":"7ptzwv7hv","data-path":"src/pages/Admin/UserManagement.tsx"})}),e.jsxs(I,{"data-id":"uuwisgvcu","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(j,{value:"","data-id":"ly8czrq61","data-path":"src/pages/Admin/UserManagement.tsx",children:"Keep existing stations"}),n.map(a=>e.jsx(j,{value:a,"data-id":"2fs4zafag","data-path":"src/pages/Admin/UserManagement.tsx",children:a},a))]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2","data-id":"i9s5b3kdk","data-path":"src/pages/Admin/UserManagement.tsx",children:[e.jsx(He,{id:"batch_is_active",checked:o.is_active,onCheckedChange:a=>t({...o,is_active:a}),"data-id":"x553cf0zr","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsx(v,{htmlFor:"batch_is_active","data-id":"sd0d6187f","data-path":"src/pages/Admin/UserManagement.tsx",children:"Set all selected users as active"})]})]})}),e.jsx(Oa,{isOpen:z,onClose:()=>Z(!1),onConfirm:fa,selectedCount:P.selectedCount,isLoading:b,itemName:"user profiles",selectedItems:P.getSelectedData(K,a=>a.id).map(a=>({id:a.id,name:`${a.employee_id} - ${a.role}`})),"data-id":"6ackh0ag9","data-path":"src/pages/Admin/UserManagement.tsx"}),e.jsx(ss,{isOpen:ne,onClose:()=>ue(!1),onUserCreated:()=>{O(),U({title:"Success",description:"New user account and profile created successfully"})},"data-id":"of4d3cvuv","data-path":"src/pages/Admin/UserManagement.tsx"})]}):e.jsx(Ca,{feature:"User Management",requiredRole:"Administrator","data-id":"8layjxget","data-path":"src/pages/Admin/UserManagement.tsx"})};export{Vs as default};
//# sourceMappingURL=UserManagement-CdmtEO3b.js.map
