{"version":3,"file":"ProductList-B5m9hzC3.js","sources":["../../src/components/ProductLogs.tsx","../../src/components/HighlightText.tsx","../../src/hooks/use-mobile.tsx","../../src/components/ResponsiveWrapper.tsx","../../src/components/ProductCards.tsx","../../src/pages/Products/ProductList.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle } from\n'@/components/ui/dialog';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Badge } from '@/components/ui/badge';\nimport { toast } from '@/hooks/use-toast';\nimport { Calendar, TrendingUp, DollarSign, Package, ArrowRight } from 'lucide-react';\n\ninterface ProductLog {\n  ID: number;\n  product_id: number;\n  field_name: string;\n  old_value: string;\n  new_value: string;\n  change_date: string;\n  changed_by: number;\n}\n\ninterface ProductLogsProps {\n  isOpen: boolean;\n  onClose: () => void;\n  productId: number;\n  productName: string;\n}\n\nconst ProductLogs: React.FC<ProductLogsProps> = ({ isOpen, onClose, productId, productName }) => {\n  const [logs, setLogs] = useState<ProductLog[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (isOpen && productId) {\n      loadProductLogs();\n    }\n  }, [isOpen, productId]);\n\n  const loadProductLogs = async () => {\n    try {\n      setLoading(true);\n      console.log('Loading product logs for product ID:', productId);\n\n      const { data, error } = await window.ezsite.apis.tablePage('11756', {\n        PageNo: 1,\n        PageSize: 100,\n        OrderByField: 'change_date',\n        IsAsc: false,\n        Filters: [\n        { name: 'product_id', op: 'Equal', value: productId }]\n\n      });\n\n      if (error) {\n        console.error('API error loading logs:', error);\n        throw error;\n      }\n\n      console.log('Loaded logs:', data?.List || []);\n      setLogs(data?.List || []);\n    } catch (error) {\n      console.error('Error loading product logs:', error);\n      toast({\n        title: \"Error\",\n        description: `Failed to load product change logs: ${error}`,\n        variant: \"destructive\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    if (!dateString) return '-';\n    try {\n      return new Date(dateString).toLocaleString();\n    } catch {\n      return '-';\n    }\n  };\n\n  const formatValue = (fieldName: string, value: string) => {\n    if (!value || value === '') return '-';\n\n    // Format price fields with currency\n    if (fieldName.includes('price') || fieldName === 'profit_margin') {\n      const numValue = parseFloat(value);\n      if (!isNaN(numValue)) {\n        return `$${numValue.toFixed(2)}`;\n      }\n    }\n\n    // Format date fields\n    if (fieldName.includes('date')) {\n      try {\n        return new Date(value).toLocaleDateString();\n      } catch {\n        return value;\n      }\n    }\n\n    return value;\n  };\n\n  const getFieldIcon = (fieldName: string) => {\n    switch (fieldName) {\n      case 'last_shopping_date':\n        return <Calendar className=\"w-4 h-4\" data-id=\"hc2kwpyda\" data-path=\"src/components/ProductLogs.tsx\" />;\n      case 'case_price':\n      case 'unit_price':\n      case 'retail_price':\n        return <DollarSign className=\"w-4 h-4\" data-id=\"cl9g91i3q\" data-path=\"src/components/ProductLogs.tsx\" />;\n      case 'unit_per_case':\n        return <Package className=\"w-4 h-4\" data-id=\"4znreyhu3\" data-path=\"src/components/ProductLogs.tsx\" />;\n      case 'profit_margin':\n        return <TrendingUp className=\"w-4 h-4\" data-id=\"xeuod0e31\" data-path=\"src/components/ProductLogs.tsx\" />;\n      default:\n        return null;\n    }\n  };\n\n  const getFieldDisplayName = (fieldName: string) => {\n    switch (fieldName) {\n      case 'last_shopping_date':\n        return 'Last Shopping Date';\n      case 'case_price':\n        return 'Case Price';\n      case 'unit_per_case':\n        return 'Unit Per Case';\n      case 'unit_price':\n        return 'Unit Price';\n      case 'retail_price':\n        return 'Retail Price';\n      case 'profit_margin':\n        return 'Profit Margin';\n      default:\n        return fieldName.replace('_', ' ').replace(/\\b\\w/g, (l) => l.toUpperCase());\n    }\n  };\n\n  const getFieldColor = (fieldName: string) => {\n    switch (fieldName) {\n      case 'last_shopping_date':\n        return 'bg-blue-100 text-blue-800';\n      case 'case_price':\n        return 'bg-green-100 text-green-800';\n      case 'unit_per_case':\n        return 'bg-purple-100 text-purple-800';\n      case 'unit_price':\n        return 'bg-orange-100 text-orange-800';\n      case 'retail_price':\n        return 'bg-red-100 text-red-800';\n      case 'profit_margin':\n        return 'bg-yellow-100 text-yellow-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose} data-id=\"riru1v0g2\" data-path=\"src/components/ProductLogs.tsx\">\n      <DialogContent className=\"max-w-4xl max-h-[80vh] overflow-y-auto\" data-id=\"t07tjcdcm\" data-path=\"src/components/ProductLogs.tsx\">\n        <DialogHeader data-id=\"zecicbo1p\" data-path=\"src/components/ProductLogs.tsx\">\n          <DialogTitle className=\"flex items-center space-x-2\" data-id=\"2kw0lyje1\" data-path=\"src/components/ProductLogs.tsx\">\n            <Package className=\"w-5 h-5\" data-id=\"0tqm973z6\" data-path=\"src/components/ProductLogs.tsx\" />\n            <span data-id=\"6s0lx11jg\" data-path=\"src/components/ProductLogs.tsx\">Product Change Logs</span>\n          </DialogTitle>\n          <DialogDescription data-id=\"n6ihqul3s\" data-path=\"src/components/ProductLogs.tsx\">\n            Change history for: <span className=\"font-medium\" data-id=\"cleq4da3a\" data-path=\"src/components/ProductLogs.tsx\">{productName}</span>\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"mt-4\" data-id=\"sw9xfs0so\" data-path=\"src/components/ProductLogs.tsx\">\n          {loading ?\n          <div className=\"space-y-4\" data-id=\"5jcpjg805\" data-path=\"src/components/ProductLogs.tsx\">\n              {[...Array(5)].map((_, i) =>\n            <div key={i} className=\"h-16 bg-gray-100 rounded animate-pulse\" data-id=\"g970bd1vj\" data-path=\"src/components/ProductLogs.tsx\"></div>\n            )}\n            </div> :\n          logs.length === 0 ?\n          <div className=\"text-center py-8\" data-id=\"7yugrxnu6\" data-path=\"src/components/ProductLogs.tsx\">\n              <Package className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" data-id=\"cdb8qxkju\" data-path=\"src/components/ProductLogs.tsx\" />\n              <p className=\"text-gray-500\" data-id=\"u8sg253u8\" data-path=\"src/components/ProductLogs.tsx\">No change logs found for this product</p>\n              <p className=\"text-sm text-gray-400 mt-2\" data-id=\"jq8ddkkhp\" data-path=\"src/components/ProductLogs.tsx\">\n                Changes will appear here when product information is updated\n              </p>\n            </div> :\n\n          <div className=\"border rounded-lg overflow-hidden\" data-id=\"v396cnny9\" data-path=\"src/components/ProductLogs.tsx\">\n              <Table data-id=\"i7eusq3he\" data-path=\"src/components/ProductLogs.tsx\">\n                <TableHeader data-id=\"0irube5by\" data-path=\"src/components/ProductLogs.tsx\">\n                  <TableRow data-id=\"8z8htwwqs\" data-path=\"src/components/ProductLogs.tsx\">\n                    <TableHead data-id=\"3p0gnpe49\" data-path=\"src/components/ProductLogs.tsx\">Field</TableHead>\n                    <TableHead data-id=\"jre7lj1as\" data-path=\"src/components/ProductLogs.tsx\">Change Date</TableHead>\n                    <TableHead data-id=\"go1ih1wcq\" data-path=\"src/components/ProductLogs.tsx\">Old Value</TableHead>\n                    <TableHead className=\"text-center\" data-id=\"o6h79kyqt\" data-path=\"src/components/ProductLogs.tsx\">â†’</TableHead>\n                    <TableHead data-id=\"sqxw0lg6q\" data-path=\"src/components/ProductLogs.tsx\">New Value</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody data-id=\"710opnlq5\" data-path=\"src/components/ProductLogs.tsx\">\n                  {logs.map((log) =>\n                <TableRow key={log.ID} data-id=\"iigia2ugp\" data-path=\"src/components/ProductLogs.tsx\">\n                      <TableCell data-id=\"th8b3xny0\" data-path=\"src/components/ProductLogs.tsx\">\n                        <div className=\"flex items-center space-x-2\" data-id=\"j14l1bm8r\" data-path=\"src/components/ProductLogs.tsx\">\n                          {getFieldIcon(log.field_name)}\n                          <Badge className={getFieldColor(log.field_name)} data-id=\"6muz1l9ue\" data-path=\"src/components/ProductLogs.tsx\">\n                            {getFieldDisplayName(log.field_name)}\n                          </Badge>\n                        </div>\n                      </TableCell>\n                      <TableCell className=\"text-sm text-gray-600\" data-id=\"dvj4xrm9w\" data-path=\"src/components/ProductLogs.tsx\">\n                        {formatDate(log.change_date)}\n                      </TableCell>\n                      <TableCell data-id=\"azykl7sv0\" data-path=\"src/components/ProductLogs.tsx\">\n                        <span className=\"px-2 py-1 bg-red-50 text-red-700 rounded text-sm\" data-id=\"sdqmonw28\" data-path=\"src/components/ProductLogs.tsx\">\n                          {formatValue(log.field_name, log.old_value)}\n                        </span>\n                      </TableCell>\n                      <TableCell className=\"text-center\" data-id=\"ahuzhn6l6\" data-path=\"src/components/ProductLogs.tsx\">\n                        <ArrowRight className=\"w-4 h-4 text-gray-400\" data-id=\"3c6qzx23v\" data-path=\"src/components/ProductLogs.tsx\" />\n                      </TableCell>\n                      <TableCell data-id=\"t449z8zqe\" data-path=\"src/components/ProductLogs.tsx\">\n                        <span className=\"px-2 py-1 bg-green-50 text-green-700 rounded text-sm\" data-id=\"8v0patywo\" data-path=\"src/components/ProductLogs.tsx\">\n                          {formatValue(log.field_name, log.new_value)}\n                        </span>\n                      </TableCell>\n                    </TableRow>\n                )}\n                </TableBody>\n              </Table>\n            </div>\n          }\n        </div>\n      </DialogContent>\n    </Dialog>);\n\n};\n\nexport default ProductLogs;","import React from 'react';\n\ninterface HighlightTextProps {\n  text: string;\n  searchTerms: string[];\n  allMatch: boolean;\n}\n\nconst HighlightText: React.FC<HighlightTextProps> = ({ text, searchTerms, allMatch }) => {\n  if (!searchTerms.length || !text) return <>{text}</>;\n\n  // Create a combined regex for all search terms\n  const escapedTerms = searchTerms.map((term) =>\n  term.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n  );\n  const regex = new RegExp(`(${escapedTerms.join('|')})`, 'gi');\n\n  const parts = text.split(regex);\n\n  return (\n    <>\n      {parts.map((part, index) => {\n        const isMatch = searchTerms.some((term) =>\n        part.toLowerCase() === term.toLowerCase()\n        );\n\n        if (isMatch) {\n          return (\n            <span\n              key={index}\n              className={`font-semibold ${\n              allMatch ? 'bg-green-200 text-green-800' : 'bg-yellow-200 text-yellow-800'}`\n              } data-id=\"tao96ib2x\" data-path=\"src/components/HighlightText.tsx\">\n\n              {part}\n            </span>);\n\n        }\n        return part;\n      })}\n    </>);\n\n};\n\nexport default HighlightText;","import * as React from \"react\";\n\n// Device breakpoints\nconst MOBILE_BREAKPOINT = 768;\nconst TABLET_BREAKPOINT = 1024;\nconst DESKTOP_BREAKPOINT = 1280;\n\ninterface DeviceInfo {\n  isMobile: boolean;\n  isTablet: boolean;\n  isDesktop: boolean;\n  screenWidth: number;\n  orientation: 'portrait' | 'landscape';\n  touchDevice: boolean;\n}\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined);\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    };\n    mql.addEventListener(\"change\", onChange);\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    return () => mql.removeEventListener(\"change\", onChange);\n  }, []);\n\n  return !!isMobile;\n}\n\nexport function useDeviceDetection(): DeviceInfo {\n  const [deviceInfo, setDeviceInfo] = React.useState<DeviceInfo>(() => {\n    if (typeof window === 'undefined') {\n      return {\n        isMobile: false,\n        isTablet: false,\n        isDesktop: true,\n        screenWidth: 1920,\n        orientation: 'landscape',\n        touchDevice: false\n      };\n    }\n\n    const width = window.innerWidth;\n    return {\n      isMobile: width < MOBILE_BREAKPOINT,\n      isTablet: width >= MOBILE_BREAKPOINT && width < TABLET_BREAKPOINT,\n      isDesktop: width >= TABLET_BREAKPOINT,\n      screenWidth: width,\n      orientation: window.innerHeight > window.innerWidth ? 'portrait' : 'landscape',\n      touchDevice: 'ontouchstart' in window || navigator.maxTouchPoints > 0\n    };\n  });\n\n  React.useEffect(() => {\n    const updateDeviceInfo = () => {\n      const width = window.innerWidth;\n      const height = window.innerHeight;\n\n      setDeviceInfo({\n        isMobile: width < MOBILE_BREAKPOINT,\n        isTablet: width >= MOBILE_BREAKPOINT && width < TABLET_BREAKPOINT,\n        isDesktop: width >= TABLET_BREAKPOINT,\n        screenWidth: width,\n        orientation: height > width ? 'portrait' : 'landscape',\n        touchDevice: 'ontouchstart' in window || navigator.maxTouchPoints > 0\n      });\n    };\n\n    // Create media queries for different breakpoints\n    const mobileQuery = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);\n    const tabletQuery = window.matchMedia(`(min-width: ${MOBILE_BREAKPOINT}px) and (max-width: ${TABLET_BREAKPOINT - 1}px)`);\n    const orientationQuery = window.matchMedia('(orientation: portrait)');\n\n    // Listen for changes\n    mobileQuery.addEventListener('change', updateDeviceInfo);\n    tabletQuery.addEventListener('change', updateDeviceInfo);\n    orientationQuery.addEventListener('change', updateDeviceInfo);\n    window.addEventListener('resize', updateDeviceInfo);\n\n    // Initial call\n    updateDeviceInfo();\n\n    return () => {\n      mobileQuery.removeEventListener('change', updateDeviceInfo);\n      tabletQuery.removeEventListener('change', updateDeviceInfo);\n      orientationQuery.removeEventListener('change', updateDeviceInfo);\n      window.removeEventListener('resize', updateDeviceInfo);\n    };\n  }, []);\n\n  return deviceInfo;\n}\n\n// Hook for responsive layout decisions\nexport function useResponsiveLayout() {\n  const device = useDeviceDetection();\n\n  return {\n    ...device,\n    showSidebar: device.isDesktop,\n    showBottomNav: device.isMobile,\n    compactHeader: device.isMobile || device.isTablet,\n    stackedLayout: device.isMobile,\n    columnsCount: device.isMobile ? 1 : device.isTablet ? 2 : 3,\n    tableMode: device.isMobile ? 'cards' : 'table',\n    sidebarMode: device.isMobile ? 'overlay' : device.isTablet ? 'mini' : 'full'\n  };\n}","import React from 'react';\nimport { useResponsiveLayout } from '@/hooks/use-mobile';\nimport { cn } from '@/lib/utils';\n\ninterface ResponsiveWrapperProps {\n  children: React.ReactNode;\n  className?: string;\n  mobileClassName?: string;\n  tabletClassName?: string;\n  desktopClassName?: string;\n}\n\nexport const ResponsiveWrapper: React.FC<ResponsiveWrapperProps> = ({\n  children,\n  className = '',\n  mobileClassName = '',\n  tabletClassName = '',\n  desktopClassName = ''\n}) => {\n  const responsive = useResponsiveLayout();\n\n  const responsiveClass = cn(\n    className,\n    responsive.isMobile && mobileClassName,\n    responsive.isTablet && tabletClassName,\n    responsive.isDesktop && desktopClassName\n  );\n\n  return (\n    <div className={responsiveClass} data-id=\"madsl6stl\" data-path=\"src/components/ResponsiveWrapper.tsx\">\n      {children}\n    </div>);\n\n};\n\ninterface ResponsiveGridProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const ResponsiveGrid: React.FC<ResponsiveGridProps> = ({\n  children,\n  className = ''\n}) => {\n  const responsive = useResponsiveLayout();\n\n  const gridClass = cn(\n    'grid gap-4',\n    responsive.isMobile && 'grid-cols-1',\n    responsive.isTablet && 'grid-cols-2',\n    responsive.isDesktop && 'grid-cols-3 lg:grid-cols-4',\n    className\n  );\n\n  return (\n    <div className={gridClass} data-id=\"c6p5ab7i7\" data-path=\"src/components/ResponsiveWrapper.tsx\">\n      {children}\n    </div>);\n\n};\n\ninterface ResponsiveTableProps {\n  children: React.ReactNode;\n  className?: string;\n  fallbackComponent?: React.ReactNode;\n}\n\nexport const ResponsiveTable: React.FC<ResponsiveTableProps> = ({\n  children,\n  className = '',\n  fallbackComponent\n}) => {\n  const responsive = useResponsiveLayout();\n\n  if (responsive.isMobile && fallbackComponent) {\n    return <>{fallbackComponent}</>;\n  }\n\n  return (\n    <div className={cn(\n      'overflow-x-auto',\n      responsive.isMobile && 'overflow-x-scroll',\n      className\n    )} data-id=\"9t60y0r9q\" data-path=\"src/components/ResponsiveWrapper.tsx\">\n      {children}\n    </div>);\n\n};\n\ninterface ResponsiveCardGridProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport const ResponsiveCardGrid: React.FC<ResponsiveCardGridProps> = ({\n  children,\n  className = ''\n}) => {\n  const responsive = useResponsiveLayout();\n\n  const gridClass = cn(\n    'grid gap-4 sm:gap-6',\n    responsive.isMobile && 'grid-cols-1',\n    responsive.isTablet && 'grid-cols-2',\n    responsive.isDesktop && 'grid-cols-2 lg:grid-cols-3 xl:grid-cols-4',\n    className\n  );\n\n  return (\n    <div className={gridClass} data-id=\"ppqziv3d5\" data-path=\"src/components/ResponsiveWrapper.tsx\">\n      {children}\n    </div>);\n\n};\n\ninterface ResponsiveStackProps {\n  children: React.ReactNode;\n  className?: string;\n  spacing?: 'sm' | 'md' | 'lg';\n}\n\nexport const ResponsiveStack: React.FC<ResponsiveStackProps> = ({\n  children,\n  className = '',\n  spacing = 'md'\n}) => {\n  const responsive = useResponsiveLayout();\n\n  const spacingClass = {\n    sm: 'space-y-2 sm:space-y-3',\n    md: 'space-y-4 sm:space-y-6',\n    lg: 'space-y-6 sm:space-y-8'\n  }[spacing];\n\n  const stackClass = cn(\n    'flex flex-col',\n    spacingClass,\n    responsive.isMobile && 'px-1',\n    className\n  );\n\n  return (\n    <div className={stackClass} data-id=\"t161ssjzg\" data-path=\"src/components/ResponsiveWrapper.tsx\">\n      {children}\n    </div>);\n\n};\n\nexport default ResponsiveWrapper;","import React from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { FileText, Save, Trash2, Loader2 } from 'lucide-react';\nimport HighlightText from '@/components/HighlightText';\n\ninterface Product {\n  ID: number;\n  product_name: string;\n  category: string;\n  quantity_in_stock: number;\n  minimum_stock: number;\n  supplier: string;\n  description: string;\n  created_by: number;\n  serial_number: number;\n  weight: number;\n  weight_unit: string;\n  department: string;\n  merchant_id: number;\n  bar_code_case: string;\n  bar_code_unit: string;\n  last_updated_date: string;\n  last_shopping_date: string;\n  case_price: number;\n  unit_per_case: number;\n  unit_price: number;\n  retail_price: number;\n  overdue: boolean;\n}\n\ninterface ProductCardsProps {\n  products: Product[];\n  searchTerm: string;\n  onViewLogs: (id: number, name: string) => void;\n  onSaveProduct: (id: number) => void;\n  onDeleteProduct: (id: number) => void;\n  savingProductId: number | null;\n}\n\nconst ProductCards: React.FC<ProductCardsProps> = ({\n  products,\n  searchTerm,\n  onViewLogs,\n  onSaveProduct,\n  onDeleteProduct,\n  savingProductId\n}) => {\n  const formatDate = (dateString: string) => {\n    if (!dateString) return '-';\n    try {\n      return new Date(dateString).toLocaleDateString();\n    } catch {\n      return '-';\n    }\n  };\n\n  const getSearchData = (text: string) => {\n    if (!searchTerm || !text) {\n      return {\n        keywords: [],\n        allMatch: false,\n        highlightComponent: text\n      };\n    }\n\n    const searchKeywords = searchTerm.toLowerCase().trim().split(/\\s+/).filter((keyword) => keyword.length > 0);\n    const textLower = text.toLowerCase();\n\n    // Check if all keywords are present in this specific text\n    const allMatch = searchKeywords.every((keyword) => textLower.includes(keyword));\n\n    return {\n      keywords: searchKeywords,\n      allMatch,\n      highlightComponent:\n      <HighlightText\n        text={text}\n        searchTerms={searchKeywords}\n        allMatch={allMatch} data-id=\"58g0bt74c\" data-path=\"src/components/ProductCards.tsx\" />\n    };\n  };\n\n  const calculateMargin = (product: Product) => {\n    if (product.unit_price && product.retail_price && product.retail_price > 0) {\n      const margin = (product.retail_price - product.unit_price) / product.retail_price * 100;\n      return {\n        value: margin,\n        variant: margin > 20 ? 'default' : margin > 10 ? 'secondary' : 'destructive'\n      };\n    }\n    return null;\n  };\n\n  return (\n    <div className=\"grid grid-cols-1 gap-4\" data-id=\"vcoqocbmv\" data-path=\"src/components/ProductCards.tsx\">\n      {products.map((product) => {\n        const margin = calculateMargin(product);\n\n        return (\n          <Card key={product.ID} className=\"hover:shadow-md transition-shadow\" data-id=\"tkdth0ury\" data-path=\"src/components/ProductCards.tsx\">\n            <CardHeader className=\"pb-3\" data-id=\"uq7z5v57b\" data-path=\"src/components/ProductCards.tsx\">\n              <div className=\"flex items-start justify-between\" data-id=\"ngqjwvfws\" data-path=\"src/components/ProductCards.tsx\">\n                <div className=\"flex-1 min-w-0\" data-id=\"yui8uv297\" data-path=\"src/components/ProductCards.tsx\">\n                  <CardTitle className=\"text-lg leading-tight\" data-id=\"4gefxa46g\" data-path=\"src/components/ProductCards.tsx\">\n                    {searchTerm ?\n                    getSearchData(product.product_name).highlightComponent :\n                    product.product_name\n                    }\n                  </CardTitle>\n                  <div className=\"flex items-center gap-2 mt-1\" data-id=\"07m0b3qxb\" data-path=\"src/components/ProductCards.tsx\">\n                    <Badge variant=\"outline\" className=\"text-xs\" data-id=\"6igwrok4a\" data-path=\"src/components/ProductCards.tsx\">\n                      #{product.serial_number || '-'}\n                    </Badge>\n                    <Badge variant=\"outline\" className=\"text-xs\" data-id=\"qv4tmx4tv\" data-path=\"src/components/ProductCards.tsx\">\n                      {searchTerm ?\n                      getSearchData(product.department || 'Convenience Store').highlightComponent :\n                      product.department || 'Convenience Store'\n                      }\n                    </Badge>\n                  </div>\n                </div>\n                <div className=\"flex items-center space-x-1 ml-2\" data-id=\"dkhe03wrp\" data-path=\"src/components/ProductCards.tsx\">\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => onViewLogs(product.ID, product.product_name)}\n                    className=\"p-2\"\n                    title=\"View logs\" data-id=\"eo88gx6p9\" data-path=\"src/components/ProductCards.tsx\">\n\n                    <FileText className=\"w-4 h-4\" data-id=\"23l7w9v0h\" data-path=\"src/components/ProductCards.tsx\" />\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => onSaveProduct(product.ID)}\n                    disabled={savingProductId === product.ID}\n                    className=\"p-2\"\n                    title=\"Save product\" data-id=\"wy9upx6j1\" data-path=\"src/components/ProductCards.tsx\">\n\n                    {savingProductId === product.ID ?\n                    <Loader2 className=\"w-4 h-4 animate-spin\" data-id=\"cpi13a2im\" data-path=\"src/components/ProductCards.tsx\" /> :\n                    <Save className=\"w-4 h-4\" data-id=\"56qwhn9hs\" data-path=\"src/components/ProductCards.tsx\" />\n                    }\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => onDeleteProduct(product.ID)}\n                    className=\"p-2 text-red-600 hover:text-red-700\"\n                    title=\"Delete product\" data-id=\"ll1ytnsax\" data-path=\"src/components/ProductCards.tsx\">\n\n                    <Trash2 className=\"w-4 h-4\" data-id=\"znbcibmod\" data-path=\"src/components/ProductCards.tsx\" />\n                  </Button>\n                </div>\n              </div>\n              {product.description &&\n              <p className=\"text-sm text-gray-600 mt-2 line-clamp-2\" data-id=\"8mdo5s8fb\" data-path=\"src/components/ProductCards.tsx\">\n                  {searchTerm ?\n                getSearchData(product.description).highlightComponent :\n                product.description\n                }\n                </p>\n              }\n            </CardHeader>\n            <CardContent className=\"space-y-3\" data-id=\"w5zeaa2gx\" data-path=\"src/components/ProductCards.tsx\">\n              {/* Pricing Information */}\n              <div className=\"grid grid-cols-2 gap-3 text-sm\" data-id=\"zjkp7xddy\" data-path=\"src/components/ProductCards.tsx\">\n                <div data-id=\"i32gsz0q6\" data-path=\"src/components/ProductCards.tsx\">\n                  <span className=\"text-gray-500\" data-id=\"0h7r2acdd\" data-path=\"src/components/ProductCards.tsx\">Unit Price:</span>\n                  <div className=\"font-medium\" data-id=\"cr4jora7q\" data-path=\"src/components/ProductCards.tsx\">\n                    {product.unit_price ? `$${product.unit_price.toFixed(2)}` : '-'}\n                  </div>\n                </div>\n                <div data-id=\"fb7oysbqc\" data-path=\"src/components/ProductCards.tsx\">\n                  <span className=\"text-gray-500\" data-id=\"lo8tua9hv\" data-path=\"src/components/ProductCards.tsx\">Retail Price:</span>\n                  <div className=\"font-medium\" data-id=\"9u6yh2lg0\" data-path=\"src/components/ProductCards.tsx\">\n                    {product.retail_price ? `$${product.retail_price.toFixed(2)}` : '-'}\n                  </div>\n                </div>\n                <div data-id=\"z8oswopfk\" data-path=\"src/components/ProductCards.tsx\">\n                  <span className=\"text-gray-500\" data-id=\"64ozply7o\" data-path=\"src/components/ProductCards.tsx\">Case Price:</span>\n                  <div className=\"font-medium\" data-id=\"jy4ue1prr\" data-path=\"src/components/ProductCards.tsx\">\n                    {product.case_price ? `$${product.case_price.toFixed(2)}` : '-'}\n                  </div>\n                </div>\n                <div data-id=\"4sl3z79p4\" data-path=\"src/components/ProductCards.tsx\">\n                  <span className=\"text-gray-500\" data-id=\"d846ca4wm\" data-path=\"src/components/ProductCards.tsx\">Profit Margin:</span>\n                  <div className=\"font-medium\" data-id=\"s7kltybae\" data-path=\"src/components/ProductCards.tsx\">\n                    {margin ?\n                    <Badge variant={margin.variant as any} className=\"text-xs\" data-id=\"st1wcyk5n\" data-path=\"src/components/ProductCards.tsx\">\n                        {margin.value.toFixed(1)}%\n                      </Badge> :\n                    '-'}\n                  </div>\n                </div>\n              </div>\n\n              {/* Additional Information */}\n              <div className=\"grid grid-cols-1 gap-2 text-sm border-t pt-3\" data-id=\"8ughceoru\" data-path=\"src/components/ProductCards.tsx\">\n                <div className=\"flex justify-between\" data-id=\"o55w5fzun\" data-path=\"src/components/ProductCards.tsx\">\n                  <span className=\"text-gray-500\" data-id=\"9t7nnwi4o\" data-path=\"src/components/ProductCards.tsx\">Weight:</span>\n                  <span className=\"font-medium\" data-id=\"x66bd4ci2\" data-path=\"src/components/ProductCards.tsx\">\n                    {product.weight && product.weight > 0 ?\n                    `${product.weight} ${product.weight_unit || 'lb'}` :\n                    '-'\n                    }\n                  </span>\n                </div>\n                <div className=\"flex justify-between\" data-id=\"9e15p2e4z\" data-path=\"src/components/ProductCards.tsx\">\n                  <span className=\"text-gray-500\" data-id=\"osmo02jsp\" data-path=\"src/components/ProductCards.tsx\">Supplier:</span>\n                  <span className=\"font-medium truncate ml-2\" data-id=\"pd3k5olyc\" data-path=\"src/components/ProductCards.tsx\">\n                    {searchTerm ?\n                    getSearchData(product.supplier || '-').highlightComponent :\n                    product.supplier || '-'\n                    }\n                  </span>\n                </div>\n                <div className=\"flex justify-between\" data-id=\"o39vnn1ce\" data-path=\"src/components/ProductCards.tsx\">\n                  <span className=\"text-gray-500\" data-id=\"utyht6qtb\" data-path=\"src/components/ProductCards.tsx\">Unit per Case:</span>\n                  <span className=\"font-medium\" data-id=\"3f91uaoh8\" data-path=\"src/components/ProductCards.tsx\">{product.unit_per_case || '-'}</span>\n                </div>\n                <div className=\"flex justify-between\" data-id=\"161xfgys0\" data-path=\"src/components/ProductCards.tsx\">\n                  <span className=\"text-gray-500\" data-id=\"2tbhaxvf4\" data-path=\"src/components/ProductCards.tsx\">Last Updated:</span>\n                  <span className=\"font-medium\" data-id=\"o9pd996us\" data-path=\"src/components/ProductCards.tsx\">{formatDate(product.last_updated_date)}</span>\n                </div>\n                <div className=\"flex justify-between\" data-id=\"bxtiv50ng\" data-path=\"src/components/ProductCards.tsx\">\n                  <span className=\"text-gray-500\" data-id=\"ikluthn8r\" data-path=\"src/components/ProductCards.tsx\">Last Shopping:</span>\n                  <span className=\"font-medium\" data-id=\"oqm9cafl6\" data-path=\"src/components/ProductCards.tsx\">{formatDate(product.last_shopping_date)}</span>\n                </div>\n              </div>\n            </CardContent>\n          </Card>);\n\n      })}\n    </div>);\n\n};\n\nexport default ProductCards;","import React, { useState, useEffect, useMemo, useRef, useCallback } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { toast } from '@/hooks/use-toast';\nimport { Plus, Search, Edit, Trash2, Package, FileText, Loader2, X, Save } from 'lucide-react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '@/contexts/AuthContext';\nimport ProductLogs from '@/components/ProductLogs';\nimport HighlightText from '@/components/HighlightText';\nimport { ResponsiveTable, ResponsiveStack } from '@/components/ResponsiveWrapper';\nimport { useResponsiveLayout } from '@/hooks/use-mobile';\nimport ProductCards from '@/components/ProductCards';\nimport { supabase } from '@/lib/supabase';\n\n\ninterface Product {\n  ID: number;\n  product_name: string;\n  category: string;\n  quantity_in_stock: number;\n  minimum_stock: number;\n  supplier: string;\n  description: string;\n  created_by: number;\n  serial_number: number;\n  weight: number;\n  weight_unit: string;\n  department: string;\n  merchant_id: number;\n  bar_code_case: string;\n  bar_code_unit: string;\n  last_updated_date: string;\n  last_shopping_date: string;\n  case_price: number;\n  unit_per_case: number;\n  unit_price: number;\n  retail_price: number;\n  overdue: boolean;\n}\n\nconst ProductList: React.FC = () => {\n  const navigate = useNavigate();\n  const { userProfile } = useAuth();\n  const responsive = useResponsiveLayout();\n\n  const [products, setProducts] = useState<Product[]>([]);\n  const [allProducts, setAllProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [totalCount, setTotalCount] = useState(0);\n  const [logsModalOpen, setLogsModalOpen] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState<{id: number;name: string;} | null>(null);\n  const [debouncedSearchTerm, setDebouncedSearchTerm] = useState('');\n  const [isSearching, setIsSearching] = useState(false);\n  const [hasMoreProducts, setHasMoreProducts] = useState(true);\n  const [isLoadingMore, setIsLoadingMore] = useState(false);\n  const [savingProductId, setSavingProductId] = useState<number | null>(null);\n\n  const pageSize = 50; // Load more products per batch\n  const [loadedProductsCount, setLoadedProductsCount] = useState(pageSize);\n\n  // Ref for the loading trigger element\n  const loadingTriggerRef = useRef<HTMLDivElement>(null);\n\n  // Debounce search term\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedSearchTerm(searchTerm);\n      setLoadedProductsCount(pageSize); // Reset loaded count when searching\n    }, 300);\n\n    return () => clearTimeout(timer);\n  }, [searchTerm, pageSize]);\n\n  // Load all products initially\n  useEffect(() => {\n    loadAllProducts();\n  }, []);\n\n  // Filter and slice products when search term or loaded count changes\n  useEffect(() => {\n    filterAndSliceProducts();\n  }, [debouncedSearchTerm, loadedProductsCount, allProducts]);\n\n  const loadAllProducts = async () => {\n    try {\n      setLoading(true);\n\n      const { data, error } = await supabase\n        .from('products')\n        .select('*')\n        .order('id', { ascending: false })\n        .limit(1000);\n\n      if (error) throw error;\n\n      setAllProducts(data || []);\n    } catch (error) {\n      console.error('Error loading products:', error);\n      toast({\n        title: \"Error\",\n        description: \"Failed to load products\",\n        variant: \"destructive\"\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filterAndSliceProducts = () => {\n    setIsSearching(!!debouncedSearchTerm);\n\n    let filteredProducts = allProducts;\n\n    // Client-side filtering for keyword matching\n    if (debouncedSearchTerm) {\n      const searchKeywords = debouncedSearchTerm.toLowerCase().trim().split(/\\s+/).filter((keyword) => keyword.length > 0);\n\n      filteredProducts = allProducts.filter((product) => {\n        const searchableText = [\n        product.product_name,\n        product.description,\n        product.category,\n        product.supplier,\n        product.department,\n        product.bar_code_case,\n        product.bar_code_unit,\n        product.serial_number?.toString()].\n        join(' ').toLowerCase();\n\n        // Check if all keywords are present in the searchable text\n        return searchKeywords.every((keyword) => searchableText.includes(keyword));\n      });\n    }\n\n    // Sort by serial number when not searching (show from serial 01)\n    if (!debouncedSearchTerm) {\n      filteredProducts = filteredProducts.sort((a, b) => {\n        const serialA = a.serial_number || 0;\n        const serialB = b.serial_number || 0;\n        return serialA - serialB;\n      });\n    }\n\n    // Slice products based on loaded count for infinite scroll\n    const slicedProducts = filteredProducts.slice(0, loadedProductsCount);\n\n    setProducts(slicedProducts);\n    setTotalCount(filteredProducts.length);\n    setHasMoreProducts(loadedProductsCount < filteredProducts.length);\n  };\n\n  const handleDelete = async (productId: number) => {\n    console.log('handleDelete called for product ID:', productId);\n\n    // Show confirmation dialog\n    const confirmed = confirm('Are you sure you want to delete this product? This action cannot be undone.');\n    console.log('User confirmed deletion:', confirmed);\n\n    if (!confirmed) {\n      console.log('Deletion cancelled by user');\n      return;\n    }\n\n    try {\n      console.log('Attempting to delete product with ID:', productId);\n      const { error } = await supabase\n        .from('products')\n        .delete()\n        .eq('id', productId);\n\n      if (error) {\n        console.error('API returned error:', error);\n        throw error;\n      }\n\n      console.log('Product deleted successfully');\n      toast({\n        title: \"Success\",\n        description: \"Product deleted successfully\"\n      });\n\n      // Reload all products\n      loadAllProducts();\n    } catch (error) {\n      console.error('Error deleting product:', error);\n      toast({\n        title: \"Error\",\n        description: `Failed to delete product: ${error}`,\n        variant: \"destructive\"\n      });\n    }\n  };\n\n  const handleSaveProduct = async (productId: number | null = null) => {\n    console.log('handleSaveProduct called for product ID:', productId);\n\n    if (!hasEditPermission) {\n      toast({\n        title: \"Access Denied\",\n        description: \"You don't have permission to save product information.\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n\n    const isCreating = productId === null;\n    setSavingProductId(productId || -1); // Use -1 for new product creation\n\n    try {\n      if (isCreating) {\n        // Show confirmation dialog for creating new product\n        const confirmed = confirm('Create a new product entry? This will add a new product with default values that you can edit.');\n        if (!confirmed) {\n          console.log('Product creation cancelled by user');\n          setSavingProductId(null);\n          return;\n        }\n\n        // Create a new product with minimal required data\n        // Generate new serial number\n        const { data: serialData } = await supabase\n          .from('products')\n          .select('serial_number')\n          .order('serial_number', { ascending: false })\n          .limit(1);\n\n        const lastSerial = serialData?.[0]?.serial_number || 0;\n        const newSerial = lastSerial + 1;\n\n        const newProductData = {\n          serial_number: newSerial,\n          product_name: `New Product ${newSerial}`,\n          category: 'General',\n          quantity_in_stock: 0,\n          minimum_stock: 0,\n          supplier: '',\n          description: 'Please update this product information',\n          weight: 0,\n          weight_unit: 'lb',\n          department: 'Convenience Store',\n          merchant_id: null,\n          bar_code_case: '',\n          bar_code_unit: '',\n          last_updated_date: new Date().toISOString(),\n          last_shopping_date: null,\n          case_price: 0,\n          unit_per_case: 1,\n          unit_price: 0,\n          retail_price: 0,\n          overdue: false,\n          created_by: userProfile?.user_id || null\n        };\n\n        console.log('Creating new product with data:', newProductData);\n        const { error } = await supabase\n          .from('products')\n          .insert([newProductData]);\n\n        if (error) {\n          console.error('API returned error:', error);\n          throw error;\n        }\n\n        console.log('New product created successfully with serial:', newSerial);\n        toast({\n          title: \"Success\",\n          description: `New product created with serial #${newSerial}. Please edit it to add complete information.`,\n          duration: 5000\n        });\n      } else {\n        // Update existing product\n        const product = products.find((p) => p.ID === productId);\n        if (!product) {\n          throw new Error('Product not found');\n        }\n\n        // Show confirmation dialog for updating existing product\n        const confirmed = confirm(`Save updates to \"${product.product_name}\"? This will update the product information with current values.`);\n        if (!confirmed) {\n          console.log('Product update cancelled by user');\n          setSavingProductId(null);\n          return;\n        }\n\n        console.log('Updating product:', product);\n\n        // Prepare the data for saving (update existing product)\n        const updateData = {\n          ID: product.ID,\n          product_name: product.product_name,\n          category: product.category || '',\n          quantity_in_stock: product.quantity_in_stock || 0,\n          minimum_stock: product.minimum_stock || 0,\n          supplier: product.supplier || '',\n          description: product.description || '',\n          serial_number: product.serial_number || 0,\n          weight: product.weight || 0,\n          weight_unit: product.weight_unit || 'lb',\n          department: product.department || 'Convenience Store',\n          merchant_id: product.merchant_id || null,\n          bar_code_case: product.bar_code_case || '',\n          bar_code_unit: product.bar_code_unit || '',\n          last_updated_date: new Date().toISOString(),\n          last_shopping_date: product.last_shopping_date || null,\n          case_price: product.case_price || 0,\n          unit_per_case: product.unit_per_case || 1,\n          unit_price: product.unit_price || 0,\n          retail_price: product.retail_price || 0,\n          overdue: product.overdue || false,\n          created_by: product.created_by || userProfile?.user_id || null\n        };\n\n        console.log('Updating product with data:', updateData);\n        const { error } = await supabase\n          .from('products')\n          .update(updateData)\n          .eq('ID', product.ID);\n\n        if (error) {\n          console.error('API returned error:', error);\n          throw error;\n        }\n\n        console.log('Product updated successfully with ID:', product.ID);\n        toast({\n          title: \"Success\",\n          description: `\"${product.product_name}\" updated successfully`,\n          duration: 3000\n        });\n      }\n\n      // Reload all products to reflect changes\n      loadAllProducts();\n    } catch (error) {\n      console.error('Error saving product:', error);\n      toast({\n        title: \"Error\",\n        description: `Failed to ${isCreating ? 'create' : 'update'} product: ${error}`,\n        variant: \"destructive\"\n      });\n    } finally {\n      setSavingProductId(null);\n    }\n  };\n\n  // Load more products function\n  const loadMoreProducts = useCallback(() => {\n    if (isLoadingMore || !hasMoreProducts) return;\n\n    setIsLoadingMore(true);\n\n    // Simulate loading delay for smooth UX\n    setTimeout(() => {\n      setLoadedProductsCount((prev) => prev + pageSize);\n      setIsLoadingMore(false);\n    }, 300);\n  }, [isLoadingMore, hasMoreProducts, pageSize]);\n\n  // Intersection Observer for infinite scroll\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        const target = entries[0];\n        if (target.isIntersecting && hasMoreProducts && !isLoadingMore) {\n          loadMoreProducts();\n        }\n      },\n      {\n        threshold: 0.1,\n        rootMargin: '100px'\n      }\n    );\n\n    const currentTrigger = loadingTriggerRef.current;\n    if (currentTrigger) {\n      observer.observe(currentTrigger);\n    }\n\n    return () => {\n      if (currentTrigger) {\n        observer.unobserve(currentTrigger);\n      }\n    };\n  }, [loadMoreProducts, hasMoreProducts, isLoadingMore]);\n\n  const handleViewLogs = (productId: number, productName: string) => {\n    console.log('handleViewLogs called for:', { productId, productName });\n    setSelectedProduct({ id: productId, name: productName });\n    setLogsModalOpen(true);\n    console.log('Logs modal should now be open');\n  };\n\n  // Visual editing enabled for all users\n  const hasEditPermission = true;\n\n  // Calculate display text for showing results\n  const getDisplayText = () => {\n    if (totalCount === 0) return '';\n\n    const currentlyShowing = Math.min(products.length, totalCount);\n\n    if (debouncedSearchTerm) {\n      return `Showing ${currentlyShowing} of ${totalCount} products matching \"${debouncedSearchTerm}\"`;\n    }\n\n    if (hasMoreProducts) {\n      return `Showing ${currentlyShowing} of ${totalCount} products - Scroll down to load more`;\n    }\n\n    return `Showing all ${totalCount} products`;\n  };\n\n  // Get search keywords and check if all match\n  const getSearchData = (text: string) => {\n    if (!debouncedSearchTerm || !text) {\n      return {\n        keywords: [],\n        allMatch: false,\n        highlightComponent: text\n      };\n    }\n\n    const searchKeywords = debouncedSearchTerm.toLowerCase().trim().split(/\\s+/).filter((keyword) => keyword.length > 0);\n    const textLower = text.toLowerCase();\n\n    // Check if all keywords are present in this specific text\n    const allMatch = searchKeywords.every((keyword) => textLower.includes(keyword));\n\n    return {\n      keywords: searchKeywords,\n      allMatch,\n      highlightComponent:\n      <HighlightText\n        text={text}\n        searchTerms={searchKeywords}\n        allMatch={allMatch} data-id=\"1wt725buf\" data-path=\"src/pages/Products/ProductList.tsx\" />\n\n\n    };\n  };\n\n  // Clear search and reset to show all products from serial 01\n  const handleClearSearch = () => {\n    setSearchTerm('');\n    setLoadedProductsCount(pageSize);\n  };\n\n  return (\n    <ResponsiveStack spacing=\"lg\" data-id=\"btwya3lp5\" data-path=\"src/pages/Products/ProductList.tsx\">\n      <Card data-id=\"6w9ert8jz\" data-path=\"src/pages/Products/ProductList.tsx\">\n        <CardHeader data-id=\"5m1mzk7vo\" data-path=\"src/pages/Products/ProductList.tsx\">\n          <div className={`flex items-center ${\n          responsive.isMobile ? 'flex-col space-y-4' : 'justify-between'}`\n          } data-id=\"bowlpcor5\" data-path=\"src/pages/Products/ProductList.tsx\">\n            <div className={responsive.isMobile ? 'text-center' : ''} data-id=\"y8tl5mqr0\" data-path=\"src/pages/Products/ProductList.tsx\">\n              <CardTitle className=\"flex items-center space-x-2\" data-id=\"dv5p6okn6\" data-path=\"src/pages/Products/ProductList.tsx\">\n                <Package className=\"w-6 h-6\" data-id=\"mpvi5de9f\" data-path=\"src/pages/Products/ProductList.tsx\" />\n                <span data-id=\"lssx8ks5s\" data-path=\"src/pages/Products/ProductList.tsx\">Products</span>\n              </CardTitle>\n              <CardDescription className={responsive.isMobile ? 'text-center mt-2' : ''} data-id=\"60hg960xc\" data-path=\"src/pages/Products/ProductList.tsx\">\n                Manage your product inventory - Search across all product fields for similar items\n              </CardDescription>\n            </div>\n            <Button\n              onClick={() => navigate('/products/new')}\n              className={`bg-brand-600 hover:bg-brand-700 text-white ${\n              responsive.isMobile ? 'w-full' : ''}`\n              } data-id=\"yrss8uwf7\" data-path=\"src/pages/Products/ProductList.tsx\">\n              <Plus className=\"w-4 h-4 mr-2\" data-id=\"8mt4ozszr\" data-path=\"src/pages/Products/ProductList.tsx\" />\n              Add Product\n            </Button>\n          </div>\n        </CardHeader>\n        <CardContent data-id=\"cgvu9f3kp\" data-path=\"src/pages/Products/ProductList.tsx\">\n          {/* Search */}\n          <div className={`flex items-center mb-6 ${\n          responsive.isMobile ? 'flex-col space-y-3' : 'space-x-2'}`\n          } data-id=\"xhu140fsq\" data-path=\"src/pages/Products/ProductList.tsx\">\n            <div className={`relative ${\n            responsive.isMobile ? 'w-full' : 'flex-1 max-w-sm'}`\n            } data-id=\"obkwojs7a\" data-path=\"src/pages/Products/ProductList.tsx\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" data-id=\"i4u0f0oyn\" data-path=\"src/pages/Products/ProductList.tsx\" />\n              {searchTerm &&\n              <button\n                onClick={handleClearSearch}\n                className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 w-4 h-4 flex items-center justify-center\"\n                title=\"Clear search\" data-id=\"dkfof42co\" data-path=\"src/pages/Products/ProductList.tsx\">\n\n                  <X className=\"w-4 h-4\" data-id=\"umphay4wr\" data-path=\"src/pages/Products/ProductList.tsx\" />\n                </button>\n              }\n              <Input\n                placeholder={responsive.isMobile ?\n                \"Search products...\" :\n                \"Search products by name, description, category, supplier, barcode...\"\n                }\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className={`pl-10 ${searchTerm ? 'pr-10' : 'pr-3'}`} data-id=\"fokk0lrml\" data-path=\"src/pages/Products/ProductList.tsx\" />\n            </div>\n            {debouncedSearchTerm &&\n            <div className={`flex items-center space-x-2 ${\n            responsive.isMobile ? 'w-full justify-center' : ''}`\n            } data-id=\"vhlhajtb4\" data-path=\"src/pages/Products/ProductList.tsx\">\n                <Badge variant=\"secondary\" data-id=\"lx9c47e6v\" data-path=\"src/pages/Products/ProductList.tsx\">\n                  {totalCount} result{totalCount !== 1 ? 's' : ''} found\n                </Badge>\n                <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={handleClearSearch} data-id=\"0gw3ch1r5\" data-path=\"src/pages/Products/ProductList.tsx\">\n                  Clear\n                </Button>\n              </div>\n            }\n          </div>\n\n          {/* Products Display */}\n          {loading ?\n          <div className=\"space-y-4\" data-id=\"sizuuqbx0\" data-path=\"src/pages/Products/ProductList.tsx\">\n              {[...Array(5)].map((_, i) =>\n            <div key={i} className={`bg-gray-100 rounded animate-pulse ${\n            responsive.isMobile ? 'h-32' : 'h-16'}`\n            } data-id=\"iu3nnrhc1\" data-path=\"src/pages/Products/ProductList.tsx\"></div>\n            )}\n            </div> :\n          products.length === 0 ?\n          <div className=\"text-center py-8\" data-id=\"5to45rrj4\" data-path=\"src/pages/Products/ProductList.tsx\">\n              <Package className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" data-id=\"1pfqp05jo\" data-path=\"src/pages/Products/ProductList.tsx\" />\n              <p className=\"text-gray-500\" data-id=\"pdsgjn99d\" data-path=\"src/pages/Products/ProductList.tsx\">\n                {debouncedSearchTerm ? `No products found matching \"${debouncedSearchTerm}\"` : 'No products found'}\n              </p>\n              <Button\n              variant=\"outline\"\n              className=\"mt-4\"\n              onClick={() => debouncedSearchTerm ? handleClearSearch() : navigate('/products/new')} data-id=\"81ceuepen\" data-path=\"src/pages/Products/ProductList.tsx\">\n                {debouncedSearchTerm ? 'Clear Search' : 'Add Your First Product'}\n              </Button>\n            </div> :\n\n          responsive.isMobile ?\n          <ProductCards\n            products={products}\n            searchTerm={debouncedSearchTerm}\n            onViewLogs={handleViewLogs}\n            onSaveProduct={handleSaveProduct}\n            onDeleteProduct={handleDelete}\n            savingProductId={savingProductId} data-id=\"rxz6bntu1\" data-path=\"src/pages/Products/ProductList.tsx\" /> :\n\n\n          <ResponsiveTable className=\"border rounded-lg overflow-hidden\" data-id=\"9u668xl6m\" data-path=\"src/pages/Products/ProductList.tsx\">\n              <Table data-id=\"parxcetjj\" data-path=\"src/pages/Products/ProductList.tsx\">\n                <TableHeader data-id=\"sywj330th\" data-path=\"src/pages/Products/ProductList.tsx\">\n                  <TableRow data-id=\"reg1nxz9g\" data-path=\"src/pages/Products/ProductList.tsx\">\n                    <TableHead data-id=\"wr0rdxj7u\" data-path=\"src/pages/Products/ProductList.tsx\">Serial</TableHead>\n                    <TableHead data-id=\"xguj479aq\" data-path=\"src/pages/Products/ProductList.tsx\">Product Name</TableHead>\n                    <TableHead data-id=\"7h0kv6j17\" data-path=\"src/pages/Products/ProductList.tsx\">Weight</TableHead>\n                    <TableHead data-id=\"m0mjuvv7q\" data-path=\"src/pages/Products/ProductList.tsx\">Department</TableHead>\n                    <TableHead data-id=\"y38xdhyn7\" data-path=\"src/pages/Products/ProductList.tsx\">Merchant</TableHead>\n                    <TableHead data-id=\"hyjsoza3w\" data-path=\"src/pages/Products/ProductList.tsx\">Last Updated Date</TableHead>\n                    <TableHead data-id=\"035hbg930\" data-path=\"src/pages/Products/ProductList.tsx\">Last Shopping Date</TableHead>\n                    <TableHead data-id=\"th1z3z9u8\" data-path=\"src/pages/Products/ProductList.tsx\">Case Price</TableHead>\n                    <TableHead data-id=\"238n5lgcq\" data-path=\"src/pages/Products/ProductList.tsx\">Unit Per Case</TableHead>\n                    <TableHead data-id=\"1z9kj96eq\" data-path=\"src/pages/Products/ProductList.tsx\">Unit Price</TableHead>\n                    <TableHead data-id=\"yhlio4zkh\" data-path=\"src/pages/Products/ProductList.tsx\">Retail Price</TableHead>\n                    <TableHead data-id=\"uqhntcdih\" data-path=\"src/pages/Products/ProductList.tsx\">Profit Margin</TableHead>\n                    <TableHead data-id=\"bezh8xz0h\" data-path=\"src/pages/Products/ProductList.tsx\">Actions</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody data-id=\"tku466zwk\" data-path=\"src/pages/Products/ProductList.tsx\">\n                  {products.map((product) => {\n                  const formatDate = (dateString: string) => {\n                    if (!dateString) return '-';\n                    try {\n                      return new Date(dateString).toLocaleDateString();\n                    } catch {\n                      return '-';\n                    }\n                  };\n\n                  return (\n                    <TableRow key={product.ID} data-id=\"v193smj46\" data-path=\"src/pages/Products/ProductList.tsx\">\n                        <TableCell className=\"font-medium\" data-id=\"sdowsi684\" data-path=\"src/pages/Products/ProductList.tsx\">{product.serial_number || '-'}</TableCell>\n                        <TableCell data-id=\"e8rd7c27x\" data-path=\"src/pages/Products/ProductList.tsx\">\n                          <div data-id=\"rg0lp6ej4\" data-path=\"src/pages/Products/ProductList.tsx\">\n                            <p className=\"font-medium\" data-id=\"gwy9p1va6\" data-path=\"src/pages/Products/ProductList.tsx\">\n                              {debouncedSearchTerm ?\n                            getSearchData(product.product_name).highlightComponent :\n                            product.product_name\n                            }\n                            </p>\n                            {product.description &&\n                          <p className=\"text-sm text-gray-500 truncate max-w-xs\" data-id=\"hgubcoamt\" data-path=\"src/pages/Products/ProductList.tsx\">\n                                {debouncedSearchTerm ?\n                            getSearchData(product.description).highlightComponent :\n                            product.description\n                            }\n                              </p>\n                          }\n                          </div>\n                        </TableCell>\n                        <TableCell data-id=\"6ktazokh3\" data-path=\"src/pages/Products/ProductList.tsx\">\n                          {product.weight && product.weight > 0 ?\n                        `${product.weight} ${product.weight_unit || 'lb'}` : '-'\n                        }\n                        </TableCell>\n                        <TableCell data-id=\"jzswq8w77\" data-path=\"src/pages/Products/ProductList.tsx\">\n                          <Badge variant=\"outline\" data-id=\"hon8kpyv4\" data-path=\"src/pages/Products/ProductList.tsx\">\n                            {debouncedSearchTerm ?\n                          getSearchData(product.department || 'Convenience Store').highlightComponent :\n                          product.department || 'Convenience Store'\n                          }\n                          </Badge>\n                        </TableCell>\n                        <TableCell data-id=\"tja925sjn\" data-path=\"src/pages/Products/ProductList.tsx\">\n                          {debouncedSearchTerm ?\n                        getSearchData(product.supplier || '-').highlightComponent :\n                        product.supplier || '-'\n                        }\n                        </TableCell>\n                        <TableCell data-id=\"2ed5zq0bu\" data-path=\"src/pages/Products/ProductList.tsx\">{formatDate(product.last_updated_date)}</TableCell>\n                        <TableCell data-id=\"ilzlzxc8k\" data-path=\"src/pages/Products/ProductList.tsx\">{formatDate(product.last_shopping_date)}</TableCell>\n                        <TableCell data-id=\"h9o5wgj8v\" data-path=\"src/pages/Products/ProductList.tsx\">\n                          {product.case_price ? `$${product.case_price.toFixed(2)}` : '-'}\n                        </TableCell>\n                        <TableCell data-id=\"de1cqfqco\" data-path=\"src/pages/Products/ProductList.tsx\">{product.unit_per_case || '-'}</TableCell>\n                        <TableCell data-id=\"8xxfe4zj9\" data-path=\"src/pages/Products/ProductList.tsx\">\n                          {product.unit_price ? `$${product.unit_price.toFixed(2)}` : '-'}\n                        </TableCell>\n                        <TableCell data-id=\"gvcfe406h\" data-path=\"src/pages/Products/ProductList.tsx\">\n                          {product.retail_price ? `$${product.retail_price.toFixed(2)}` : '-'}\n                        </TableCell>\n                        <TableCell data-id=\"7pq6gl3td\" data-path=\"src/pages/Products/ProductList.tsx\">\n                          {(() => {\n                          if (product.unit_price && product.retail_price && product.retail_price > 0) {\n                            const margin = (product.retail_price - product.unit_price) / product.retail_price * 100;\n                            return (\n                              <Badge\n                                variant={margin > 20 ? 'default' : margin > 10 ? 'secondary' : 'destructive'}\n                                className=\"text-xs\" data-id=\"93py8n7ws\" data-path=\"src/pages/Products/ProductList.tsx\">\n                                  {margin.toFixed(1)}%\n                                </Badge>);\n                          }\n                          return '-';\n                        })()} \n                        </TableCell>\n                        <TableCell data-id=\"l9c1abv6q\" data-path=\"src/pages/Products/ProductList.tsx\">\n                          <div className=\"flex items-center space-x-2\" data-id=\"wu5kfr14z\" data-path=\"src/pages/Products/ProductList.tsx\">\n                            <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => {\n                              console.log('Viewing logs for product:', product.ID, product.product_name);\n                              handleViewLogs(product.ID, product.product_name);\n                            }}\n                            title=\"View change logs\" data-id=\"1gq3ylslg\" data-path=\"src/pages/Products/ProductList.tsx\">\n                              <FileText className=\"w-4 h-4\" data-id=\"coqqs1v3x\" data-path=\"src/pages/Products/ProductList.tsx\" />\n                            </Button>\n                            <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => {\n                              console.log('Saving product:', product.ID);\n                              handleSaveProduct(product.ID);\n                            }}\n                            disabled={savingProductId === product.ID}\n                            title=\"Save product\" data-id=\"d6aiaoqcp\" data-path=\"src/pages/Products/ProductList.tsx\">\n                              {savingProductId === product.ID ?\n                            <Loader2 className=\"w-4 h-4 animate-spin\" data-id=\"86whprmfp\" data-path=\"src/pages/Products/ProductList.tsx\" /> :\n\n                            <Save className=\"w-4 h-4\" data-id=\"lkm8ei34z\" data-path=\"src/pages/Products/ProductList.tsx\" />\n                            }\n                            </Button>\n                            <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => {\n                              console.log('Deleting product:', product.ID);\n                              handleDelete(product.ID);\n                            }}\n                            className=\"text-red-600 hover:text-red-700\"\n                            title=\"Delete product\" data-id=\"8q1xzfud0\" data-path=\"src/pages/Products/ProductList.tsx\">\n                              <Trash2 className=\"w-4 h-4\" data-id=\"k497aogsp\" data-path=\"src/pages/Products/ProductList.tsx\" />\n                            </Button>\n                          </div>\n                        </TableCell>\n                      </TableRow>);\n\n                })}\n                </TableBody>\n              </Table>\n            </ResponsiveTable>\n          }\n\n          {/* Loading Status and Infinite Scroll */}\n          {products.length > 0 &&\n          <div className=\"mt-6\" data-id=\"m4aa6rld5\" data-path=\"src/pages/Products/ProductList.tsx\">\n              <p className=\"text-sm text-gray-700 text-center mb-4\" data-id=\"er7e69bp3\" data-path=\"src/pages/Products/ProductList.tsx\">\n                {getDisplayText()}\n              </p>\n              \n              {/* Loading trigger for infinite scroll */}\n              {hasMoreProducts &&\n            <div\n              ref={loadingTriggerRef}\n              className=\"flex items-center justify-center py-8\" data-id=\"hkg96gs2v\" data-path=\"src/pages/Products/ProductList.tsx\">\n\n                  {isLoadingMore ?\n              <div className=\"flex items-center space-x-2 text-gray-500\" data-id=\"9u8xoflva\" data-path=\"src/pages/Products/ProductList.tsx\">\n                      <Loader2 className=\"w-5 h-5 animate-spin\" data-id=\"kbxlmbr8a\" data-path=\"src/pages/Products/ProductList.tsx\" />\n                      <span data-id=\"vi9t8n6nh\" data-path=\"src/pages/Products/ProductList.tsx\">Loading more products...</span>\n                    </div> :\n\n              <div className=\"text-gray-400 text-sm\" data-id=\"agnv83oox\" data-path=\"src/pages/Products/ProductList.tsx\">\n                      Scroll down to load more products\n                    </div>\n              }\n                </div>\n            }\n              \n              {!hasMoreProducts && totalCount > pageSize &&\n            <div className=\"text-center py-4 text-sm text-gray-500\" data-id=\"txy8dbwem\" data-path=\"src/pages/Products/ProductList.tsx\">\n                  You've reached the end - all {totalCount} products loaded\n                </div>\n            }\n            </div>\n          }\n        </CardContent>\n      </Card>\n\n      {/* Product Logs Modal */}\n      {selectedProduct &&\n      <ProductLogs\n        isOpen={logsModalOpen}\n        onClose={() => {\n          setLogsModalOpen(false);\n          setSelectedProduct(null);\n        }}\n        productId={selectedProduct.id}\n        productName={selectedProduct.name} data-id=\"ec6cb0czv\" data-path=\"src/pages/Products/ProductList.tsx\" />\n      }\n    </ResponsiveStack>);\n};\n\nexport default ProductList;"],"names":["useState","useEffect","jsxs","jsx","Fragment","React.useState","React.useEffect","useRef","useCallback"],"mappings":"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"}