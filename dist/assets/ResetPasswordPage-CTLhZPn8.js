import{j as s}from"./ui-D8yO-OxE.js";import{r as a,u as A,h as q}from"./vendor-XhsmhKu1.js";import{u as F,a as T,C as z,b as D,d as M,e as B,f as I,A as H,g as O,L as g,B as b,i as Y}from"./index-DRBMqcxT.js";import{I as j}from"./input-O-h5M17i.js";import{L as v}from"./label-ByQLJlol.js";import{L as $}from"./Logo-DB4J759-.js";import{C as G}from"./check-circle-2-DB0FZP1x.js";import{A as J}from"./alert-circle-BtBhanmN.js";import{E as R}from"./eye-off-CBf48i3l.js";import{E as N}from"./eye-ql1YC_No.js";import{L as K}from"./loader-2-_jRFAYkw.js";const ds=()=>{const[d,y]=a.useState(""),[c,C]=a.useState(""),[x,h]=a.useState(!1),[i,k]=a.useState(!1),[l,S]=a.useState(!1),[m,t]=a.useState(""),[n,o]=a.useState("error"),[Q,w]=a.useState(""),P=A(),[u]=q(),{toast:p}=F(),{updatePassword:L}=T();a.useEffect(()=>{const e=u.get("type");w("recovery")},[u]);const E=async e=>{if(e.preventDefault(),t(""),d!==c){t("Passwords do not match"),o("error");return}if(d.length<6){t("Password must be at least 6 characters long"),o("error");return}h(!0);try{const{error:r}=await L(d);r?(t(r.message),o("error"),p({title:"Error",description:r.message,variant:"destructive"})):(t("Password reset successfully! Redirecting to login..."),o("success"),p({title:"Success",description:"Password reset successfully"}),setTimeout(()=>{P("/login")},3e3))}catch(r){const f=r instanceof Error?r.message:"Failed to reset password";t(f),o("error"),p({title:"Error",description:f,variant:"destructive"})}finally{h(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center p-4","data-id":"dpdv55alk","data-path":"src/pages/ResetPasswordPage.tsx",children:s.jsxs("div",{className:"w-full max-w-md","data-id":"3srcy9393","data-path":"src/pages/ResetPasswordPage.tsx",children:[s.jsx("div",{className:"text-center mb-8","data-id":"968fyjjtt","data-path":"src/pages/ResetPasswordPage.tsx",children:s.jsxs("div",{className:"flex flex-col items-center","data-id":"nw3vmu7wh","data-path":"src/pages/ResetPasswordPage.tsx",children:[s.jsx("div",{className:"mb-4 transform hover:scale-105 transition-transform duration-200","data-id":"oopupxh29","data-path":"src/pages/ResetPasswordPage.tsx",children:s.jsx($,{size:"xl",showText:!1,className:"mb-4","data-id":"wjkr3op05","data-path":"src/pages/ResetPasswordPage.tsx"})}),s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-800 to-indigo-800 bg-clip-text text-transparent mb-2","data-id":"ix1tvevg8","data-path":"src/pages/ResetPasswordPage.tsx",children:"DFS Manager Portal"}),s.jsx("p",{className:"text-slate-600 font-medium","data-id":"2laq9ll50","data-path":"src/pages/ResetPasswordPage.tsx",children:"Reset Your Password"})]})}),s.jsxs(z,{className:"shadow-2xl border-0 backdrop-blur-sm bg-white/95","data-id":"045tlkg86","data-path":"src/pages/ResetPasswordPage.tsx",children:[s.jsxs(D,{className:"space-y-1 pb-6","data-id":"ddnsbfvo5","data-path":"src/pages/ResetPasswordPage.tsx",children:[s.jsx(M,{className:"text-2xl font-bold text-center text-slate-800","data-id":"osyjg8yv0","data-path":"src/pages/ResetPasswordPage.tsx",children:"Set New Password"}),s.jsx(B,{className:"text-center text-slate-600","data-id":"fdgtx5ea9","data-path":"src/pages/ResetPasswordPage.tsx",children:"Enter your new password below"})]}),s.jsxs(I,{"data-id":"r3rebjnsn","data-path":"src/pages/ResetPasswordPage.tsx",children:[m&&s.jsxs(H,{className:`mb-4 ${n==="success"?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,"data-id":"qajtm8vvb","data-path":"src/pages/ResetPasswordPage.tsx",children:[n==="success"?s.jsx(G,{className:"h-4 w-4 text-green-600","data-id":"fh2t41ydw","data-path":"src/pages/ResetPasswordPage.tsx"}):s.jsx(J,{className:"h-4 w-4 text-red-600","data-id":"9apgywdll","data-path":"src/pages/ResetPasswordPage.tsx"}),s.jsx(O,{className:n==="success"?"text-green-800":"text-red-800","data-id":"10xeeuax8","data-path":"src/pages/ResetPasswordPage.tsx",children:m})]}),s.jsxs("form",{onSubmit:E,className:"space-y-4","data-id":"d97tkztlr","data-path":"src/pages/ResetPasswordPage.tsx",children:[s.jsxs("div",{className:"space-y-2","data-id":"42v14imgh","data-path":"src/pages/ResetPasswordPage.tsx",children:[s.jsx(v,{htmlFor:"password",className:"text-slate-700 font-medium","data-id":"74qwl0skr","data-path":"src/pages/ResetPasswordPage.tsx",children:"New Password"}),s.jsxs("div",{className:"relative","data-id":"b3e7hddrf","data-path":"src/pages/ResetPasswordPage.tsx",children:[s.jsx(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4","data-id":"lfx3443mr","data-path":"src/pages/ResetPasswordPage.tsx"}),s.jsx(j,{id:"password",type:i?"text":"password",placeholder:"Enter your new password",value:d,onChange:e=>y(e.target.value),required:!0,minLength:6,className:"h-11 pl-10 pr-10 border-slate-200 focus:border-blue-500 focus:ring-blue-500","data-id":"zc6r88c9n","data-path":"src/pages/ResetPasswordPage.tsx"}),s.jsx("button",{type:"button",onClick:()=>k(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600","data-id":"ysc1hlj1y","data-path":"src/pages/ResetPasswordPage.tsx",children:i?s.jsx(R,{className:"h-4 w-4","data-id":"h13dv9gjs","data-path":"src/pages/ResetPasswordPage.tsx"}):s.jsx(N,{className:"h-4 w-4","data-id":"du9c3r877","data-path":"src/pages/ResetPasswordPage.tsx"})})]}),s.jsx("p",{className:"text-xs text-slate-500","data-id":"i520b802e","data-path":"src/pages/ResetPasswordPage.tsx",children:"Password must be at least 6 characters long"})]}),s.jsxs("div",{className:"space-y-2","data-id":"da1l49887","data-path":"src/pages/ResetPasswordPage.tsx",children:[s.jsx(v,{htmlFor:"confirmPassword",className:"text-slate-700 font-medium","data-id":"0u659tl6w","data-path":"src/pages/ResetPasswordPage.tsx",children:"Confirm New Password"}),s.jsxs("div",{className:"relative","data-id":"0wrnkkphx","data-path":"src/pages/ResetPasswordPage.tsx",children:[s.jsx(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4","data-id":"z6wtvjpi2","data-path":"src/pages/ResetPasswordPage.tsx"}),s.jsx(j,{id:"confirmPassword",type:l?"text":"password",placeholder:"Confirm your new password",value:c,onChange:e=>C(e.target.value),required:!0,className:"h-11 pl-10 pr-10 border-slate-200 focus:border-blue-500 focus:ring-blue-500","data-id":"eur1s0gtr","data-path":"src/pages/ResetPasswordPage.tsx"}),s.jsx("button",{type:"button",onClick:()=>S(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600","data-id":"zp9jslwws","data-path":"src/pages/ResetPasswordPage.tsx",children:l?s.jsx(R,{className:"h-4 w-4","data-id":"2f9yog8zf","data-path":"src/pages/ResetPasswordPage.tsx"}):s.jsx(N,{className:"h-4 w-4","data-id":"bfx19cng0","data-path":"src/pages/ResetPasswordPage.tsx"})})]})]}),s.jsx(b,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium transition-all duration-200 transform hover:scale-[1.02]",disabled:x||!d||!c,"data-id":"75pjsh8tp","data-path":"src/pages/ResetPasswordPage.tsx",children:x?s.jsxs(s.Fragment,{children:[s.jsx(K,{className:"mr-2 h-4 w-4 animate-spin","data-id":"wa3kktfrr","data-path":"src/pages/ResetPasswordPage.tsx"}),"Resetting Password..."]}):s.jsxs(s.Fragment,{children:[s.jsx(g,{className:"mr-2 h-4 w-4","data-id":"3law60b5g","data-path":"src/pages/ResetPasswordPage.tsx"}),"Reset Password"]})})]}),s.jsx("div",{className:"mt-6 text-center","data-id":"jga3b8h6t","data-path":"src/pages/ResetPasswordPage.tsx",children:s.jsxs(b,{variant:"link",className:"text-blue-600 hover:text-blue-800",onClick:()=>P("/login"),"data-id":"nx6c1tfhq","data-path":"src/pages/ResetPasswordPage.tsx",children:[s.jsx(Y,{className:"mr-2 h-4 w-4","data-id":"s1ttobi2d","data-path":"src/pages/ResetPasswordPage.tsx"}),"Back to Login"]})})]})]}),s.jsx("div",{className:"text-center mt-6 text-sm text-slate-500","data-id":"xxtqp793b","data-path":"src/pages/ResetPasswordPage.tsx",children:s.jsx("p",{"data-id":"tcm9vb6sk","data-path":"src/pages/ResetPasswordPage.tsx",children:"Â© 2024 DFS Management Systems. All rights reserved."})})]})})};export{ds as default};
//# sourceMappingURL=ResetPasswordPage-CTLhZPn8.js.map
