import{S as c,E as y,a as m}from"./AuthContext-Bo8HSNc2.js";const l={11725:"user_profiles",11726:"products",11727:"employees",11728:"salary",11729:"vendors",11730:"orders",11731:"licenses",12356:"sales_reports",12599:"stations",12612:"sms_contacts",12613:"sms_history",12640:"sms_providers",12641:"sms_templates",12642:"alert_schedules",12706:"audit_logs",11756:"product_logs",12196:"notifications",12611:"sms_settings"},h=(u=[])=>u.map(r=>{const{name:t,op:a,value:e}=r;let s="eq";switch(a){case"Equal":s="eq";break;case"StringContains":s="ilike";break;case"GreaterThan":s="gt";break;case"LessThan":s="lt";break;case"GreaterThanOrEqual":s="gte";break;case"LessThanOrEqual":s="lte";break;default:s="eq"}return{column:t,operator:s,value:a==="StringContains"?`%${e}%`:e}});class b{static async tablePage(r,t={}){const{PageNo:a=1,PageSize:e=100,OrderByField:s="id",IsAsc:i=!1,Filters:n=[],Select:p="*"}=t,d=l[r]||r.toString(),E=h(n);try{const{data:o,count:f,error:g}=await c.readRecords(d,{page:a,pageSize:e,orderBy:s,ascending:i,filters:E,select:p});return g?{data:null,error:g}:{data:{List:o,VirtualCount:f},error:null}}catch(o){return console.error(`Error in tablePage for ${d}:`,o),{data:null,error:o instanceof Error?o.message:"Unknown error"}}}static async tableCreate(r,t){const a=l[r]||r.toString();try{return{data:await c.createRecord(a,t),error:null}}catch(e){return console.error(`Error in tableCreate for ${a}:`,e),{data:null,error:e instanceof Error?e.message:"Unknown error"}}}static async tableUpdate(r,t){const a=l[r]||r.toString(),{ID:e,id:s=e,...i}=t;try{return await c.updateRecord(a,s,i)}catch(n){return console.error(`Error in tableUpdate for ${a}:`,n),{data:null,error:n instanceof Error?n.message:"Unknown error"}}}static async tableDelete(r,{ID:t}){const a=l[r]||r.toString();try{return await c.deleteRecord(a,t)}catch(e){return console.error(`Error in tableDelete for ${a}:`,e),{error:e instanceof Error?e.message:"Unknown error"}}}static async upload({filename:r,file:t}){var a;try{const e=`${Date.now()}_${r}`,s=await c.uploadFile("uploads",e,t);return s.error?{data:null,error:s.error}:{data:(a=s.data)==null?void 0:a.path,error:null}}catch(e){return console.error("Error in upload:",e),{data:null,error:e instanceof Error?e.message:"Unknown error"}}}static async sendEmail(r){try{return await y.sendEmail(r)}catch(t){return console.error("Error in sendEmail:",t),{data:null,error:t instanceof Error?t.message:"Unknown error"}}}static async register(r){try{return await m.register(r)}catch(t){return console.error("Error in register:",t),{data:null,error:t instanceof Error?t.message:"Unknown error"}}}static async getUserInfo(){try{return await m.getCurrentUser()}catch(r){return console.error("Error in getUserInfo:",r),{data:null,error:r instanceof Error?r.message:"Unknown error"}}}}export{b as D};
//# sourceMappingURL=databaseService-De-l3oBE.js.map
